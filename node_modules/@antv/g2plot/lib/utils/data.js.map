{"version":3,"file":"data.js","sourceRoot":"","sources":["../../src/utils/data.ts"],"names":[],"mappings":";;;AAAA,mCAA2C;AAG3C;;;;GAIG;AACH,SAAgB,iBAAiB,CAAC,IAAU,EAAE,KAAa;IACzD,UAAU;IACV,IAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,UAAC,KAAY;QAC1C,IAAM,CAAC,GAAG,UAAG,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9B,OAAO,eAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,IAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,UAAC,KAAY,IAAK,OAAA,UAAG,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,EAAxB,CAAwB,CAAC,CAAC;IAC5E,IAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,UAAC,KAAY,IAAK,OAAA,UAAG,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,EAAxB,CAAwB,CAAC,CAAC;IAE5E,oFAAoF;IACpF,IAAI,MAAM,EAAE;QACV,OAAO,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;KACnB;IACD,IAAI,MAAM,EAAE;QACV,OAAO,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;KACnB;IACD,OAAO,EAAE,CAAC;AACZ,CAAC;AAlBD,8CAkBC","sourcesContent":["import { get, isNumber } from '@antv/util';\nimport { Data, Datum, Meta } from '../types';\n\n/**\n * 查看数据是否是全负数、或者全正数\n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  // 过滤出数字数据\n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  // 目前是增量更新，对 { min: 0, max: undefined } 进行 update({ max: 0 }) 会得到 { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n"]}
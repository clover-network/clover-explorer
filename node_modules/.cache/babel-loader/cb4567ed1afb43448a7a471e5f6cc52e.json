{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_function_1 = require(\"./is-function\");\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\n\n\nexports.default = function (f, resolver) {\n  if (!is_function_1.default(f)) {\n    throw new TypeError('Expected a function');\n  }\n\n  var memoized = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    } // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n\n\n    var key = resolver ? resolver.apply(this, args) : args[0];\n    var cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n\n    var result = f.apply(this, args); // 缓存起来\n\n    cache.set(key, result);\n    return result;\n  };\n\n  memoized.cache = new Map();\n  return memoized;\n};","map":{"version":3,"sources":["../src/memoize.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;AAEA;;;;;AAKG;;;AACH,OAAA,CAAA,OAAA,GAAe,UAAC,CAAD,EAAc,QAAd,EAAmD;AAChE,MAAI,CAAC,aAAA,CAAA,OAAA,CAAW,CAAX,CAAL,EAAoB;AAClB,UAAM,IAAI,SAAJ,CAAc,qBAAd,CAAN;AACD;;AAED,MAAM,QAAQ,GAAG,YAAA;AAAS,QAAA,IAAA,GAAA,EAAA;;SAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAO;AAAP,MAAA,IAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;KAAT,CACf;;;AACA,QAAM,GAAG,GAAG,QAAQ,GAAG,QAAQ,CAAC,KAAT,CAAe,IAAf,EAAqB,IAArB,CAAH,GAAgC,IAAI,CAAC,CAAD,CAAxD;AACA,QAAM,KAAK,GAAG,QAAQ,CAAC,KAAvB;;AAEA,QAAI,KAAK,CAAC,GAAN,CAAU,GAAV,CAAJ,EAAoB;AAClB,aAAO,KAAK,CAAC,GAAN,CAAU,GAAV,CAAP;AACD;;AACD,QAAM,MAAM,GAAG,CAAC,CAAC,KAAF,CAAQ,IAAR,EAAc,IAAd,CAAf,CARe,CASf;;AACA,IAAA,KAAK,CAAC,GAAN,CAAU,GAAV,EAAe,MAAf;AACA,WAAO,MAAP;AACD,GAZD;;AAcA,EAAA,QAAQ,CAAC,KAAT,GAAiB,IAAI,GAAJ,EAAjB;AAEA,SAAO,QAAP;AACD,CAtBD","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_function_1 = require(\"./is-function\");\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\nexports.default = (function (f, resolver) {\n    if (!is_function_1.default(f)) {\n        throw new TypeError('Expected a function');\n    }\n    var memoized = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n        var key = resolver ? resolver.apply(this, args) : args[0];\n        var cache = memoized.cache;\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        var result = f.apply(this, args);\n        // 缓存起来\n        cache.set(key, result);\n        return result;\n    };\n    memoized.cache = new Map();\n    return memoized;\n});\n//# sourceMappingURL=memoize.js.map"]},"metadata":{},"sourceType":"script"}
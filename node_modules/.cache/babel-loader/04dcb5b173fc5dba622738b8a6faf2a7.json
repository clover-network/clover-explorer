{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nexport default function PopupMixin(getModal, platformProps) {\n  var _a;\n\n  return _a = function (_React$Component) {\n    _inherits(_a, _React$Component);\n\n    function _a(props) {\n      _classCallCheck(this, _a);\n\n      var _this = _possibleConstructorReturn(this, (_a.__proto__ || Object.getPrototypeOf(_a)).call(this, props));\n\n      _this.onPickerChange = function (pickerValue) {\n        if (_this.state.pickerValue !== pickerValue) {\n          _this.setState({\n            pickerValue: pickerValue\n          });\n\n          var _this$props = _this.props,\n              picker = _this$props.picker,\n              pickerValueChangeProp = _this$props.pickerValueChangeProp;\n\n          if (picker && picker.props[pickerValueChangeProp]) {\n            picker.props[pickerValueChangeProp](pickerValue);\n          }\n        }\n      };\n\n      _this.saveRef = function (picker) {\n        _this.picker = picker;\n      };\n\n      _this.onTriggerClick = function (e) {\n        var child = _this.props.children;\n        var childProps = child.props || {};\n\n        if (childProps[_this.props.triggerType]) {\n          childProps[_this.props.triggerType](e);\n        }\n\n        _this.fireVisibleChange(!_this.state.visible);\n      };\n\n      _this.onOk = function () {\n        _this.props.onOk(_this.picker && _this.picker.getValue());\n\n        _this.fireVisibleChange(false);\n      };\n\n      _this.getContent = function () {\n        if (_this.props.picker) {\n          var _React$cloneElement;\n\n          var pickerValue = _this.state.pickerValue;\n\n          if (pickerValue === null) {\n            pickerValue = _this.props.value;\n          }\n\n          return React.cloneElement(_this.props.picker, (_React$cloneElement = {}, _defineProperty(_React$cloneElement, _this.props.pickerValueProp, pickerValue), _defineProperty(_React$cloneElement, _this.props.pickerValueChangeProp, _this.onPickerChange), _defineProperty(_React$cloneElement, 'ref', _this.saveRef), _React$cloneElement));\n        } else {\n          return _this.props.content;\n        }\n      };\n\n      _this.onDismiss = function () {\n        _this.props.onDismiss();\n\n        _this.fireVisibleChange(false);\n      };\n\n      _this.hide = function () {\n        _this.fireVisibleChange(false);\n      };\n\n      _this.state = {\n        pickerValue: 'value' in _this.props ? _this.props.value : null,\n        visible: _this.props.visible || false\n      };\n      return _this;\n    }\n\n    _createClass(_a, [{\n      key: 'UNSAFE_componentWillReceiveProps',\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        if ('value' in nextProps) {\n          this.setState({\n            pickerValue: nextProps.value\n          });\n        }\n\n        if ('visible' in nextProps) {\n          this.setVisibleState(nextProps.visible);\n        }\n      }\n    }, {\n      key: 'setVisibleState',\n      value: function setVisibleState(visible) {\n        this.setState({\n          visible: visible\n        });\n\n        if (!visible) {\n          this.setState({\n            pickerValue: null\n          });\n        }\n      }\n    }, {\n      key: 'fireVisibleChange',\n      value: function fireVisibleChange(visible) {\n        if (this.state.visible !== visible) {\n          if (!('visible' in this.props)) {\n            this.setVisibleState(visible);\n          }\n\n          this.props.onVisibleChange(visible);\n        }\n      }\n    }, {\n      key: 'getRender',\n      value: function getRender() {\n        var props = this.props;\n        var children = props.children;\n\n        if (!children) {\n          return getModal(props, this.state.visible, {\n            getContent: this.getContent,\n            onOk: this.onOk,\n            hide: this.hide,\n            onDismiss: this.onDismiss\n          });\n        }\n\n        var _props = this.props,\n            WrapComponent = _props.WrapComponent,\n            disabled = _props.disabled;\n        var child = children;\n        var newChildProps = {};\n\n        if (!disabled) {\n          newChildProps[props.triggerType] = this.onTriggerClick;\n        }\n\n        return React.createElement(WrapComponent, {\n          style: props.wrapStyle\n        }, React.cloneElement(child, newChildProps), getModal(props, this.state.visible, {\n          getContent: this.getContent,\n          onOk: this.onOk,\n          hide: this.hide,\n          onDismiss: this.onDismiss\n        }));\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return this.getRender();\n      }\n    }]);\n\n    return _a;\n  }(React.Component), _a.defaultProps = _extends({\n    onVisibleChange: function onVisibleChange(_) {},\n    okText: 'Ok',\n    dismissText: 'Dismiss',\n    title: '',\n    onOk: function onOk(_) {},\n    onDismiss: function onDismiss() {}\n  }, platformProps), _a;\n}","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@ant-design/react-native/es/picker/PopupMixin.js"],"names":["_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PopupMixin","getModal","platformProps","_a","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","onPickerChange","pickerValue","state","setState","_this$props","picker","pickerValueChangeProp","saveRef","onTriggerClick","e","child","children","childProps","triggerType","fireVisibleChange","visible","onOk","getValue","getContent","_React$cloneElement","value","cloneElement","pickerValueProp","content","onDismiss","hide","key","UNSAFE_componentWillReceiveProps","nextProps","setVisibleState","onVisibleChange","getRender","_props","WrapComponent","disabled","newChildProps","createElement","style","wrapStyle","render","Component","defaultProps","_","okText","dismissText","title"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nexport default function PopupMixin(getModal, platformProps) {\n    var _a;\n    return _a = function (_React$Component) {\n        _inherits(_a, _React$Component);\n\n        function _a(props) {\n            _classCallCheck(this, _a);\n\n            var _this = _possibleConstructorReturn(this, (_a.__proto__ || Object.getPrototypeOf(_a)).call(this, props));\n\n            _this.onPickerChange = function (pickerValue) {\n                if (_this.state.pickerValue !== pickerValue) {\n                    _this.setState({\n                        pickerValue: pickerValue\n                    });\n                    var _this$props = _this.props,\n                        picker = _this$props.picker,\n                        pickerValueChangeProp = _this$props.pickerValueChangeProp;\n\n                    if (picker && picker.props[pickerValueChangeProp]) {\n                        picker.props[pickerValueChangeProp](pickerValue);\n                    }\n                }\n            };\n            _this.saveRef = function (picker) {\n                _this.picker = picker;\n            };\n            _this.onTriggerClick = function (e) {\n                var child = _this.props.children;\n                var childProps = child.props || {};\n                if (childProps[_this.props.triggerType]) {\n                    childProps[_this.props.triggerType](e);\n                }\n                _this.fireVisibleChange(!_this.state.visible);\n            };\n            _this.onOk = function () {\n                _this.props.onOk(_this.picker && _this.picker.getValue());\n                _this.fireVisibleChange(false);\n            };\n            _this.getContent = function () {\n                if (_this.props.picker) {\n                    var _React$cloneElement;\n\n                    var pickerValue = _this.state.pickerValue;\n\n                    if (pickerValue === null) {\n                        pickerValue = _this.props.value;\n                    }\n                    return React.cloneElement(_this.props.picker, (_React$cloneElement = {}, _defineProperty(_React$cloneElement, _this.props.pickerValueProp, pickerValue), _defineProperty(_React$cloneElement, _this.props.pickerValueChangeProp, _this.onPickerChange), _defineProperty(_React$cloneElement, 'ref', _this.saveRef), _React$cloneElement));\n                } else {\n                    return _this.props.content;\n                }\n            };\n            _this.onDismiss = function () {\n                _this.props.onDismiss();\n                _this.fireVisibleChange(false);\n            };\n            _this.hide = function () {\n                _this.fireVisibleChange(false);\n            };\n            _this.state = {\n                pickerValue: 'value' in _this.props ? _this.props.value : null,\n                visible: _this.props.visible || false\n            };\n            return _this;\n        }\n\n        _createClass(_a, [{\n            key: 'UNSAFE_componentWillReceiveProps',\n            value: function UNSAFE_componentWillReceiveProps(nextProps) {\n                if ('value' in nextProps) {\n                    this.setState({\n                        pickerValue: nextProps.value\n                    });\n                }\n                if ('visible' in nextProps) {\n                    this.setVisibleState(nextProps.visible);\n                }\n            }\n        }, {\n            key: 'setVisibleState',\n            value: function setVisibleState(visible) {\n                this.setState({\n                    visible: visible\n                });\n                if (!visible) {\n                    this.setState({\n                        pickerValue: null\n                    });\n                }\n            }\n        }, {\n            key: 'fireVisibleChange',\n            value: function fireVisibleChange(visible) {\n                if (this.state.visible !== visible) {\n                    if (!('visible' in this.props)) {\n                        this.setVisibleState(visible);\n                    }\n                    this.props.onVisibleChange(visible);\n                }\n            }\n        }, {\n            key: 'getRender',\n            value: function getRender() {\n                var props = this.props;\n                var children = props.children;\n                if (!children) {\n                    return getModal(props, this.state.visible, {\n                        getContent: this.getContent,\n                        onOk: this.onOk,\n                        hide: this.hide,\n                        onDismiss: this.onDismiss\n                    });\n                }\n                var _props = this.props,\n                    WrapComponent = _props.WrapComponent,\n                    disabled = _props.disabled;\n\n                var child = children;\n                var newChildProps = {};\n                if (!disabled) {\n                    newChildProps[props.triggerType] = this.onTriggerClick;\n                }\n                return React.createElement(\n                    WrapComponent,\n                    { style: props.wrapStyle },\n                    React.cloneElement(child, newChildProps),\n                    getModal(props, this.state.visible, {\n                        getContent: this.getContent,\n                        onOk: this.onOk,\n                        hide: this.hide,\n                        onDismiss: this.onDismiss\n                    })\n                );\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                return this.getRender();\n            }\n        }]);\n\n        return _a;\n    }(React.Component), _a.defaultProps = _extends({\n        onVisibleChange: function onVisibleChange(_) {},\n        okText: 'Ok', dismissText: 'Dismiss', title: '', onOk: function onOk(_) {},\n        onDismiss: function onDismiss() {}\n    }, platformProps), _a;\n}"]},"metadata":{},"sourceType":"module"}
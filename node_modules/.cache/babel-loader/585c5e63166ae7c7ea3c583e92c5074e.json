{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\"use strict\";\n\nexports.__esModule = true;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar clazz_1 = require(\"./clazz\");\n\nvar log_1 = require(\"./log\");\n\nvar base = Math.round(Math.random() * 10);\n\nfunction getUID(type) {\n  return [type || '', base++].join('_');\n}\n\nexports.getUID = getUID;\n\nfunction enableSubTypeDefaulter(target) {\n  var subTypeDefaulters = {};\n\n  target.registerSubTypeDefaulter = function (componentType, defaulter) {\n    var componentTypeInfo = clazz_1.parseClassType(componentType);\n    subTypeDefaulters[componentTypeInfo.main] = defaulter;\n  };\n\n  target.determineSubType = function (componentType, option) {\n    var type = option.type;\n\n    if (!type) {\n      var componentTypeMain = clazz_1.parseClassType(componentType).main;\n\n      if (target.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n        type = subTypeDefaulters[componentTypeMain](option);\n      }\n    }\n\n    return type;\n  };\n}\n\nexports.enableSubTypeDefaulter = enableSubTypeDefaulter;\n\nfunction enableTopologicalTravel(entity, dependencyGetter) {\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n    if (!targetNameList.length) {\n      return;\n    }\n\n    var result = makeDepndencyGraph(fullNameList);\n    var graph = result.graph;\n    var noEntryList = result.noEntryList;\n    var targetNameSet = {};\n    zrUtil.each(targetNameList, function (name) {\n      targetNameSet[name] = true;\n    });\n\n    while (noEntryList.length) {\n      var currComponentType = noEntryList.pop();\n      var currVertex = graph[currComponentType];\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\n\n      if (isInTargetNameSet) {\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\n        delete targetNameSet[currComponentType];\n      }\n\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n    }\n\n    zrUtil.each(targetNameSet, function () {\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = log_1.makePrintable('Circle dependency may exists: ', targetNameSet, targetNameList, fullNameList);\n      }\n\n      throw new Error(errMsg);\n    });\n\n    function removeEdge(succComponentType) {\n      graph[succComponentType].entryCount--;\n\n      if (graph[succComponentType].entryCount === 0) {\n        noEntryList.push(succComponentType);\n      }\n    }\n\n    function removeEdgeAndAdd(succComponentType) {\n      targetNameSet[succComponentType] = true;\n      removeEdge(succComponentType);\n    }\n  };\n\n  function makeDepndencyGraph(fullNameList) {\n    var graph = {};\n    var noEntryList = [];\n    zrUtil.each(fullNameList, function (name) {\n      var thisItem = createDependencyGraphItem(graph, name);\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n      thisItem.entryCount = availableDeps.length;\n\n      if (thisItem.entryCount === 0) {\n        noEntryList.push(name);\n      }\n\n      zrUtil.each(availableDeps, function (dependentName) {\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\n          thisItem.predecessor.push(dependentName);\n        }\n\n        var thatItem = createDependencyGraphItem(graph, dependentName);\n\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\n          thatItem.successor.push(name);\n        }\n      });\n    });\n    return {\n      graph: graph,\n      noEntryList: noEntryList\n    };\n  }\n\n  function createDependencyGraphItem(graph, name) {\n    if (!graph[name]) {\n      graph[name] = {\n        predecessor: [],\n        successor: []\n      };\n    }\n\n    return graph[name];\n  }\n\n  function getAvailableDependencies(originalDeps, fullNameList) {\n    var availableDeps = [];\n    zrUtil.each(originalDeps, function (dep) {\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n    });\n    return availableDeps;\n  }\n}\n\nexports.enableTopologicalTravel = enableTopologicalTravel;\n\nfunction inheritDefaultOption(superOption, subOption) {\n  return zrUtil.merge(zrUtil.merge({}, superOption, true), subOption, true);\n}\n\nexports.inheritDefaultOption = inheritDefaultOption;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/echarts/lib/util/component.js"],"names":["exports","__esModule","zrUtil","require","clazz_1","log_1","base","Math","round","random","getUID","type","join","enableSubTypeDefaulter","target","subTypeDefaulters","registerSubTypeDefaulter","componentType","defaulter","componentTypeInfo","parseClassType","main","determineSubType","option","componentTypeMain","hasSubTypes","enableTopologicalTravel","entity","dependencyGetter","topologicalTravel","targetNameList","fullNameList","callback","context","length","result","makeDepndencyGraph","graph","noEntryList","targetNameSet","each","name","currComponentType","pop","currVertex","isInTargetNameSet","call","originalDeps","slice","successor","removeEdgeAndAdd","removeEdge","errMsg","process","env","NODE_ENV","makePrintable","Error","succComponentType","entryCount","push","thisItem","createDependencyGraphItem","availableDeps","getAvailableDependencies","dependentName","indexOf","predecessor","thatItem","dep","inheritDefaultOption","superOption","subOption","merge"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n\"use strict\";\n\nexports.__esModule = true;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar clazz_1 = require(\"./clazz\");\n\nvar log_1 = require(\"./log\");\n\nvar base = Math.round(Math.random() * 10);\n\nfunction getUID(type) {\n  return [type || '', base++].join('_');\n}\n\nexports.getUID = getUID;\n\nfunction enableSubTypeDefaulter(target) {\n  var subTypeDefaulters = {};\n\n  target.registerSubTypeDefaulter = function (componentType, defaulter) {\n    var componentTypeInfo = clazz_1.parseClassType(componentType);\n    subTypeDefaulters[componentTypeInfo.main] = defaulter;\n  };\n\n  target.determineSubType = function (componentType, option) {\n    var type = option.type;\n\n    if (!type) {\n      var componentTypeMain = clazz_1.parseClassType(componentType).main;\n\n      if (target.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n        type = subTypeDefaulters[componentTypeMain](option);\n      }\n    }\n\n    return type;\n  };\n}\n\nexports.enableSubTypeDefaulter = enableSubTypeDefaulter;\n\nfunction enableTopologicalTravel(entity, dependencyGetter) {\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n    if (!targetNameList.length) {\n      return;\n    }\n\n    var result = makeDepndencyGraph(fullNameList);\n    var graph = result.graph;\n    var noEntryList = result.noEntryList;\n    var targetNameSet = {};\n    zrUtil.each(targetNameList, function (name) {\n      targetNameSet[name] = true;\n    });\n\n    while (noEntryList.length) {\n      var currComponentType = noEntryList.pop();\n      var currVertex = graph[currComponentType];\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\n\n      if (isInTargetNameSet) {\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\n        delete targetNameSet[currComponentType];\n      }\n\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n    }\n\n    zrUtil.each(targetNameSet, function () {\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = log_1.makePrintable('Circle dependency may exists: ', targetNameSet, targetNameList, fullNameList);\n      }\n\n      throw new Error(errMsg);\n    });\n\n    function removeEdge(succComponentType) {\n      graph[succComponentType].entryCount--;\n\n      if (graph[succComponentType].entryCount === 0) {\n        noEntryList.push(succComponentType);\n      }\n    }\n\n    function removeEdgeAndAdd(succComponentType) {\n      targetNameSet[succComponentType] = true;\n      removeEdge(succComponentType);\n    }\n  };\n\n  function makeDepndencyGraph(fullNameList) {\n    var graph = {};\n    var noEntryList = [];\n    zrUtil.each(fullNameList, function (name) {\n      var thisItem = createDependencyGraphItem(graph, name);\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n      thisItem.entryCount = availableDeps.length;\n\n      if (thisItem.entryCount === 0) {\n        noEntryList.push(name);\n      }\n\n      zrUtil.each(availableDeps, function (dependentName) {\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\n          thisItem.predecessor.push(dependentName);\n        }\n\n        var thatItem = createDependencyGraphItem(graph, dependentName);\n\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\n          thatItem.successor.push(name);\n        }\n      });\n    });\n    return {\n      graph: graph,\n      noEntryList: noEntryList\n    };\n  }\n\n  function createDependencyGraphItem(graph, name) {\n    if (!graph[name]) {\n      graph[name] = {\n        predecessor: [],\n        successor: []\n      };\n    }\n\n    return graph[name];\n  }\n\n  function getAvailableDependencies(originalDeps, fullNameList) {\n    var availableDeps = [];\n    zrUtil.each(originalDeps, function (dep) {\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n    });\n    return availableDeps;\n  }\n}\n\nexports.enableTopologicalTravel = enableTopologicalTravel;\n\nfunction inheritDefaultOption(superOption, subOption) {\n  return zrUtil.merge(zrUtil.merge({}, superOption, true), subOption, true);\n}\n\nexports.inheritDefaultOption = inheritDefaultOption;"]},"metadata":{},"sourceType":"script"}
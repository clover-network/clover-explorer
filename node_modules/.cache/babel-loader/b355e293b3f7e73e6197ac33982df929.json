{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport { Platform, StyleSheet, Text, TouchableOpacity, TouchableWithoutFeedback, View } from 'react-native';\nimport Icon from '../icon';\nimport { WithTheme } from '../style';\nimport Input from './Input';\nimport InputItemStyles from './style/index';\n\nvar noop = function noop() {};\n\nfunction normalizeValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n\n  return value;\n}\n\nvar InputItem = function (_React$Component) {\n  _inherits(InputItem, _React$Component);\n\n  function InputItem() {\n    _classCallCheck(this, InputItem);\n\n    var _this = _possibleConstructorReturn(this, (InputItem.__proto__ || Object.getPrototypeOf(InputItem)).apply(this, arguments));\n\n    _this.state = {\n      focus: false\n    };\n\n    _this.onChange = function (text) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          type = _this$props.type;\n      var maxLength = _this.props.maxLength;\n\n      switch (type) {\n        case 'bankCard':\n          text = text.replace(/\\D/g, '');\n\n          if (maxLength > 0) {\n            text = text.substring(0, maxLength);\n          }\n\n          text = text.replace(/\\D/g, '').replace(/(....)(?=.)/g, '$1 ');\n          break;\n\n        case 'phone':\n          text = text.replace(/\\D/g, '').substring(0, 11);\n          var valueLen = text.length;\n\n          if (valueLen > 3 && valueLen < 8) {\n            text = text.substr(0, 3) + ' ' + text.substr(3);\n          } else if (valueLen >= 8) {\n            text = text.substr(0, 3) + ' ' + text.substr(3, 4) + ' ' + text.substr(7);\n          }\n\n          break;\n\n        case 'password':\n          break;\n\n        default:\n          break;\n      }\n\n      if (onChange) {\n        onChange(text);\n      }\n    };\n\n    _this.onInputBlur = function () {\n      _this.setState({\n        focus: false\n      }, function () {\n        if (_this.props.onBlur) {\n          _this.props.onBlur(_this.props.value);\n        }\n      });\n    };\n\n    _this.onInputFocus = function () {\n      _this.setState({\n        focus: true\n      }, function () {\n        if (_this.props.onFocus) {\n          _this.props.onFocus(_this.props.value);\n        }\n      });\n    };\n\n    _this.onInputClear = function () {\n      if (_this.inputRef) {\n        _this.inputRef.clear();\n      }\n\n      _this.onChange('');\n    }; // this is instance method for user to use\n\n\n    _this.focus = function () {\n      if (_this.inputRef) {\n        _this.inputRef.focus();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(InputItem, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var android = Platform.OS === 'android';\n\n      var _a = this.props,\n          type = _a.type,\n          editable = _a.editable,\n          clear = _a.clear,\n          children = _a.children,\n          error = _a.error,\n          extra = _a.extra,\n          labelNumber = _a.labelNumber,\n          last = _a.last,\n          onExtraClick = _a.onExtraClick,\n          onErrorClick = _a.onErrorClick,\n          styles = _a.styles,\n          disabled = _a.disabled,\n          restProps = __rest(_a, [\"type\", \"editable\", \"clear\", \"children\", \"error\", \"extra\", \"labelNumber\", \"last\", \"onExtraClick\", \"onErrorClick\", \"styles\", \"disabled\"]);\n\n      var focus = this.state.focus;\n      var value = restProps.value,\n          defaultValue = restProps.defaultValue,\n          style = restProps.style;\n      var valueProps = void 0;\n\n      if ('value' in this.props) {\n        valueProps = {\n          value: normalizeValue(value)\n        };\n      } else {\n        valueProps = {\n          defaultValue: defaultValue\n        };\n      }\n\n      return React.createElement(WithTheme, {\n        styles: styles,\n        themeStyles: InputItemStyles\n      }, function (s, theme) {\n        var containerStyle = {\n          borderBottomWidth: last ? 0 : StyleSheet.hairlineWidth\n        };\n        var textStyle = {\n          width: theme.font_size_heading * labelNumber * 1.05\n        };\n        var extraStyle = {\n          width: typeof extra === 'string' && extra.length > 0 ? extra.length * theme.font_size_heading : 0\n        };\n        var keyboardTypeArray = ['default', 'email-address', 'numeric', 'phone-pad', 'ascii-capable', 'numbers-and-punctuation', 'url', 'number-pad', 'name-phone-pad', 'decimal-pad', 'twitter', 'web-search'];\n        var keyboardType = 'default';\n\n        if (type === 'number') {\n          keyboardType = 'numeric';\n        } else if (type === 'bankCard') {\n          keyboardType = 'number-pad'; // 不带小数点\n        } else if (type === 'phone') {\n          keyboardType = 'phone-pad';\n        } else if (type && keyboardTypeArray.indexOf(type) > -1) {\n          keyboardType = type;\n        }\n\n        var disabledStyle = disabled ? s.inputDisabled : {};\n        return React.createElement(View, {\n          style: [s.container, containerStyle]\n        }, children ? typeof children === 'string' ? React.createElement(Text, {\n          style: [s.text, textStyle]\n        }, children) : React.createElement(View, {\n          style: textStyle\n        }, children) : null, React.createElement(Input, _extends({\n          editable: !disabled && editable,\n          clearButtonMode: clear ? 'while-editing' : 'never',\n          underlineColorAndroid: 'transparent',\n          ref: function ref(el) {\n            return _this2.inputRef = el;\n          }\n        }, restProps, valueProps, {\n          style: [{\n            height: !android ? theme.list_item_height_sm : theme.list_item_height\n          }, s.input, error ? s.inputErrorColor : null, disabledStyle, // 支持自定义样式\n          style],\n          keyboardType: keyboardType,\n          onChange: function onChange(event) {\n            return _this2.onChange(event.nativeEvent.text);\n          },\n          secureTextEntry: type === 'password',\n          onBlur: _this2.onInputBlur,\n          onFocus: _this2.onInputFocus\n        })), editable && clear && value && focus && android ? React.createElement(TouchableOpacity, {\n          style: [s.clear],\n          onPress: _this2.onInputClear,\n          hitSlop: {\n            top: 5,\n            left: 5,\n            bottom: 5,\n            right: 5\n          }\n        }, React.createElement(Icon, {\n          name: 'close',\n          color: 'white',\n          size: 'xxs'\n        })) : null, extra ? React.createElement(TouchableWithoutFeedback, {\n          onPress: onExtraClick\n        }, React.createElement(View, null, typeof extra === 'string' ? React.createElement(Text, {\n          style: [s.extra, extraStyle]\n        }, extra) : extra)) : null, error && React.createElement(TouchableWithoutFeedback, {\n          onPress: onErrorClick\n        }, React.createElement(View, {\n          style: [s.errorIcon]\n        }, React.createElement(Icon, {\n          name: 'info-circle',\n          style: {\n            color: theme.brand_error\n          }\n        }))));\n      });\n    }\n  }]);\n\n  return InputItem;\n}(React.Component);\n\nexport default InputItem;\nInputItem.defaultProps = {\n  type: 'text',\n  editable: true,\n  clear: false,\n  onChange: noop,\n  onBlur: noop,\n  onFocus: noop,\n  extra: '',\n  onExtraClick: noop,\n  error: false,\n  onErrorClick: noop,\n  labelNumber: 4,\n  labelPosition: 'left',\n  textAlign: 'left',\n  last: false\n};","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@ant-design/react-native/es/input-item/index.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","Platform","StyleSheet","Text","TouchableOpacity","TouchableWithoutFeedback","View","Icon","WithTheme","Input","InputItemStyles","noop","normalizeValue","value","InputItem","_React$Component","_this","__proto__","getPrototypeOf","apply","arguments","state","focus","onChange","text","_this$props","props","type","maxLength","replace","substring","valueLen","substr","onInputBlur","setState","onBlur","onInputFocus","onFocus","onInputClear","inputRef","clear","key","render","_this2","android","OS","_a","editable","children","error","extra","labelNumber","last","onExtraClick","onErrorClick","styles","disabled","restProps","defaultValue","style","valueProps","createElement","themeStyles","theme","containerStyle","borderBottomWidth","hairlineWidth","textStyle","width","font_size_heading","extraStyle","keyboardTypeArray","keyboardType","disabledStyle","inputDisabled","container","clearButtonMode","underlineColorAndroid","ref","el","height","list_item_height_sm","list_item_height","input","inputErrorColor","event","nativeEvent","secureTextEntry","onPress","hitSlop","top","left","bottom","right","name","color","size","errorIcon","brand_error","Component","defaultProps","labelPosition","textAlign"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n};\nimport React from 'react';\nimport { Platform, StyleSheet, Text, TouchableOpacity, TouchableWithoutFeedback, View } from 'react-native';\nimport Icon from '../icon';\nimport { WithTheme } from '../style';\nimport Input from './Input';\nimport InputItemStyles from './style/index';\nvar noop = function noop() {};\nfunction normalizeValue(value) {\n    if (typeof value === 'undefined' || value === null) {\n        return '';\n    }\n    return value;\n}\n\nvar InputItem = function (_React$Component) {\n    _inherits(InputItem, _React$Component);\n\n    function InputItem() {\n        _classCallCheck(this, InputItem);\n\n        var _this = _possibleConstructorReturn(this, (InputItem.__proto__ || Object.getPrototypeOf(InputItem)).apply(this, arguments));\n\n        _this.state = {\n            focus: false\n        };\n        _this.onChange = function (text) {\n            var _this$props = _this.props,\n                onChange = _this$props.onChange,\n                type = _this$props.type;\n\n            var maxLength = _this.props.maxLength;\n            switch (type) {\n                case 'bankCard':\n                    text = text.replace(/\\D/g, '');\n                    if (maxLength > 0) {\n                        text = text.substring(0, maxLength);\n                    }\n                    text = text.replace(/\\D/g, '').replace(/(....)(?=.)/g, '$1 ');\n                    break;\n                case 'phone':\n                    text = text.replace(/\\D/g, '').substring(0, 11);\n                    var valueLen = text.length;\n                    if (valueLen > 3 && valueLen < 8) {\n                        text = text.substr(0, 3) + ' ' + text.substr(3);\n                    } else if (valueLen >= 8) {\n                        text = text.substr(0, 3) + ' ' + text.substr(3, 4) + ' ' + text.substr(7);\n                    }\n                    break;\n                case 'password':\n                    break;\n                default:\n                    break;\n            }\n            if (onChange) {\n                onChange(text);\n            }\n        };\n        _this.onInputBlur = function () {\n            _this.setState({ focus: false }, function () {\n                if (_this.props.onBlur) {\n                    _this.props.onBlur(_this.props.value);\n                }\n            });\n        };\n        _this.onInputFocus = function () {\n            _this.setState({ focus: true }, function () {\n                if (_this.props.onFocus) {\n                    _this.props.onFocus(_this.props.value);\n                }\n            });\n        };\n        _this.onInputClear = function () {\n            if (_this.inputRef) {\n                _this.inputRef.clear();\n            }\n            _this.onChange('');\n        };\n        // this is instance method for user to use\n        _this.focus = function () {\n            if (_this.inputRef) {\n                _this.inputRef.focus();\n            }\n        };\n        return _this;\n    }\n\n    _createClass(InputItem, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var android = Platform.OS === 'android';\n            var _a = this.props,\n                type = _a.type,\n                editable = _a.editable,\n                clear = _a.clear,\n                children = _a.children,\n                error = _a.error,\n                extra = _a.extra,\n                labelNumber = _a.labelNumber,\n                last = _a.last,\n                onExtraClick = _a.onExtraClick,\n                onErrorClick = _a.onErrorClick,\n                styles = _a.styles,\n                disabled = _a.disabled,\n                restProps = __rest(_a, [\"type\", \"editable\", \"clear\", \"children\", \"error\", \"extra\", \"labelNumber\", \"last\", \"onExtraClick\", \"onErrorClick\", \"styles\", \"disabled\"]);var focus = this.state.focus;\n            var value = restProps.value,\n                defaultValue = restProps.defaultValue,\n                style = restProps.style;\n\n            var valueProps = void 0;\n            if ('value' in this.props) {\n                valueProps = {\n                    value: normalizeValue(value)\n                };\n            } else {\n                valueProps = {\n                    defaultValue: defaultValue\n                };\n            }\n            return React.createElement(\n                WithTheme,\n                { styles: styles, themeStyles: InputItemStyles },\n                function (s, theme) {\n                    var containerStyle = {\n                        borderBottomWidth: last ? 0 : StyleSheet.hairlineWidth\n                    };\n                    var textStyle = {\n                        width: theme.font_size_heading * labelNumber * 1.05\n                    };\n                    var extraStyle = {\n                        width: typeof extra === 'string' && extra.length > 0 ? extra.length * theme.font_size_heading : 0\n                    };\n                    var keyboardTypeArray = ['default', 'email-address', 'numeric', 'phone-pad', 'ascii-capable', 'numbers-and-punctuation', 'url', 'number-pad', 'name-phone-pad', 'decimal-pad', 'twitter', 'web-search'];\n                    var keyboardType = 'default';\n                    if (type === 'number') {\n                        keyboardType = 'numeric';\n                    } else if (type === 'bankCard') {\n                        keyboardType = 'number-pad'; // 不带小数点\n                    } else if (type === 'phone') {\n                        keyboardType = 'phone-pad';\n                    } else if (type && keyboardTypeArray.indexOf(type) > -1) {\n                        keyboardType = type;\n                    }\n                    var disabledStyle = disabled ? s.inputDisabled : {};\n                    return React.createElement(\n                        View,\n                        { style: [s.container, containerStyle] },\n                        children ? typeof children === 'string' ? React.createElement(\n                            Text,\n                            { style: [s.text, textStyle] },\n                            children\n                        ) : React.createElement(\n                            View,\n                            { style: textStyle },\n                            children\n                        ) : null,\n                        React.createElement(Input, _extends({ editable: !disabled && editable, clearButtonMode: clear ? 'while-editing' : 'never', underlineColorAndroid: 'transparent', ref: function ref(el) {\n                                return _this2.inputRef = el;\n                            } }, restProps, valueProps, { style: [{\n                                height: !android ? theme.list_item_height_sm : theme.list_item_height\n                            }, s.input, error ? s.inputErrorColor : null, disabledStyle,\n                            // 支持自定义样式\n                            style], keyboardType: keyboardType, onChange: function onChange(event) {\n                                return _this2.onChange(event.nativeEvent.text);\n                            }, secureTextEntry: type === 'password', onBlur: _this2.onInputBlur, onFocus: _this2.onInputFocus })),\n                        editable && clear && value && focus && android ? React.createElement(\n                            TouchableOpacity,\n                            { style: [s.clear], onPress: _this2.onInputClear, hitSlop: { top: 5, left: 5, bottom: 5, right: 5 } },\n                            React.createElement(Icon, { name: 'close', color: 'white', size: 'xxs' })\n                        ) : null,\n                        extra ? React.createElement(\n                            TouchableWithoutFeedback,\n                            { onPress: onExtraClick },\n                            React.createElement(\n                                View,\n                                null,\n                                typeof extra === 'string' ? React.createElement(\n                                    Text,\n                                    { style: [s.extra, extraStyle] },\n                                    extra\n                                ) : extra\n                            )\n                        ) : null,\n                        error && React.createElement(\n                            TouchableWithoutFeedback,\n                            { onPress: onErrorClick },\n                            React.createElement(\n                                View,\n                                { style: [s.errorIcon] },\n                                React.createElement(Icon, { name: 'info-circle', style: {\n                                        color: theme.brand_error\n                                    } })\n                            )\n                        )\n                    );\n                }\n            );\n        }\n    }]);\n\n    return InputItem;\n}(React.Component);\n\nexport default InputItem;\n\nInputItem.defaultProps = {\n    type: 'text',\n    editable: true,\n    clear: false,\n    onChange: noop,\n    onBlur: noop,\n    onFocus: noop,\n    extra: '',\n    onExtraClick: noop,\n    error: false,\n    onErrorClick: noop,\n    labelNumber: 4,\n    labelPosition: 'left',\n    textAlign: 'left',\n    last: false\n};"]},"metadata":{},"sourceType":"module"}
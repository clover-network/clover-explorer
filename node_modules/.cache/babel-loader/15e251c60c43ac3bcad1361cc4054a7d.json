{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\"use strict\";\n\nexports.__esModule = true;\n\nvar util_1 = require(\"zrender/lib/core/util\");\n\nvar types_1 = require(\"../../util/types\");\n\nfunction summarizeDimensions(data) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = util_1.createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = [];\n  var userOutput = summary.userOutput = {\n    dimensionNames: data.dimensions.slice(),\n    encode: {}\n  };\n  util_1.each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n\n    if (coordDim) {\n      if (process.env.NODE_ENV !== 'production') {\n        util_1.assert(types_1.VISUAL_DIMENSIONS.get(coordDim) == null);\n      }\n\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1);\n\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        }\n\n        getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n      }\n\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n\n    types_1.VISUAL_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim];\n    encodeFirstDimNotExtra[coordDim] = dimArr[0];\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label;\n\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n\n  var encodeTooltip = encode.tooltip;\n\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  return summary;\n}\n\nexports.summarizeDimensions = summarizeDimensions;\n\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n\n  return encode[dim];\n}\n\nfunction getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\n\nexports.getDimensionTypeByAxis = getDimensionTypeByAxis;\n\nfunction mayLabelDimType(dimType) {\n  return !(dimType === 'ordinal' || dimType === 'time');\n}","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/echarts/lib/data/helper/dimensionHelper.js"],"names":["exports","__esModule","util_1","require","types_1","summarizeDimensions","data","summary","encode","notExtraCoordDimMap","createHashMap","defaultedLabel","defaultedTooltip","userOutput","dimensionNames","dimensions","slice","each","dimName","dimItem","getDimensionInfo","coordDim","process","env","NODE_ENV","assert","VISUAL_DIMENSIONS","get","coordDimIndex","getOrCreateEncodeArr","isExtraCoord","set","mayLabelDimType","type","index","defaultTooltip","push","v","otherDim","encodeArr","dimIndex","otherDims","name","dataDimsOnCoord","encodeFirstDimNotExtra","dimArr","concat","encodeLabel","label","length","encodeTooltip","tooltip","dim","hasOwnProperty","getDimensionTypeByAxis","axisType","dimType"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n\"use strict\";\n\nexports.__esModule = true;\n\nvar util_1 = require(\"zrender/lib/core/util\");\n\nvar types_1 = require(\"../../util/types\");\n\nfunction summarizeDimensions(data) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = util_1.createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = [];\n  var userOutput = summary.userOutput = {\n    dimensionNames: data.dimensions.slice(),\n    encode: {}\n  };\n  util_1.each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n\n    if (coordDim) {\n      if (process.env.NODE_ENV !== 'production') {\n        util_1.assert(types_1.VISUAL_DIMENSIONS.get(coordDim) == null);\n      }\n\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1);\n\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        }\n\n        getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n      }\n\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n\n    types_1.VISUAL_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim];\n    encodeFirstDimNotExtra[coordDim] = dimArr[0];\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label;\n\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n\n  var encodeTooltip = encode.tooltip;\n\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  return summary;\n}\n\nexports.summarizeDimensions = summarizeDimensions;\n\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n\n  return encode[dim];\n}\n\nfunction getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\n\nexports.getDimensionTypeByAxis = getDimensionTypeByAxis;\n\nfunction mayLabelDimType(dimType) {\n  return !(dimType === 'ordinal' || dimType === 'time');\n}"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\n\nvar Eventful_1 = require(\"./Eventful\");\n\nexports.Dispatcher = Eventful_1[\"default\"];\n\nvar env_1 = require(\"./env\");\n\nvar dom_1 = require(\"./dom\");\n\nvar isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\n\nfunction clientToLocal(el, e, out, calculate) {\n  out = out || {};\n\n  if (calculate || !env_1[\"default\"].canvasSupported) {\n    calculateZrXY(el, e, out);\n  } else if (env_1[\"default\"].browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n    out.zrX = e.layerX;\n    out.zrY = e.layerY;\n  } else if (e.offsetX != null) {\n    out.zrX = e.offsetX;\n    out.zrY = e.offsetY;\n  } else {\n    calculateZrXY(el, e, out);\n  }\n\n  return out;\n}\n\nexports.clientToLocal = clientToLocal;\n\nfunction calculateZrXY(el, e, out) {\n  if (env_1[\"default\"].domSupported && el.getBoundingClientRect) {\n    var ex = e.clientX;\n    var ey = e.clientY;\n\n    if (dom_1.isCanvasEl(el)) {\n      var box = el.getBoundingClientRect();\n      out.zrX = ex - box.left;\n      out.zrY = ey - box.top;\n      return;\n    } else {\n      if (dom_1.transformCoordWithViewport(_calcOut, el, ex, ey)) {\n        out.zrX = _calcOut[0];\n        out.zrY = _calcOut[1];\n        return;\n      }\n    }\n  }\n\n  out.zrX = out.zrY = 0;\n}\n\nfunction getNativeEvent(e) {\n  return e || window.event;\n}\n\nexports.getNativeEvent = getNativeEvent;\n\nfunction normalizeEvent(el, e, calculate) {\n  e = getNativeEvent(e);\n\n  if (e.zrX != null) {\n    return e;\n  }\n\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    var wheelDelta = getWheelDeltaMayPolyfill(e);\n    e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  }\n\n  var button = e.button;\n\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  }\n\n  return e;\n}\n\nexports.normalizeEvent = normalizeEvent;\n\nfunction getWheelDeltaMayPolyfill(e) {\n  var rawWheelDelta = e.wheelDelta;\n\n  if (rawWheelDelta) {\n    return rawWheelDelta;\n  }\n\n  var deltaX = e.deltaX;\n  var deltaY = e.deltaY;\n\n  if (deltaX == null || deltaY == null) {\n    return rawWheelDelta;\n  }\n\n  var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n  var sign = deltaY > 0 ? -1 : deltaY < 0 ? 1 : deltaX > 0 ? -1 : 1;\n  return 3 * delta * sign;\n}\n\nfunction addEventListener(el, name, handler, opt) {\n  if (isDomLevel2) {\n    el.addEventListener(name, handler, opt);\n  } else {\n    el.attachEvent('on' + name, handler);\n  }\n}\n\nexports.addEventListener = addEventListener;\n\nfunction removeEventListener(el, name, handler, opt) {\n  if (isDomLevel2) {\n    el.removeEventListener(name, handler, opt);\n  } else {\n    el.detachEvent('on' + name, handler);\n  }\n}\n\nexports.removeEventListener = removeEventListener;\nexports.stop = isDomLevel2 ? function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n} : function (e) {\n  e.returnValue = false;\n  e.cancelBubble = true;\n};\n\nfunction isMiddleOrRightButtonOnMouseUpDown(e) {\n  return e.which === 2 || e.which === 3;\n}\n\nexports.isMiddleOrRightButtonOnMouseUpDown = isMiddleOrRightButtonOnMouseUpDown;\n\nfunction notLeftMouse(e) {\n  return e.which > 1;\n}\n\nexports.notLeftMouse = notLeftMouse;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/zrender/lib/core/event.js"],"names":["exports","__esModule","Eventful_1","require","Dispatcher","env_1","dom_1","isDomLevel2","window","addEventListener","MOUSE_EVENT_REG","_calcOut","clientToLocal","el","e","out","calculate","canvasSupported","calculateZrXY","browser","firefox","layerX","offsetX","zrX","zrY","layerY","offsetY","domSupported","getBoundingClientRect","ex","clientX","ey","clientY","isCanvasEl","box","left","top","transformCoordWithViewport","getNativeEvent","event","normalizeEvent","eventType","type","isTouch","indexOf","wheelDelta","getWheelDeltaMayPolyfill","zrDelta","detail","touch","targetTouches","changedTouches","button","which","undefined","test","rawWheelDelta","deltaX","deltaY","delta","Math","abs","sign","name","handler","opt","attachEvent","removeEventListener","detachEvent","stop","preventDefault","stopPropagation","cancelBubble","returnValue","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse"],"mappings":"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","sourcesContent":["\"use strict\";\nexports.__esModule = true;\nvar Eventful_1 = require(\"./Eventful\");\nexports.Dispatcher = Eventful_1[\"default\"];\nvar env_1 = require(\"./env\");\nvar dom_1 = require(\"./dom\");\nvar isDomLevel2 = (typeof window !== 'undefined') && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nfunction clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate || !env_1[\"default\"].canvasSupported) {\n        calculateZrXY(el, e, out);\n    }\n    else if (env_1[\"default\"].browser.firefox\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nexports.clientToLocal = clientToLocal;\nfunction calculateZrXY(el, e, out) {\n    if (env_1[\"default\"].domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (dom_1.isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (dom_1.transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nfunction getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexports.getNativeEvent = getNativeEvent;\nfunction normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nexports.normalizeEvent = normalizeEvent;\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nfunction addEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n        el.addEventListener(name, handler, opt);\n    }\n    else {\n        el.attachEvent('on' + name, handler);\n    }\n}\nexports.addEventListener = addEventListener;\nfunction removeEventListener(el, name, handler, opt) {\n    if (isDomLevel2) {\n        el.removeEventListener(name, handler, opt);\n    }\n    else {\n        el.detachEvent('on' + name, handler);\n    }\n}\nexports.removeEventListener = removeEventListener;\nexports.stop = isDomLevel2\n    ? function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        e.cancelBubble = true;\n    }\n    : function (e) {\n        e.returnValue = false;\n        e.cancelBubble = true;\n    };\nfunction isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexports.isMiddleOrRightButtonOnMouseUpDown = isMiddleOrRightButtonOnMouseUpDown;\nfunction notLeftMouse(e) {\n    return e.which > 1;\n}\nexports.notLeftMouse = notLeftMouse;\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import isArray from 'is-any-array';\nimport max from 'ml-array-max';\nimport min from 'ml-array-min';\n\nfunction rescale(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  } else if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var output;\n\n  if (options.output !== undefined) {\n    if (!isArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  var currentMin = min(input);\n  var currentMax = max(input);\n\n  if (currentMin === currentMax) {\n    throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');\n  }\n\n  var _options$min = options.min,\n      minValue = _options$min === void 0 ? options.autoMinMax ? currentMin : 0 : _options$min,\n      _options$max = options.max,\n      maxValue = _options$max === void 0 ? options.autoMinMax ? currentMax : 1 : _options$max;\n\n  if (minValue >= maxValue) {\n    throw new RangeError('min option must be smaller than max option');\n  }\n\n  var factor = (maxValue - minValue) / (currentMax - currentMin);\n\n  for (var i = 0; i < input.length; i++) {\n    output[i] = (input[i] - currentMin) * factor + minValue;\n  }\n\n  return output;\n}\n\nexport default rescale;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/ml-array-rescale/lib-es6/index.js"],"names":["isArray","max","min","rescale","input","options","arguments","length","undefined","TypeError","output","Array","currentMin","currentMax","RangeError","_options$min","minValue","autoMinMax","_options$max","maxValue","factor","i"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,cAApB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,GAAP,MAAgB,cAAhB;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,MAAIC,OAAO,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAlF;;AAEA,MAAI,CAACN,OAAO,CAACI,KAAD,CAAZ,EAAqB;AACnB,UAAM,IAAIK,SAAJ,CAAc,wBAAd,CAAN;AACD,GAFD,MAEO,IAAIL,KAAK,CAACG,MAAN,KAAiB,CAArB,EAAwB;AAC7B,UAAM,IAAIE,SAAJ,CAAc,yBAAd,CAAN;AACD;;AAED,MAAIC,MAAJ;;AAEA,MAAIL,OAAO,CAACK,MAAR,KAAmBF,SAAvB,EAAkC;AAChC,QAAI,CAACR,OAAO,CAACK,OAAO,CAACK,MAAT,CAAZ,EAA8B;AAC5B,YAAM,IAAID,SAAJ,CAAc,6CAAd,CAAN;AACD;;AAEDC,IAAAA,MAAM,GAAGL,OAAO,CAACK,MAAjB;AACD,GAND,MAMO;AACLA,IAAAA,MAAM,GAAG,IAAIC,KAAJ,CAAUP,KAAK,CAACG,MAAhB,CAAT;AACD;;AAED,MAAIK,UAAU,GAAGV,GAAG,CAACE,KAAD,CAApB;AACA,MAAIS,UAAU,GAAGZ,GAAG,CAACG,KAAD,CAApB;;AAEA,MAAIQ,UAAU,KAAKC,UAAnB,EAA+B;AAC7B,UAAM,IAAIC,UAAJ,CAAe,6EAAf,CAAN;AACD;;AAED,MAAIC,YAAY,GAAGV,OAAO,CAACH,GAA3B;AAAA,MACIc,QAAQ,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0BV,OAAO,CAACY,UAAR,GAAqBL,UAArB,GAAkC,CAA5D,GAAgEG,YAD/E;AAAA,MAEIG,YAAY,GAAGb,OAAO,CAACJ,GAF3B;AAAA,MAGIkB,QAAQ,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0Bb,OAAO,CAACY,UAAR,GAAqBJ,UAArB,GAAkC,CAA5D,GAAgEK,YAH/E;;AAKA,MAAIF,QAAQ,IAAIG,QAAhB,EAA0B;AACxB,UAAM,IAAIL,UAAJ,CAAe,4CAAf,CAAN;AACD;;AAED,MAAIM,MAAM,GAAG,CAACD,QAAQ,GAAGH,QAAZ,KAAyBH,UAAU,GAAGD,UAAtC,CAAb;;AAEA,OAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,KAAK,CAACG,MAA1B,EAAkCc,CAAC,EAAnC,EAAuC;AACrCX,IAAAA,MAAM,CAACW,CAAD,CAAN,GAAY,CAACjB,KAAK,CAACiB,CAAD,CAAL,GAAWT,UAAZ,IAA0BQ,MAA1B,GAAmCJ,QAA/C;AACD;;AAED,SAAON,MAAP;AACD;;AAED,eAAeP,OAAf","sourcesContent":["import isArray from 'is-any-array';\nimport max from 'ml-array-max';\nimport min from 'ml-array-min';\n\nfunction rescale(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  } else if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var output;\n\n  if (options.output !== undefined) {\n    if (!isArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  var currentMin = min(input);\n  var currentMax = max(input);\n\n  if (currentMin === currentMax) {\n    throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');\n  }\n\n  var _options$min = options.min,\n      minValue = _options$min === void 0 ? options.autoMinMax ? currentMin : 0 : _options$min,\n      _options$max = options.max,\n      maxValue = _options$max === void 0 ? options.autoMinMax ? currentMax : 1 : _options$max;\n\n  if (minValue >= maxValue) {\n    throw new RangeError('min option must be smaller than max option');\n  }\n\n  var factor = (maxValue - minValue) / (currentMax - currentMin);\n\n  for (var i = 0; i < input.length; i++) {\n    output[i] = (input[i] - currentMin) * factor + minValue;\n  }\n\n  return output;\n}\n\nexport default rescale;\n"]},"metadata":{},"sourceType":"module"}
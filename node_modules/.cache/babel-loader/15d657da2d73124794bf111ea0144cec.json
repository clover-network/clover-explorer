{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2'; // 自定义Shape 部分\n\nregisterShape('point', 'gauge-indicator', {\n  draw: function (cfg, container) {\n    // 使用 customInfo 传递参数\n    var _a = cfg.customInfo,\n        indicator = _a.indicator,\n        defaultColor = _a.defaultColor;\n    var _b = indicator,\n        pointer = _b.pointer,\n        pin = _b.pin;\n    var group = container.addGroup(); // 获取极坐标系下画布中心点\n\n    var center = this.parsePoint({\n      x: 0,\n      y: 0\n    }); // 绘制指针\n\n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: __assign({\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor\n        }, pointer.style)\n      });\n    } // pin\n\n\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: __assign({\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor\n        }, pin.style)\n      });\n    }\n\n    return group;\n  }\n});","map":{"version":3,"sources":["../../../../src/plots/gauge/shapes/gauge.ts"],"names":[],"mappings":";AAAA,SAAS,aAAT,QAA8B,UAA9B,C,CAIA;;AACA,aAAa,CAAC,OAAD,EAAU,iBAAV,EAA6B;AACxC,EAAA,IAAI,EAAJ,UAAK,GAAL,EAAqB,SAArB,EAA8B;AAC5B;AACM,QAAA,EAAA,GAA8B,GAAG,CAAC,UAAlC;AAAA,QAAE,SAAS,GAAA,EAAA,CAAA,SAAX;AAAA,QAAa,YAAY,GAAA,EAAA,CAAA,YAAzB;AACA,QAAA,EAAA,GAAmB,SAAnB;AAAA,QAAE,OAAO,GAAA,EAAA,CAAA,OAAT;AAAA,QAAW,GAAG,GAAA,EAAA,CAAA,GAAd;AAEN,QAAM,KAAK,GAAG,SAAS,CAAC,QAAV,EAAd,CAL4B,CAM5B;;AACA,QAAM,MAAM,GAAG,KAAK,UAAL,CAAgB;AAAE,MAAA,CAAC,EAAE,CAAL;AAAQ,MAAA,CAAC,EAAE;AAAX,KAAhB,CAAf,CAP4B,CAQ5B;;AACA,QAAI,OAAJ,EAAa;AACX;AACA,MAAA,KAAK,CAAC,QAAN,CAAe,MAAf,EAAuB;AACrB,QAAA,IAAI,EAAE,SADe;AAErB,QAAA,KAAK,EAAA,QAAA,CAAA;AACH,UAAA,EAAE,EAAE,MAAM,CAAC,CADR;AAEH,UAAA,EAAE,EAAE,MAAM,CAAC,CAFR;AAGH,UAAA,EAAE,EAAE,GAAG,CAAC,CAHL;AAIH,UAAA,EAAE,EAAE,GAAG,CAAC,CAJL;AAKH,UAAA,MAAM,EAAE;AALL,SAAA,EAMA,OAAO,CAAC,KANR;AAFgB,OAAvB;AAWD,KAtB2B,CAwB5B;;;AACA,QAAI,GAAJ,EAAS;AACP,MAAA,KAAK,CAAC,QAAN,CAAe,QAAf,EAAyB;AACvB,QAAA,IAAI,EAAE,KADiB;AAEvB,QAAA,KAAK,EAAA,QAAA,CAAA;AACH,UAAA,CAAC,EAAE,MAAM,CAAC,CADP;AAEH,UAAA,CAAC,EAAE,MAAM,CAAC,CAFP;AAGH,UAAA,MAAM,EAAE;AAHL,SAAA,EAIA,GAAG,CAAC,KAJJ;AAFkB,OAAzB;AASD;;AACD,WAAO,KAAP;AACD;AAtCuC,CAA7B,CAAb","sourcesContent":["import { registerShape } from '@antv/g2';\nimport { ShapeInfo } from '@antv/g2/lib/interface';\nimport { Indicator } from '../types';\n\n// 自定义Shape 部分\nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: ShapeInfo, container) {\n    // 使用 customInfo 传递参数\n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // 获取极坐标系下画布中心点\n    const center = this.parsePoint({ x: 0, y: 0 });\n    // 绘制指针\n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
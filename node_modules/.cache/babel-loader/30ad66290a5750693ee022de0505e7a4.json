{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\nimport { each, isObject, isArray, createHashMap, map, assert, isString, indexOf, isStringSafe } from 'zrender/esm/core/util';\nimport env from 'zrender/esm/core/env';\nimport { isNumeric, getRandomIdBase, getPrecisionSafe, round } from './number';\nimport { interpolateNumber } from 'zrender/esm/animation/Animator';\nimport { warn } from './log';\nvar DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\nvar INTERNAL_COMPONENT_ID_PREFIX = '\\0_ec_\\0';\nexport function normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\nexport function defaultEmphasis(opt, key, subOpts) {\n  if (opt) {\n    opt[key] = opt[key] || {};\n    opt.emphasis = opt.emphasis || {};\n    opt.emphasis[key] = opt.emphasis[key] || {};\n\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n\n      if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n        opt.emphasis[key][subOptName] = opt[key][subOptName];\n      }\n    }\n  }\n}\nexport var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding'];\nexport function getDataItemValue(dataItem) {\n  return isObject(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n}\nexport function isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array);\n}\n;\nexport function mappingToExists(existings, newCmptOptions, mode) {\n  var isNormalMergeMode = mode === 'normalMerge';\n  var isReplaceMergeMode = mode === 'replaceMerge';\n  var isReplaceAllMode = mode === 'replaceAll';\n  existings = existings || [];\n  newCmptOptions = (newCmptOptions || []).slice();\n  var existingIdIdxMap = createHashMap();\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!isObject(cmptOption)) {\n      newCmptOptions[index] = null;\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (cmptOption.id != null && !isValidIdOrName(cmptOption.id)) {\n        warnInvalidateIdOrName(cmptOption.id);\n      }\n\n      if (cmptOption.name != null && !isValidIdOrName(cmptOption.name)) {\n        warnInvalidateIdOrName(cmptOption.name);\n      }\n    }\n  });\n  var result = prepareResult(existings, existingIdIdxMap, mode);\n\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingById(result, existings, existingIdIdxMap, newCmptOptions);\n  }\n\n  if (isNormalMergeMode) {\n    mappingByName(result, newCmptOptions);\n  }\n\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingByIndex(result, newCmptOptions, isReplaceMergeMode);\n  } else if (isReplaceAllMode) {\n    mappingInReplaceAllMode(result, newCmptOptions);\n  }\n\n  makeIdAndName(result);\n  return result;\n}\n\nfunction prepareResult(existings, existingIdIdxMap, mode) {\n  var result = [];\n\n  if (mode === 'replaceAll') {\n    return result;\n  }\n\n  for (var index = 0; index < existings.length; index++) {\n    var existing = existings[index];\n\n    if (existing && existing.id != null) {\n      existingIdIdxMap.set(existing.id, index);\n    }\n\n    result.push({\n      existing: mode === 'replaceMerge' || isComponentIdInternal(existing) ? null : existing,\n      newOption: null,\n      keyInfo: null,\n      brandNew: null\n    });\n  }\n\n  return result;\n}\n\nfunction mappingById(result, existings, existingIdIdxMap, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.id == null) {\n      return;\n    }\n\n    var optionId = makeComparableKey(cmptOption.id);\n    var existingIdx = existingIdIdxMap.get(optionId);\n\n    if (existingIdx != null) {\n      var resultItem = result[existingIdx];\n      assert(!resultItem.newOption, 'Duplicated option on id \"' + optionId + '\".');\n      resultItem.newOption = cmptOption;\n      resultItem.existing = existings[existingIdx];\n      newCmptOptions[index] = null;\n    }\n  });\n}\n\nfunction mappingByName(result, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.name == null) {\n      return;\n    }\n\n    for (var i = 0; i < result.length; i++) {\n      var existing = result[i].existing;\n\n      if (!result[i].newOption && existing && (existing.id == null || cmptOption.id == null) && !isComponentIdInternal(cmptOption) && !isComponentIdInternal(existing) && keyExistAndEqual('name', existing, cmptOption)) {\n        result[i].newOption = cmptOption;\n        newCmptOptions[index] = null;\n        return;\n      }\n    }\n  });\n}\n\nfunction mappingByIndex(result, newCmptOptions, brandNew) {\n  each(newCmptOptions, function (cmptOption) {\n    if (!cmptOption) {\n      return;\n    }\n\n    var resultItem;\n    var nextIdx = 0;\n\n    while ((resultItem = result[nextIdx]) && (resultItem.newOption || isComponentIdInternal(resultItem.existing) || resultItem.existing && cmptOption.id != null && !keyExistAndEqual('id', cmptOption, resultItem.existing))) {\n      nextIdx++;\n    }\n\n    if (resultItem) {\n      resultItem.newOption = cmptOption;\n      resultItem.brandNew = brandNew;\n    } else {\n      result.push({\n        newOption: cmptOption,\n        brandNew: brandNew,\n        existing: null,\n        keyInfo: null\n      });\n    }\n\n    nextIdx++;\n  });\n}\n\nfunction mappingInReplaceAllMode(result, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption) {\n    result.push({\n      newOption: cmptOption,\n      brandNew: true,\n      existing: null,\n      keyInfo: null\n    });\n  });\n}\n\nfunction makeIdAndName(mapResult) {\n  var idMap = createHashMap();\n  each(mapResult, function (item) {\n    var existing = item.existing;\n    existing && idMap.set(existing.id, item);\n  });\n  each(mapResult, function (item) {\n    var opt = item.newOption;\n    assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  });\n  each(mapResult, function (item, index) {\n    var existing = item.existing;\n    var opt = item.newOption;\n    var keyInfo = item.keyInfo;\n\n    if (!isObject(opt)) {\n      return;\n    }\n\n    keyInfo.name = opt.name != null ? makeComparableKey(opt.name) : existing ? existing.name : DUMMY_COMPONENT_NAME_PREFIX + index;\n\n    if (existing) {\n      keyInfo.id = makeComparableKey(existing.id);\n    } else if (opt.id != null) {\n      keyInfo.id = makeComparableKey(opt.id);\n    } else {\n      var idNum = 0;\n\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n\n    idMap.set(keyInfo.id, item);\n  });\n}\n\nfunction keyExistAndEqual(attr, obj1, obj2) {\n  var key1 = convertOptionIdName(obj1[attr], null);\n  var key2 = convertOptionIdName(obj2[attr], null);\n  return key1 != null && key2 != null && key1 === key2;\n}\n\nfunction makeComparableKey(val) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (val == null) {\n      throw new Error();\n    }\n  }\n\n  return convertOptionIdName(val, '');\n}\n\nexport function convertOptionIdName(idOrName, defaultValue) {\n  if (idOrName == null) {\n    return defaultValue;\n  }\n\n  var type = typeof idOrName;\n  return type === 'string' ? idOrName : type === 'number' || isStringSafe(idOrName) ? idOrName + '' : defaultValue;\n}\n\nfunction warnInvalidateIdOrName(idOrName) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn('`' + idOrName + '` is invalid id or name. Must be a string or number.');\n  }\n}\n\nfunction isValidIdOrName(idOrName) {\n  return isStringSafe(idOrName) || isNumeric(idOrName);\n}\n\nexport function isNameSpecified(componentModel) {\n  var name = componentModel.name;\n  return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n}\nexport function isComponentIdInternal(cmptOption) {\n  return cmptOption && cmptOption.id != null && makeComparableKey(cmptOption.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;\n}\nexport function makeInternalComponentId(idSuffix) {\n  return INTERNAL_COMPONENT_ID_PREFIX + idSuffix;\n}\nexport function setComponentTypeToKeyInfo(mappingResult, mainType, componentModelCtor) {\n  each(mappingResult, function (item) {\n    var newOption = item.newOption;\n\n    if (isObject(newOption)) {\n      item.keyInfo.mainType = mainType;\n      item.keyInfo.subType = determineSubType(mainType, newOption, item.existing, componentModelCtor);\n    }\n  });\n}\n\nfunction determineSubType(mainType, newCmptOption, existComponent, componentModelCtor) {\n  var subType = newCmptOption.type ? newCmptOption.type : existComponent ? existComponent.subType : componentModelCtor.determineSubType(mainType, newCmptOption);\n  return subType;\n}\n\nexport function compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = convertOptionIdName(sourceBatch[i].seriesId, null);\n\n      if (seriesId == null) {\n        return;\n      }\n\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n\n  function mapToArray(map, isData) {\n    var result = [];\n\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n}\nexport function queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return isArray(payload.dataIndex) ? map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return isArray(payload.name) ? map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\nexport function makeInner() {\n  var key = '__ec_inner_' + innerUniqueIndex++;\n  return function (hostObj) {\n    return hostObj[key] || (hostObj[key] = {});\n  };\n}\nvar innerUniqueIndex = getRandomIdBase();\nexport function parseFinder(ecModel, finderInput, opt) {\n  var finder;\n\n  if (isString(finderInput)) {\n    var obj = {};\n    obj[finderInput + 'Index'] = 0;\n    finder = obj;\n  } else {\n    finder = finderInput;\n  }\n\n  var queryOptionMap = createHashMap();\n  var result = {};\n  var mainTypeSpecified = false;\n  each(finder, function (value, key) {\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      result[key] = value;\n      return;\n    }\n\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n\n    if (!mainType || !queryType || opt && opt.includeMainTypes && indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n\n    mainTypeSpecified = mainTypeSpecified || !!mainType;\n    var queryOption = queryOptionMap.get(mainType) || queryOptionMap.set(mainType, {});\n    queryOption[queryType] = value;\n  });\n  var defaultMainType = opt ? opt.defaultMainType : null;\n\n  if (!mainTypeSpecified && defaultMainType) {\n    queryOptionMap.set(defaultMainType, {});\n  }\n\n  queryOptionMap.each(function (queryOption, mainType) {\n    var queryResult = queryReferringComponents(ecModel, mainType, queryOption, {\n      useDefault: defaultMainType === mainType,\n      enableAll: opt && opt.enableAll != null ? opt.enableAll : true,\n      enableNone: opt && opt.enableNone != null ? opt.enableNone : true\n    });\n    result[mainType + 'Models'] = queryResult.models;\n    result[mainType + 'Model'] = queryResult.models[0];\n  });\n  return result;\n}\nexport var SINGLE_REFERRING = {\n  useDefault: true,\n  enableAll: false,\n  enableNone: false\n};\nexport var MULTIPLE_REFERRING = {\n  useDefault: false,\n  enableAll: true,\n  enableNone: true\n};\nexport function queryReferringComponents(ecModel, mainType, userOption, opt) {\n  opt = opt || SINGLE_REFERRING;\n  var indexOption = userOption.index;\n  var idOption = userOption.id;\n  var nameOption = userOption.name;\n  var result = {\n    models: null,\n    specified: indexOption != null || idOption != null || nameOption != null\n  };\n\n  if (!result.specified) {\n    var firstCmpt = void 0;\n    result.models = opt.useDefault && (firstCmpt = ecModel.getComponent(mainType)) ? [firstCmpt] : [];\n    return result;\n  }\n\n  if (indexOption === 'none' || indexOption === false) {\n    assert(opt.enableNone, '`\"none\"` or `false` is not a valid value on index option.');\n    result.models = [];\n    return result;\n  }\n\n  if (indexOption === 'all') {\n    assert(opt.enableAll, '`\"all\"` is not a valid value on index option.');\n    indexOption = idOption = nameOption = null;\n  }\n\n  result.models = ecModel.queryComponents({\n    mainType: mainType,\n    index: indexOption,\n    id: idOption,\n    name: nameOption\n  });\n  return result;\n}\nexport function setAttribute(dom, key, value) {\n  dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n}\nexport function getAttribute(dom, key) {\n  return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n}\nexport function getTooltipRenderMode(renderModeOption) {\n  if (renderModeOption === 'auto') {\n    return env.domSupported ? 'html' : 'richText';\n  } else {\n    return renderModeOption || 'html';\n  }\n}\nexport function groupData(array, getKey) {\n  var buckets = createHashMap();\n  var keys = [];\n  each(array, function (item) {\n    var key = getKey(item);\n    (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n  });\n  return {\n    keys: keys,\n    buckets: buckets\n  };\n}\nexport function interpolateRawValues(data, precision, sourceValue, targetValue, percent) {\n  var isAutoPrecision = precision == null || precision === 'auto';\n\n  if (targetValue == null) {\n    return targetValue;\n  }\n\n  if (typeof targetValue === 'number') {\n    var value = interpolateNumber(sourceValue || 0, targetValue, percent);\n    return round(value, isAutoPrecision ? Math.max(getPrecisionSafe(sourceValue || 0), getPrecisionSafe(targetValue)) : precision);\n  } else if (typeof targetValue === 'string') {\n    return percent < 1 ? sourceValue : targetValue;\n  } else {\n    var interpolated = [];\n    var leftArr = sourceValue || [];\n    var rightArr = targetValue;\n    var length_1 = Math.max(leftArr.length, rightArr.length);\n\n    for (var i = 0; i < length_1; ++i) {\n      var info = data.getDimensionInfo(i);\n\n      if (info.type === 'ordinal') {\n        interpolated[i] = (percent < 1 ? leftArr : rightArr)[i];\n      } else {\n        var leftVal = leftArr && leftArr[i] ? leftArr[i] : 0;\n        var rightVal = rightArr[i];\n        var value = leftArr == null ? targetValue[i] : interpolateNumber(leftVal, rightVal, percent);\n        interpolated[i] = round(value, isAutoPrecision ? Math.max(getPrecisionSafe(leftVal), getPrecisionSafe(rightVal)) : precision);\n      }\n    }\n\n    return interpolated;\n  }\n}","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/echarts/esm/util/model.js"],"names":["each","isObject","isArray","createHashMap","map","assert","isString","indexOf","isStringSafe","env","isNumeric","getRandomIdBase","getPrecisionSafe","round","interpolateNumber","warn","DUMMY_COMPONENT_NAME_PREFIX","INTERNAL_COMPONENT_ID_PREFIX","normalizeToArray","value","Array","defaultEmphasis","opt","key","subOpts","emphasis","i","len","length","subOptName","hasOwnProperty","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","Date","isDataItemOption","mappingToExists","existings","newCmptOptions","mode","isNormalMergeMode","isReplaceMergeMode","isReplaceAllMode","slice","existingIdIdxMap","cmptOption","index","process","NODE_ENV","id","isValidIdOrName","warnInvalidateIdOrName","name","result","prepareResult","mappingById","mappingByName","mappingByIndex","mappingInReplaceAllMode","makeIdAndName","existing","set","push","isComponentIdInternal","newOption","keyInfo","brandNew","optionId","makeComparableKey","existingIdx","get","resultItem","keyExistAndEqual","nextIdx","mapResult","idMap","item","idNum","attr","obj1","obj2","key1","convertOptionIdName","key2","val","Error","idOrName","defaultValue","type","isNameSpecified","componentModel","makeInternalComponentId","idSuffix","setComponentTypeToKeyInfo","mappingResult","mainType","componentModelCtor","subType","determineSubType","newCmptOption","existComponent","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","seriesId","dataIndices","dataIndex","otherDataIndices","j","lenj","isData","queryDataIndex","data","payload","dataIndexInside","indexOfRawIndex","indexOfName","makeInner","innerUniqueIndex","hostObj","parseFinder","ecModel","finderInput","finder","obj","queryOptionMap","mainTypeSpecified","parsedKey","match","queryType","toLowerCase","includeMainTypes","queryOption","defaultMainType","queryResult","queryReferringComponents","useDefault","enableAll","enableNone","models","SINGLE_REFERRING","MULTIPLE_REFERRING","userOption","indexOption","idOption","nameOption","specified","firstCmpt","getComponent","queryComponents","setAttribute","dom","getAttribute","getTooltipRenderMode","renderModeOption","domSupported","groupData","array","getKey","buckets","keys","interpolateRawValues","precision","sourceValue","targetValue","percent","isAutoPrecision","Math","max","interpolated","leftArr","rightArr","length_1","info","getDimensionInfo","leftVal","rightVal"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { each, isObject, isArray, createHashMap, map, assert, isString, indexOf, isStringSafe } from 'zrender/esm/core/util';\nimport env from 'zrender/esm/core/env';\nimport { isNumeric, getRandomIdBase, getPrecisionSafe, round } from './number';\nimport { interpolateNumber } from 'zrender/esm/animation/Animator';\nimport { warn } from './log';\nvar DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\nvar INTERNAL_COMPONENT_ID_PREFIX = '\\0_ec_\\0';\nexport function normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\nexport function defaultEmphasis(opt, key, subOpts) {\n  if (opt) {\n    opt[key] = opt[key] || {};\n    opt.emphasis = opt.emphasis || {};\n    opt.emphasis[key] = opt.emphasis[key] || {};\n\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n\n      if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n        opt.emphasis[key][subOptName] = opt[key][subOptName];\n      }\n    }\n  }\n}\nexport var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding'];\nexport function getDataItemValue(dataItem) {\n  return isObject(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n}\nexport function isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array);\n}\n;\nexport function mappingToExists(existings, newCmptOptions, mode) {\n  var isNormalMergeMode = mode === 'normalMerge';\n  var isReplaceMergeMode = mode === 'replaceMerge';\n  var isReplaceAllMode = mode === 'replaceAll';\n  existings = existings || [];\n  newCmptOptions = (newCmptOptions || []).slice();\n  var existingIdIdxMap = createHashMap();\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!isObject(cmptOption)) {\n      newCmptOptions[index] = null;\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (cmptOption.id != null && !isValidIdOrName(cmptOption.id)) {\n        warnInvalidateIdOrName(cmptOption.id);\n      }\n\n      if (cmptOption.name != null && !isValidIdOrName(cmptOption.name)) {\n        warnInvalidateIdOrName(cmptOption.name);\n      }\n    }\n  });\n  var result = prepareResult(existings, existingIdIdxMap, mode);\n\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingById(result, existings, existingIdIdxMap, newCmptOptions);\n  }\n\n  if (isNormalMergeMode) {\n    mappingByName(result, newCmptOptions);\n  }\n\n  if (isNormalMergeMode || isReplaceMergeMode) {\n    mappingByIndex(result, newCmptOptions, isReplaceMergeMode);\n  } else if (isReplaceAllMode) {\n    mappingInReplaceAllMode(result, newCmptOptions);\n  }\n\n  makeIdAndName(result);\n  return result;\n}\n\nfunction prepareResult(existings, existingIdIdxMap, mode) {\n  var result = [];\n\n  if (mode === 'replaceAll') {\n    return result;\n  }\n\n  for (var index = 0; index < existings.length; index++) {\n    var existing = existings[index];\n\n    if (existing && existing.id != null) {\n      existingIdIdxMap.set(existing.id, index);\n    }\n\n    result.push({\n      existing: mode === 'replaceMerge' || isComponentIdInternal(existing) ? null : existing,\n      newOption: null,\n      keyInfo: null,\n      brandNew: null\n    });\n  }\n\n  return result;\n}\n\nfunction mappingById(result, existings, existingIdIdxMap, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.id == null) {\n      return;\n    }\n\n    var optionId = makeComparableKey(cmptOption.id);\n    var existingIdx = existingIdIdxMap.get(optionId);\n\n    if (existingIdx != null) {\n      var resultItem = result[existingIdx];\n      assert(!resultItem.newOption, 'Duplicated option on id \"' + optionId + '\".');\n      resultItem.newOption = cmptOption;\n      resultItem.existing = existings[existingIdx];\n      newCmptOptions[index] = null;\n    }\n  });\n}\n\nfunction mappingByName(result, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption, index) {\n    if (!cmptOption || cmptOption.name == null) {\n      return;\n    }\n\n    for (var i = 0; i < result.length; i++) {\n      var existing = result[i].existing;\n\n      if (!result[i].newOption && existing && (existing.id == null || cmptOption.id == null) && !isComponentIdInternal(cmptOption) && !isComponentIdInternal(existing) && keyExistAndEqual('name', existing, cmptOption)) {\n        result[i].newOption = cmptOption;\n        newCmptOptions[index] = null;\n        return;\n      }\n    }\n  });\n}\n\nfunction mappingByIndex(result, newCmptOptions, brandNew) {\n  each(newCmptOptions, function (cmptOption) {\n    if (!cmptOption) {\n      return;\n    }\n\n    var resultItem;\n    var nextIdx = 0;\n\n    while ((resultItem = result[nextIdx]) && (resultItem.newOption || isComponentIdInternal(resultItem.existing) || resultItem.existing && cmptOption.id != null && !keyExistAndEqual('id', cmptOption, resultItem.existing))) {\n      nextIdx++;\n    }\n\n    if (resultItem) {\n      resultItem.newOption = cmptOption;\n      resultItem.brandNew = brandNew;\n    } else {\n      result.push({\n        newOption: cmptOption,\n        brandNew: brandNew,\n        existing: null,\n        keyInfo: null\n      });\n    }\n\n    nextIdx++;\n  });\n}\n\nfunction mappingInReplaceAllMode(result, newCmptOptions) {\n  each(newCmptOptions, function (cmptOption) {\n    result.push({\n      newOption: cmptOption,\n      brandNew: true,\n      existing: null,\n      keyInfo: null\n    });\n  });\n}\n\nfunction makeIdAndName(mapResult) {\n  var idMap = createHashMap();\n  each(mapResult, function (item) {\n    var existing = item.existing;\n    existing && idMap.set(existing.id, item);\n  });\n  each(mapResult, function (item) {\n    var opt = item.newOption;\n    assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  });\n  each(mapResult, function (item, index) {\n    var existing = item.existing;\n    var opt = item.newOption;\n    var keyInfo = item.keyInfo;\n\n    if (!isObject(opt)) {\n      return;\n    }\n\n    keyInfo.name = opt.name != null ? makeComparableKey(opt.name) : existing ? existing.name : DUMMY_COMPONENT_NAME_PREFIX + index;\n\n    if (existing) {\n      keyInfo.id = makeComparableKey(existing.id);\n    } else if (opt.id != null) {\n      keyInfo.id = makeComparableKey(opt.id);\n    } else {\n      var idNum = 0;\n\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n\n    idMap.set(keyInfo.id, item);\n  });\n}\n\nfunction keyExistAndEqual(attr, obj1, obj2) {\n  var key1 = convertOptionIdName(obj1[attr], null);\n  var key2 = convertOptionIdName(obj2[attr], null);\n  return key1 != null && key2 != null && key1 === key2;\n}\n\nfunction makeComparableKey(val) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (val == null) {\n      throw new Error();\n    }\n  }\n\n  return convertOptionIdName(val, '');\n}\n\nexport function convertOptionIdName(idOrName, defaultValue) {\n  if (idOrName == null) {\n    return defaultValue;\n  }\n\n  var type = typeof idOrName;\n  return type === 'string' ? idOrName : type === 'number' || isStringSafe(idOrName) ? idOrName + '' : defaultValue;\n}\n\nfunction warnInvalidateIdOrName(idOrName) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn('`' + idOrName + '` is invalid id or name. Must be a string or number.');\n  }\n}\n\nfunction isValidIdOrName(idOrName) {\n  return isStringSafe(idOrName) || isNumeric(idOrName);\n}\n\nexport function isNameSpecified(componentModel) {\n  var name = componentModel.name;\n  return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n}\nexport function isComponentIdInternal(cmptOption) {\n  return cmptOption && cmptOption.id != null && makeComparableKey(cmptOption.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;\n}\nexport function makeInternalComponentId(idSuffix) {\n  return INTERNAL_COMPONENT_ID_PREFIX + idSuffix;\n}\nexport function setComponentTypeToKeyInfo(mappingResult, mainType, componentModelCtor) {\n  each(mappingResult, function (item) {\n    var newOption = item.newOption;\n\n    if (isObject(newOption)) {\n      item.keyInfo.mainType = mainType;\n      item.keyInfo.subType = determineSubType(mainType, newOption, item.existing, componentModelCtor);\n    }\n  });\n}\n\nfunction determineSubType(mainType, newCmptOption, existComponent, componentModelCtor) {\n  var subType = newCmptOption.type ? newCmptOption.type : existComponent ? existComponent.subType : componentModelCtor.determineSubType(mainType, newCmptOption);\n  return subType;\n}\n\nexport function compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = convertOptionIdName(sourceBatch[i].seriesId, null);\n\n      if (seriesId == null) {\n        return;\n      }\n\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n\n  function mapToArray(map, isData) {\n    var result = [];\n\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n}\nexport function queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return isArray(payload.dataIndex) ? map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return isArray(payload.name) ? map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\nexport function makeInner() {\n  var key = '__ec_inner_' + innerUniqueIndex++;\n  return function (hostObj) {\n    return hostObj[key] || (hostObj[key] = {});\n  };\n}\nvar innerUniqueIndex = getRandomIdBase();\nexport function parseFinder(ecModel, finderInput, opt) {\n  var finder;\n\n  if (isString(finderInput)) {\n    var obj = {};\n    obj[finderInput + 'Index'] = 0;\n    finder = obj;\n  } else {\n    finder = finderInput;\n  }\n\n  var queryOptionMap = createHashMap();\n  var result = {};\n  var mainTypeSpecified = false;\n  each(finder, function (value, key) {\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      result[key] = value;\n      return;\n    }\n\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n\n    if (!mainType || !queryType || opt && opt.includeMainTypes && indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n\n    mainTypeSpecified = mainTypeSpecified || !!mainType;\n    var queryOption = queryOptionMap.get(mainType) || queryOptionMap.set(mainType, {});\n    queryOption[queryType] = value;\n  });\n  var defaultMainType = opt ? opt.defaultMainType : null;\n\n  if (!mainTypeSpecified && defaultMainType) {\n    queryOptionMap.set(defaultMainType, {});\n  }\n\n  queryOptionMap.each(function (queryOption, mainType) {\n    var queryResult = queryReferringComponents(ecModel, mainType, queryOption, {\n      useDefault: defaultMainType === mainType,\n      enableAll: opt && opt.enableAll != null ? opt.enableAll : true,\n      enableNone: opt && opt.enableNone != null ? opt.enableNone : true\n    });\n    result[mainType + 'Models'] = queryResult.models;\n    result[mainType + 'Model'] = queryResult.models[0];\n  });\n  return result;\n}\nexport var SINGLE_REFERRING = {\n  useDefault: true,\n  enableAll: false,\n  enableNone: false\n};\nexport var MULTIPLE_REFERRING = {\n  useDefault: false,\n  enableAll: true,\n  enableNone: true\n};\nexport function queryReferringComponents(ecModel, mainType, userOption, opt) {\n  opt = opt || SINGLE_REFERRING;\n  var indexOption = userOption.index;\n  var idOption = userOption.id;\n  var nameOption = userOption.name;\n  var result = {\n    models: null,\n    specified: indexOption != null || idOption != null || nameOption != null\n  };\n\n  if (!result.specified) {\n    var firstCmpt = void 0;\n    result.models = opt.useDefault && (firstCmpt = ecModel.getComponent(mainType)) ? [firstCmpt] : [];\n    return result;\n  }\n\n  if (indexOption === 'none' || indexOption === false) {\n    assert(opt.enableNone, '`\"none\"` or `false` is not a valid value on index option.');\n    result.models = [];\n    return result;\n  }\n\n  if (indexOption === 'all') {\n    assert(opt.enableAll, '`\"all\"` is not a valid value on index option.');\n    indexOption = idOption = nameOption = null;\n  }\n\n  result.models = ecModel.queryComponents({\n    mainType: mainType,\n    index: indexOption,\n    id: idOption,\n    name: nameOption\n  });\n  return result;\n}\nexport function setAttribute(dom, key, value) {\n  dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n}\nexport function getAttribute(dom, key) {\n  return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n}\nexport function getTooltipRenderMode(renderModeOption) {\n  if (renderModeOption === 'auto') {\n    return env.domSupported ? 'html' : 'richText';\n  } else {\n    return renderModeOption || 'html';\n  }\n}\nexport function groupData(array, getKey) {\n  var buckets = createHashMap();\n  var keys = [];\n  each(array, function (item) {\n    var key = getKey(item);\n    (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n  });\n  return {\n    keys: keys,\n    buckets: buckets\n  };\n}\nexport function interpolateRawValues(data, precision, sourceValue, targetValue, percent) {\n  var isAutoPrecision = precision == null || precision === 'auto';\n\n  if (targetValue == null) {\n    return targetValue;\n  }\n\n  if (typeof targetValue === 'number') {\n    var value = interpolateNumber(sourceValue || 0, targetValue, percent);\n    return round(value, isAutoPrecision ? Math.max(getPrecisionSafe(sourceValue || 0), getPrecisionSafe(targetValue)) : precision);\n  } else if (typeof targetValue === 'string') {\n    return percent < 1 ? sourceValue : targetValue;\n  } else {\n    var interpolated = [];\n    var leftArr = sourceValue || [];\n    var rightArr = targetValue;\n    var length_1 = Math.max(leftArr.length, rightArr.length);\n\n    for (var i = 0; i < length_1; ++i) {\n      var info = data.getDimensionInfo(i);\n\n      if (info.type === 'ordinal') {\n        interpolated[i] = (percent < 1 ? leftArr : rightArr)[i];\n      } else {\n        var leftVal = leftArr && leftArr[i] ? leftArr[i] : 0;\n        var rightVal = rightArr[i];\n        var value = leftArr == null ? targetValue[i] : interpolateNumber(leftVal, rightVal, percent);\n        interpolated[i] = round(value, isAutoPrecision ? Math.max(getPrecisionSafe(leftVal), getPrecisionSafe(rightVal)) : precision);\n      }\n    }\n\n    return interpolated;\n  }\n}"]},"metadata":{},"sourceType":"module"}
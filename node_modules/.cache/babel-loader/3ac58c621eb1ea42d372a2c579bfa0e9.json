{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport { Animated, Easing, Text, View } from 'react-native';\n\nvar Marquee = function (_React$PureComponent) {\n  _inherits(Marquee, _React$PureComponent);\n\n  function Marquee(props) {\n    _classCallCheck(this, Marquee);\n\n    var _this = _possibleConstructorReturn(this, (Marquee.__proto__ || Object.getPrototypeOf(Marquee)).call(this, props));\n\n    _this.onLayout = function (e) {\n      if (_this.state.twidth) {\n        return;\n      }\n\n      _this.setState({\n        twidth: e.nativeEvent.layout.width\n      }, function () {\n        // onLayout may be earlier than onLayoutContainer on android, can not be sure width < twidth at that time.\n        _this.tryStart();\n      });\n    };\n\n    _this.onLayoutContainer = function (e) {\n      if (!_this.state.width) {\n        _this.setState({\n          width: e.nativeEvent.layout.width\n        }, function () {\n          _this.left.setValue(0);\n\n          _this.tryStart();\n        });\n      }\n    };\n\n    _this.startMove = function () {\n      var _this$props = _this.props,\n          _this$props$fps = _this$props.fps,\n          fps = _this$props$fps === undefined ? 40 : _this$props$fps,\n          loop = _this$props.loop;\n      var SPPED = 1 / fps * 1000; // tslint:disable-next-line:no-this-assignment\n\n      var props = _this.props;\n      Animated.timing(_this.left, {\n        toValue: 1,\n        duration: _this.state.twidth * SPPED,\n        easing: Easing.linear,\n        delay: props.leading,\n        isInteraction: false,\n        useNativeDriver: true\n      }).start(function () {\n        if (loop) {\n          _this.moveToHeader();\n        }\n      });\n    };\n\n    _this.moveToHeader = function () {\n      Animated.timing(_this.left, {\n        toValue: 0,\n        duration: 0,\n        delay: _this.props.trailing,\n        isInteraction: false,\n        useNativeDriver: true\n      }).start(function () {\n        _this.startMove();\n      });\n    };\n\n    _this.texts = {};\n    _this.left = new Animated.Value(0);\n    _this.state = {\n      twidth: 0,\n      width: 0\n    };\n    return _this;\n  }\n\n  _createClass(Marquee, [{\n    key: 'tryStart',\n    value: function tryStart() {\n      if (this.state.twidth > this.state.width && this.state.width) {\n        this.startMove();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          width = _state.width,\n          twidth = _state.twidth;\n      var _props = this.props,\n          style = _props.style,\n          text = _props.text,\n          maxWidth = _props.maxWidth;\n      var textChildren = React.createElement(Text, {\n        onLayout: this.onLayout,\n        numberOfLines: 1,\n        ellipsizeMode: 'tail',\n        style: style\n      }, text);\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        onLayout: this.onLayoutContainer\n      }, React.createElement(Animated.View, {\n        // tslint:disable-next-line:jsx-no-multiline-js\n        style: {\n          flexDirection: 'row',\n          transform: [{\n            translateX: this.left.interpolate({\n              inputRange: [0, 1],\n              outputRange: [0, -twidth + width]\n            })\n          }],\n          width: maxWidth\n        }\n      }, textChildren));\n    }\n  }]);\n\n  return Marquee;\n}(React.PureComponent);\n\nMarquee.defaultProps = {\n  text: '',\n  loop: false,\n  leading: 500,\n  trailing: 800,\n  fps: 40,\n  maxWidth: 1000\n};\nexport default Marquee;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@ant-design/react-native/es/notice-bar/Marquee.js"],"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Animated","Easing","Text","View","Marquee","_React$PureComponent","props","_this","__proto__","Object","getPrototypeOf","call","onLayout","e","state","twidth","setState","nativeEvent","layout","width","tryStart","onLayoutContainer","left","setValue","startMove","_this$props","_this$props$fps","fps","undefined","loop","SPPED","timing","toValue","duration","easing","linear","delay","leading","isInteraction","useNativeDriver","start","moveToHeader","trailing","texts","Value","key","value","render","_state","_props","style","text","maxWidth","textChildren","createElement","numberOfLines","ellipsizeMode","flex","flexDirection","alignItems","transform","translateX","interpolate","inputRange","outputRange","PureComponent","defaultProps"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport { Animated, Easing, Text, View } from 'react-native';\n\nvar Marquee = function (_React$PureComponent) {\n    _inherits(Marquee, _React$PureComponent);\n\n    function Marquee(props) {\n        _classCallCheck(this, Marquee);\n\n        var _this = _possibleConstructorReturn(this, (Marquee.__proto__ || Object.getPrototypeOf(Marquee)).call(this, props));\n\n        _this.onLayout = function (e) {\n            if (_this.state.twidth) {\n                return;\n            }\n            _this.setState({\n                twidth: e.nativeEvent.layout.width\n            }, function () {\n                // onLayout may be earlier than onLayoutContainer on android, can not be sure width < twidth at that time.\n                _this.tryStart();\n            });\n        };\n        _this.onLayoutContainer = function (e) {\n            if (!_this.state.width) {\n                _this.setState({\n                    width: e.nativeEvent.layout.width\n                }, function () {\n                    _this.left.setValue(0);\n                    _this.tryStart();\n                });\n            }\n        };\n        _this.startMove = function () {\n            var _this$props = _this.props,\n                _this$props$fps = _this$props.fps,\n                fps = _this$props$fps === undefined ? 40 : _this$props$fps,\n                loop = _this$props.loop;\n\n            var SPPED = 1 / fps * 1000;\n            // tslint:disable-next-line:no-this-assignment\n            var props = _this.props;\n\n            Animated.timing(_this.left, {\n                toValue: 1,\n                duration: _this.state.twidth * SPPED,\n                easing: Easing.linear,\n                delay: props.leading,\n                isInteraction: false,\n                useNativeDriver: true\n            }).start(function () {\n                if (loop) {\n                    _this.moveToHeader();\n                }\n            });\n        };\n        _this.moveToHeader = function () {\n            Animated.timing(_this.left, {\n                toValue: 0,\n                duration: 0,\n                delay: _this.props.trailing,\n                isInteraction: false,\n                useNativeDriver: true\n            }).start(function () {\n                _this.startMove();\n            });\n        };\n        _this.texts = {};\n        _this.left = new Animated.Value(0);\n        _this.state = {\n            twidth: 0,\n            width: 0\n        };\n        return _this;\n    }\n\n    _createClass(Marquee, [{\n        key: 'tryStart',\n        value: function tryStart() {\n            if (this.state.twidth > this.state.width && this.state.width) {\n                this.startMove();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _state = this.state,\n                width = _state.width,\n                twidth = _state.twidth;\n            var _props = this.props,\n                style = _props.style,\n                text = _props.text,\n                maxWidth = _props.maxWidth;\n\n            var textChildren = React.createElement(\n                Text,\n                { onLayout: this.onLayout, numberOfLines: 1, ellipsizeMode: 'tail', style: style },\n                text\n            );\n            return React.createElement(\n                View,\n                { style: { flex: 1, flexDirection: 'row', alignItems: 'center' }, onLayout: this.onLayoutContainer },\n                React.createElement(\n                    Animated.View,\n                    {\n                        // tslint:disable-next-line:jsx-no-multiline-js\n                        style: {\n                            flexDirection: 'row',\n                            transform: [{\n                                translateX: this.left.interpolate({\n                                    inputRange: [0, 1],\n                                    outputRange: [0, -twidth + width]\n                                })\n                            }],\n                            width: maxWidth\n                        } },\n                    textChildren\n                )\n            );\n        }\n    }]);\n\n    return Marquee;\n}(React.PureComponent);\n\nMarquee.defaultProps = {\n    text: '',\n    loop: false,\n    leading: 500,\n    trailing: 800,\n    fps: 40,\n    maxWidth: 1000\n};\nexport default Marquee;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\"use strict\";\n\nexports.__esModule = true;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Text_1 = require(\"zrender/lib/graphic/Text\");\n\nvar tooltipMarkup_1 = require(\"./tooltipMarkup\");\n\nvar log_1 = require(\"../../util/log\");\n\nvar TooltipRichContent = function () {\n  function TooltipRichContent(api) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._zr = api.getZr();\n    makeStyleCoord(this._styleCoord, this._zr, api.getWidth() / 2, api.getHeight() / 2);\n  }\n\n  TooltipRichContent.prototype.update = function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n  };\n\n  TooltipRichContent.prototype.show = function () {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.show();\n    this._show = true;\n  };\n\n  TooltipRichContent.prototype.setContent = function (content, markupStyleCreator, tooltipModel, borderColor, arrowPosition) {\n    if (zrUtil.isObject(content)) {\n      log_1.throwError(process.env.NODE_ENV !== 'production' ? 'Passing DOM nodes as content is not supported in richText tooltip!' : '');\n    }\n\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    this.el = new Text_1[\"default\"]({\n      style: {\n        rich: markupStyleCreator.richTextStyles,\n        text: content,\n        lineHeight: 22,\n        backgroundColor: tooltipModel.get('backgroundColor'),\n        borderRadius: tooltipModel.get('borderRadius'),\n        borderWidth: 1,\n        borderColor: borderColor,\n        shadowColor: tooltipModel.get('shadowColor'),\n        shadowBlur: tooltipModel.get('shadowBlur'),\n        shadowOffsetX: tooltipModel.get('shadowOffsetX'),\n        shadowOffsetY: tooltipModel.get('shadowOffsetY'),\n        textShadowColor: textStyleModel.get('textShadowColor'),\n        textShadowBlur: textStyleModel.get('textShadowBlur') || 0,\n        textShadowOffsetX: textStyleModel.get('textShadowOffsetX') || 0,\n        textShadowOffsetY: textStyleModel.get('textShadowOffsetY') || 0,\n        fill: tooltipModel.get(['textStyle', 'color']),\n        padding: tooltipMarkup_1.getPaddingFromTooltipModel(tooltipModel, 'richText'),\n        verticalAlign: 'top',\n        align: 'left'\n      },\n      z: tooltipModel.get('z')\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  };\n\n  TooltipRichContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n\n  TooltipRichContent.prototype.getSize = function () {\n    var el = this.el;\n    var bounding = this.el.getBoundingRect();\n    var shadowOuterSize = calcShadowOuterSize(el.style);\n    return [bounding.width + shadowOuterSize.left + shadowOuterSize.right, bounding.height + shadowOuterSize.top + shadowOuterSize.bottom];\n  };\n\n  TooltipRichContent.prototype.moveTo = function (x, y) {\n    var el = this.el;\n\n    if (el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      x = styleCoord[0];\n      y = styleCoord[1];\n      var style = el.style;\n      var borderWidth = mathMaxWith0(style.borderWidth || 0);\n      var shadowOuterSize = calcShadowOuterSize(style);\n      el.x = x + borderWidth + shadowOuterSize.left;\n      el.y = y + borderWidth + shadowOuterSize.top;\n      el.markRedraw();\n    }\n  };\n\n  TooltipRichContent.prototype._moveIfResized = function () {\n    var ratioX = this._styleCoord[2];\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n\n  TooltipRichContent.prototype.hide = function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  };\n\n  TooltipRichContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time;\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n\n  TooltipRichContent.prototype.isShow = function () {\n    return this._show;\n  };\n\n  TooltipRichContent.prototype.getOuterSize = function () {\n    var size = this.getSize();\n    return {\n      width: size[0],\n      height: size[1]\n    };\n  };\n\n  TooltipRichContent.prototype.dispose = function () {\n    this._zr.remove(this.el);\n  };\n\n  return TooltipRichContent;\n}();\n\nfunction mathMaxWith0(val) {\n  return Math.max(0, val);\n}\n\nfunction calcShadowOuterSize(style) {\n  var shadowBlur = mathMaxWith0(style.shadowBlur || 0);\n  var shadowOffsetX = mathMaxWith0(style.shadowOffsetX || 0);\n  var shadowOffsetY = mathMaxWith0(style.shadowOffsetY || 0);\n  return {\n    left: mathMaxWith0(shadowBlur - shadowOffsetX),\n    right: mathMaxWith0(shadowBlur + shadowOffsetX),\n    top: mathMaxWith0(shadowBlur - shadowOffsetY),\n    bottom: mathMaxWith0(shadowBlur + shadowOffsetY)\n  };\n}\n\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\n\nexports[\"default\"] = TooltipRichContent;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/echarts/lib/component/tooltip/TooltipRichContent.js"],"names":["exports","__esModule","zrUtil","require","Text_1","tooltipMarkup_1","log_1","TooltipRichContent","api","_show","_styleCoord","_enterable","_zr","getZr","makeStyleCoord","getWidth","getHeight","prototype","update","tooltipModel","alwaysShowContent","get","_moveIfResized","show","_hideTimeout","clearTimeout","el","setContent","content","markupStyleCreator","borderColor","arrowPosition","isObject","throwError","process","env","NODE_ENV","remove","textStyleModel","getModel","style","rich","richTextStyles","text","lineHeight","backgroundColor","borderRadius","borderWidth","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","fill","padding","getPaddingFromTooltipModel","verticalAlign","align","z","add","self","on","_inContent","hideLater","_hideDelay","setEnterable","enterable","getSize","bounding","getBoundingRect","shadowOuterSize","calcShadowOuterSize","width","left","right","height","top","bottom","moveTo","x","y","styleCoord","mathMaxWith0","markRedraw","ratioX","ratioY","hide","time","setTimeout","bind","isShow","getOuterSize","size","dispose","val","Math","max","out","zr","zrX","zrY"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n\"use strict\";\n\nexports.__esModule = true;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Text_1 = require(\"zrender/lib/graphic/Text\");\n\nvar tooltipMarkup_1 = require(\"./tooltipMarkup\");\n\nvar log_1 = require(\"../../util/log\");\n\nvar TooltipRichContent = function () {\n  function TooltipRichContent(api) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._zr = api.getZr();\n    makeStyleCoord(this._styleCoord, this._zr, api.getWidth() / 2, api.getHeight() / 2);\n  }\n\n  TooltipRichContent.prototype.update = function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized();\n  };\n\n  TooltipRichContent.prototype.show = function () {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.show();\n    this._show = true;\n  };\n\n  TooltipRichContent.prototype.setContent = function (content, markupStyleCreator, tooltipModel, borderColor, arrowPosition) {\n    if (zrUtil.isObject(content)) {\n      log_1.throwError(process.env.NODE_ENV !== 'production' ? 'Passing DOM nodes as content is not supported in richText tooltip!' : '');\n    }\n\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    this.el = new Text_1[\"default\"]({\n      style: {\n        rich: markupStyleCreator.richTextStyles,\n        text: content,\n        lineHeight: 22,\n        backgroundColor: tooltipModel.get('backgroundColor'),\n        borderRadius: tooltipModel.get('borderRadius'),\n        borderWidth: 1,\n        borderColor: borderColor,\n        shadowColor: tooltipModel.get('shadowColor'),\n        shadowBlur: tooltipModel.get('shadowBlur'),\n        shadowOffsetX: tooltipModel.get('shadowOffsetX'),\n        shadowOffsetY: tooltipModel.get('shadowOffsetY'),\n        textShadowColor: textStyleModel.get('textShadowColor'),\n        textShadowBlur: textStyleModel.get('textShadowBlur') || 0,\n        textShadowOffsetX: textStyleModel.get('textShadowOffsetX') || 0,\n        textShadowOffsetY: textStyleModel.get('textShadowOffsetY') || 0,\n        fill: tooltipModel.get(['textStyle', 'color']),\n        padding: tooltipMarkup_1.getPaddingFromTooltipModel(tooltipModel, 'richText'),\n        verticalAlign: 'top',\n        align: 'left'\n      },\n      z: tooltipModel.get('z')\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  };\n\n  TooltipRichContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n\n  TooltipRichContent.prototype.getSize = function () {\n    var el = this.el;\n    var bounding = this.el.getBoundingRect();\n    var shadowOuterSize = calcShadowOuterSize(el.style);\n    return [bounding.width + shadowOuterSize.left + shadowOuterSize.right, bounding.height + shadowOuterSize.top + shadowOuterSize.bottom];\n  };\n\n  TooltipRichContent.prototype.moveTo = function (x, y) {\n    var el = this.el;\n\n    if (el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      x = styleCoord[0];\n      y = styleCoord[1];\n      var style = el.style;\n      var borderWidth = mathMaxWith0(style.borderWidth || 0);\n      var shadowOuterSize = calcShadowOuterSize(style);\n      el.x = x + borderWidth + shadowOuterSize.left;\n      el.y = y + borderWidth + shadowOuterSize.top;\n      el.markRedraw();\n    }\n  };\n\n  TooltipRichContent.prototype._moveIfResized = function () {\n    var ratioX = this._styleCoord[2];\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n\n  TooltipRichContent.prototype.hide = function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  };\n\n  TooltipRichContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time;\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n\n  TooltipRichContent.prototype.isShow = function () {\n    return this._show;\n  };\n\n  TooltipRichContent.prototype.getOuterSize = function () {\n    var size = this.getSize();\n    return {\n      width: size[0],\n      height: size[1]\n    };\n  };\n\n  TooltipRichContent.prototype.dispose = function () {\n    this._zr.remove(this.el);\n  };\n\n  return TooltipRichContent;\n}();\n\nfunction mathMaxWith0(val) {\n  return Math.max(0, val);\n}\n\nfunction calcShadowOuterSize(style) {\n  var shadowBlur = mathMaxWith0(style.shadowBlur || 0);\n  var shadowOffsetX = mathMaxWith0(style.shadowOffsetX || 0);\n  var shadowOffsetY = mathMaxWith0(style.shadowOffsetY || 0);\n  return {\n    left: mathMaxWith0(shadowBlur - shadowOffsetX),\n    right: mathMaxWith0(shadowBlur + shadowOffsetX),\n    top: mathMaxWith0(shadowBlur - shadowOffsetY),\n    bottom: mathMaxWith0(shadowBlur + shadowOffsetY)\n  };\n}\n\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\n\nexports[\"default\"] = TooltipRichContent;"]},"metadata":{},"sourceType":"script"}
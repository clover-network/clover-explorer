{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport { WithTheme } from '../style';\nimport Modal from './Modal';\nimport modalStyle from './style/index';\n\nvar OperationContainer = function (_React$Component) {\n  _inherits(OperationContainer, _React$Component);\n\n  function OperationContainer(props) {\n    _classCallCheck(this, OperationContainer);\n\n    var _this = _possibleConstructorReturn(this, (OperationContainer.__proto__ || Object.getPrototypeOf(OperationContainer)).call(this, props));\n\n    _this.onBackAndroid = function () {\n      var onBackHandler = _this.props.onBackHandler;\n\n      if (typeof onBackHandler === 'function') {\n        var flag = onBackHandler();\n\n        if (flag) {\n          _this.onClose();\n        }\n\n        return true;\n      } else if (_this.state.visible) {\n        _this.onClose();\n\n        return true;\n      }\n\n      return false;\n    };\n\n    _this.onClose = function () {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.state = {\n      visible: true\n    };\n    return _this;\n  }\n\n  _createClass(OperationContainer, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          actions = _props.actions,\n          onAnimationEnd = _props.onAnimationEnd;\n      var footer = actions.map(function (button) {\n        // tslint:disable-next-line:only-arrow-functions\n        var orginPress = button.onPress || function () {};\n\n        button.onPress = function () {\n          var res = orginPress();\n\n          if (res && res.then) {\n            res.then(function () {\n              _this2.onClose();\n            });\n          } else {\n            _this2.onClose();\n          }\n        };\n\n        return button;\n      });\n      return React.createElement(WithTheme, {\n        themeStyles: modalStyle\n      }, function (styles) {\n        return React.createElement(Modal, {\n          operation: true,\n          transparent: true,\n          maskClosable: true,\n          visible: _this2.state.visible,\n          onClose: _this2.onClose,\n          onAnimationEnd: onAnimationEnd,\n          onRequestClose: _this2.onBackAndroid,\n          style: styles.operationContainer,\n          bodyStyle: styles.operationBody,\n          footer: footer\n        });\n      });\n    }\n  }]);\n\n  return OperationContainer;\n}(React.Component);\n\nexport default OperationContainer;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@ant-design/react-native/es/modal/OperationContainer.js"],"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","WithTheme","Modal","modalStyle","OperationContainer","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","onBackAndroid","onBackHandler","flag","onClose","state","visible","setState","key","value","render","_this2","_props","actions","onAnimationEnd","footer","map","button","orginPress","onPress","res","then","createElement","themeStyles","styles","operation","transparent","maskClosable","onRequestClose","style","operationContainer","bodyStyle","operationBody","Component"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport { WithTheme } from '../style';\nimport Modal from './Modal';\nimport modalStyle from './style/index';\n\nvar OperationContainer = function (_React$Component) {\n    _inherits(OperationContainer, _React$Component);\n\n    function OperationContainer(props) {\n        _classCallCheck(this, OperationContainer);\n\n        var _this = _possibleConstructorReturn(this, (OperationContainer.__proto__ || Object.getPrototypeOf(OperationContainer)).call(this, props));\n\n        _this.onBackAndroid = function () {\n            var onBackHandler = _this.props.onBackHandler;\n\n            if (typeof onBackHandler === 'function') {\n                var flag = onBackHandler();\n                if (flag) {\n                    _this.onClose();\n                }\n                return true;\n            } else if (_this.state.visible) {\n                _this.onClose();\n                return true;\n            }\n            return false;\n        };\n        _this.onClose = function () {\n            _this.setState({\n                visible: false\n            });\n        };\n        _this.state = {\n            visible: true\n        };\n        return _this;\n    }\n\n    _createClass(OperationContainer, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                actions = _props.actions,\n                onAnimationEnd = _props.onAnimationEnd;\n\n            var footer = actions.map(function (button) {\n                // tslint:disable-next-line:only-arrow-functions\n                var orginPress = button.onPress || function () {};\n                button.onPress = function () {\n                    var res = orginPress();\n                    if (res && res.then) {\n                        res.then(function () {\n                            _this2.onClose();\n                        });\n                    } else {\n                        _this2.onClose();\n                    }\n                };\n                return button;\n            });\n            return React.createElement(\n                WithTheme,\n                { themeStyles: modalStyle },\n                function (styles) {\n                    return React.createElement(Modal, { operation: true, transparent: true, maskClosable: true, visible: _this2.state.visible, onClose: _this2.onClose, onAnimationEnd: onAnimationEnd, onRequestClose: _this2.onBackAndroid, style: styles.operationContainer, bodyStyle: styles.operationBody, footer: footer });\n                }\n            );\n        }\n    }]);\n\n    return OperationContainer;\n}(React.Component);\n\nexport default OperationContainer;"]},"metadata":{},"sourceType":"module"}
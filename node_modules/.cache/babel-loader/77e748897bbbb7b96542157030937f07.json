{"ast":null,"code":"\"use strict\";\n/**\n * @fileoverview dom\n * @author dengfuping_develop@163.com\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar util_1 = require(\"@antv/util\");\n\nvar constant_1 = require(\"../constant\");\n\nvar base_1 = require(\"./base\");\n\nvar Dom =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Dom, _super);\n\n  function Dom() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'dom';\n    _this.canFill = false;\n    _this.canStroke = false;\n    return _this;\n  }\n\n  Dom.prototype.createPath = function (context, targetAttrs) {\n    var attrs = this.attr();\n    var el = this.get('el');\n    util_1.each(targetAttrs || attrs, function (value, attr) {\n      if (constant_1.SVG_ATTR_MAP[attr]) {\n        el.setAttribute(constant_1.SVG_ATTR_MAP[attr], value);\n      }\n    });\n\n    if (typeof attrs['html'] === 'function') {\n      var element = attrs['html'].call(this, attrs);\n\n      if (element instanceof Element || element instanceof HTMLDocument) {\n        var children = el.childNodes;\n\n        for (var i = children.length - 1; i >= 0; i--) {\n          el.removeChild(children[i]);\n        }\n\n        el.appendChild(element); // append to el if it's an element\n      } else {\n        el.innerHTML = element; // set innerHTML\n      }\n    } else {\n      el.innerHTML = attrs['html']; // set innerHTML\n    }\n  };\n\n  return Dom;\n}(base_1.default);\n\nexports.default = Dom;","map":{"version":3,"sources":["../../src/shape/dom.ts"],"names":[],"mappings":";AAAA;;;AAGG;;;;;;;;AAEH,IAAA,MAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AAEA,IAAA,GAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAkB,EAAA,OAAA,CAAA,SAAA,CAAA,GAAA,EAAA,MAAA;;AAAlB,WAAA,GAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AACE,IAAA,KAAA,CAAA,IAAA,GAAe,KAAf;AACA,IAAA,KAAA,CAAA,OAAA,GAAmB,KAAnB;AACA,IAAA,KAAA,CAAA,SAAA,GAAqB,KAArB;;AAyBD;;AAvBC,EAAA,GAAA,CAAA,SAAA,CAAA,UAAA,GAAA,UAAW,OAAX,EAAoB,WAApB,EAA+B;AAC7B,QAAM,KAAK,GAAG,KAAK,IAAL,EAAd;AACA,QAAM,EAAE,GAAG,KAAK,GAAL,CAAS,IAAT,CAAX;AACA,IAAA,MAAA,CAAA,IAAA,CAAK,WAAW,IAAI,KAApB,EAA2B,UAAC,KAAD,EAAQ,IAAR,EAAY;AACrC,UAAI,UAAA,CAAA,YAAA,CAAa,IAAb,CAAJ,EAAwB;AACtB,QAAA,EAAE,CAAC,YAAH,CAAgB,UAAA,CAAA,YAAA,CAAa,IAAb,CAAhB,EAAoC,KAApC;AACD;AACF,KAJD;;AAKA,QAAI,OAAO,KAAK,CAAC,MAAD,CAAZ,KAAyB,UAA7B,EAAyC;AACvC,UAAM,OAAO,GAAG,KAAK,CAAC,MAAD,CAAL,CAAc,IAAd,CAAmB,IAAnB,EAAyB,KAAzB,CAAhB;;AACA,UAAI,OAAO,YAAY,OAAnB,IAA8B,OAAO,YAAY,YAArD,EAAmE;AACjE,YAAM,QAAQ,GAAG,EAAE,CAAC,UAApB;;AACA,aAAK,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAT,GAAkB,CAA/B,EAAkC,CAAC,IAAI,CAAvC,EAA0C,CAAC,EAA3C,EAA+C;AAC7C,UAAA,EAAE,CAAC,WAAH,CAAe,QAAQ,CAAC,CAAD,CAAvB;AACD;;AACD,QAAA,EAAE,CAAC,WAAH,CAAe,OAAf,EALiE,CAKxC;AAC1B,OAND,MAMO;AACL,QAAA,EAAE,CAAC,SAAH,GAAe,OAAf,CADK,CACmB;AACzB;AACF,KAXD,MAWO;AACL,MAAA,EAAE,CAAC,SAAH,GAAe,KAAK,CAAC,MAAD,CAApB,CADK,CACyB;AAC/B;AACF,GAtBD;;AAuBF,SAAA,GAAA;AAAC,CA5BD,CAAkB,MAAA,CAAA,OAAlB,CAAA;;AA8BA,OAAA,CAAA,OAAA,GAAe,GAAf","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @fileoverview dom\n * @author dengfuping_develop@163.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar constant_1 = require(\"../constant\");\nvar base_1 = require(\"./base\");\nvar Dom = /** @class */ (function (_super) {\n    tslib_1.__extends(Dom, _super);\n    function Dom() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'dom';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    Dom.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        util_1.each(targetAttrs || attrs, function (value, attr) {\n            if (constant_1.SVG_ATTR_MAP[attr]) {\n                el.setAttribute(constant_1.SVG_ATTR_MAP[attr], value);\n            }\n        });\n        if (typeof attrs['html'] === 'function') {\n            var element = attrs['html'].call(this, attrs);\n            if (element instanceof Element || element instanceof HTMLDocument) {\n                var children = el.childNodes;\n                for (var i = children.length - 1; i >= 0; i--) {\n                    el.removeChild(children[i]);\n                }\n                el.appendChild(element); // append to el if it's an element\n            }\n            else {\n                el.innerHTML = element; // set innerHTML\n            }\n        }\n        else {\n            el.innerHTML = attrs['html']; // set innerHTML\n        }\n    };\n    return Dom;\n}(base_1.default));\nexports.default = Dom;\n//# sourceMappingURL=dom.js.map"]},"metadata":{},"sourceType":"script"}
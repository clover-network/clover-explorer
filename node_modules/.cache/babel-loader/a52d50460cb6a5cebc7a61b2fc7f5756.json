{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Dimensions, StyleSheet, Text, TouchableHighlight, TouchableWithoutFeedback, View, KeyboardAvoidingView, Platform } from 'react-native';\nimport { WithTheme } from '../style';\nimport { getComponentLocale } from '../_util/getLocale';\nimport zh_CN from './locale/zh_CN';\nimport RCModal from './ModalView';\nimport modalStyles from './style/index';\nvar maxHeight = StyleSheet.create({\n  maxHeight: {\n    maxHeight: Dimensions.get('window').height\n  }\n}).maxHeight;\n\nvar AntmModal = function (_React$Component) {\n  _inherits(AntmModal, _React$Component);\n\n  function AntmModal() {\n    _classCallCheck(this, AntmModal);\n\n    var _this = _possibleConstructorReturn(this, (AntmModal.__proto__ || Object.getPrototypeOf(AntmModal)).apply(this, arguments));\n\n    _this.onFooterLayout = function (e) {\n      if (_this.root) {\n        var height = Math.floor(e.nativeEvent.layout.height);\n\n        _this.root.setNativeProps({\n          style: [{\n            paddingBottom: height + 1\n          }, maxHeight]\n        });\n      }\n    };\n\n    _this.saveRoot = function (root) {\n      _this.root = root;\n    };\n\n    return _this;\n  }\n\n  _createClass(AntmModal, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          title = _props.title,\n          closable = _props.closable,\n          footer = _props.footer,\n          children = _props.children,\n          style = _props.style,\n          animateAppear = _props.animateAppear,\n          maskClosable = _props.maskClosable,\n          popup = _props.popup,\n          transparent = _props.transparent,\n          visible = _props.visible,\n          onClose = _props.onClose,\n          bodyStyle = _props.bodyStyle,\n          onAnimationEnd = _props.onAnimationEnd,\n          onRequestClose = _props.onRequestClose; // tslint:disable-next-line:variable-name\n\n      var _locale = getComponentLocale(this.props, this.context, 'Modal', function () {\n        return zh_CN;\n      });\n\n      return React.createElement(WithTheme, {\n        styles: this.props.styles,\n        themeStyles: modalStyles\n      }, function (styles) {\n        var btnGroupStyle = styles.buttonGroupV;\n        var horizontalFlex = {};\n\n        if (footer && footer.length === 2 && !_this2.props.operation) {\n          btnGroupStyle = styles.buttonGroupH;\n          horizontalFlex = {\n            flex: 1\n          };\n        }\n\n        var buttonWrapStyle = footer && footer.length === 2 ? styles.buttonWrapH : styles.buttonWrapV;\n        var footerDom = void 0;\n\n        if (footer && footer.length) {\n          var footerButtons = footer.map(function (button, i) {\n            var buttonStyle = {};\n\n            if (_this2.props.operation) {\n              buttonStyle = styles.buttonTextOperation;\n            }\n\n            if (button.style) {\n              buttonStyle = button.style;\n\n              if (typeof buttonStyle === 'string') {\n                var styleMap = {\n                  cancel: {},\n                  'default': {},\n                  destructive: {\n                    color: 'red'\n                  }\n                };\n                buttonStyle = styleMap[buttonStyle] || {};\n              }\n            }\n\n            var noneBorder = footer && footer.length === 2 && i === 1 ? {\n              borderRightWidth: 0\n            } : {};\n\n            var onPressFn = function onPressFn() {\n              if (button.onPress) {\n                button.onPress();\n              }\n\n              if (onClose) {\n                onClose();\n              }\n            };\n\n            return React.createElement(TouchableHighlight, {\n              key: i,\n              style: horizontalFlex,\n              underlayColor: '#ddd',\n              onPress: onPressFn\n            }, React.createElement(View, {\n              style: [buttonWrapStyle, noneBorder]\n            }, React.createElement(Text, {\n              style: [styles.buttonText, buttonStyle]\n            }, button.text || '' + _locale.buttonText + i)));\n          });\n          footerDom = React.createElement(View, {\n            style: [btnGroupStyle, styles.footer],\n            onLayout: _this2.onFooterLayout\n          }, footerButtons);\n        }\n\n        var animType = _this2.props.animationType;\n\n        if (transparent) {\n          if (animType === 'slide') {\n            animType = 'slide-up';\n          }\n\n          var closableDom = closable ? React.createElement(View, {\n            style: [styles.closeWrap]\n          }, React.createElement(TouchableWithoutFeedback, {\n            onPress: onClose\n          }, React.createElement(View, null, React.createElement(Text, {\n            style: [styles.close]\n          }, '\\xD7')))) : null;\n          return React.createElement(View, {\n            style: styles.container\n          }, React.createElement(RCModal, {\n            onClose: onClose,\n            animationType: animType,\n            wrapStyle: transparent ? styles.wrap : undefined,\n            style: styles.wrap,\n            visible: visible,\n            onAnimationEnd: onAnimationEnd,\n            onRequestClose: onRequestClose,\n            animateAppear: animateAppear,\n            maskClosable: maskClosable\n          }, React.createElement(KeyboardAvoidingView, {\n            behavior: 'padding',\n            enabled: Platform.OS === \"ios\"\n          }, React.createElement(View, {\n            style: [styles.innerContainer, style],\n            ref: _this2.saveRoot\n          }, title ? React.createElement(Text, {\n            style: [styles.header]\n          }, title) : null, React.createElement(View, {\n            style: [styles.body, bodyStyle]\n          }, children), footerDom, closableDom))));\n        }\n\n        if (popup) {\n          var aType = 'SlideDown';\n\n          if (animType === 'slide-up') {\n            animType = 'slide-up';\n            aType = 'SlideUp';\n          } else {\n            animType = 'slide-down';\n          }\n\n          return React.createElement(View, {\n            style: styles.container\n          }, React.createElement(RCModal, {\n            onClose: onClose,\n            animationType: animType // tslint:disable-next-line:jsx-no-multiline-js\n            ,\n            style: [styles.popupContainer, styles['popup' + aType], style],\n            visible: visible,\n            onAnimationEnd: onAnimationEnd,\n            onRequestClose: onRequestClose,\n            animateAppear: animateAppear,\n            maskClosable: maskClosable\n          }, React.createElement(View, {\n            ref: _this2.saveRoot,\n            style: bodyStyle\n          }, children)));\n        }\n\n        if (animType === 'slide') {\n          animType = undefined;\n        }\n\n        return React.createElement(View, {\n          style: styles.container\n        }, React.createElement(RCModal, {\n          visible: visible,\n          animationType: animType,\n          onRequestClose: onRequestClose,\n          onClose: onClose\n        }, React.createElement(View, {\n          style: style\n        }, children)));\n      });\n    }\n  }]);\n\n  return AntmModal;\n}(React.Component);\n\nAntmModal.defaultProps = {\n  visible: false,\n  closable: false,\n  maskClosable: false,\n  style: {},\n  bodyStyle: {},\n  animationType: 'fade',\n  onClose: function onClose() {},\n  footer: [],\n  transparent: false,\n  popup: false,\n  animateAppear: true,\n  operation: false\n};\nAntmModal.contextTypes = {\n  antLocale: PropTypes.object\n};\nexport default AntmModal;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@ant-design/react-native/es/modal/Modal.js"],"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","PropTypes","React","Dimensions","StyleSheet","Text","TouchableHighlight","TouchableWithoutFeedback","View","KeyboardAvoidingView","Platform","WithTheme","getComponentLocale","zh_CN","RCModal","modalStyles","maxHeight","create","get","height","AntmModal","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","onFooterLayout","e","root","Math","floor","nativeEvent","layout","setNativeProps","style","paddingBottom","saveRoot","key","value","render","_this2","_props","props","title","closable","footer","children","animateAppear","maskClosable","popup","transparent","visible","onClose","bodyStyle","onAnimationEnd","onRequestClose","_locale","context","createElement","styles","themeStyles","btnGroupStyle","buttonGroupV","horizontalFlex","length","operation","buttonGroupH","flex","buttonWrapStyle","buttonWrapH","buttonWrapV","footerDom","footerButtons","map","button","i","buttonStyle","buttonTextOperation","styleMap","cancel","destructive","color","noneBorder","borderRightWidth","onPressFn","onPress","underlayColor","buttonText","text","onLayout","animType","animationType","closableDom","closeWrap","close","container","wrapStyle","wrap","undefined","behavior","enabled","OS","innerContainer","ref","header","body","aType","popupContainer","Component","defaultProps","contextTypes","antLocale","object"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Dimensions, StyleSheet, Text, TouchableHighlight, TouchableWithoutFeedback, View, KeyboardAvoidingView, Platform } from 'react-native';\nimport { WithTheme } from '../style';\nimport { getComponentLocale } from '../_util/getLocale';\nimport zh_CN from './locale/zh_CN';\nimport RCModal from './ModalView';\nimport modalStyles from './style/index';\nvar maxHeight = StyleSheet.create({\n    maxHeight: {\n        maxHeight: Dimensions.get('window').height\n    }\n}).maxHeight;\n\nvar AntmModal = function (_React$Component) {\n    _inherits(AntmModal, _React$Component);\n\n    function AntmModal() {\n        _classCallCheck(this, AntmModal);\n\n        var _this = _possibleConstructorReturn(this, (AntmModal.__proto__ || Object.getPrototypeOf(AntmModal)).apply(this, arguments));\n\n        _this.onFooterLayout = function (e) {\n            if (_this.root) {\n                var height = Math.floor(e.nativeEvent.layout.height);\n                _this.root.setNativeProps({\n                    style: [{ paddingBottom: height + 1 }, maxHeight]\n                });\n            }\n        };\n        _this.saveRoot = function (root) {\n            _this.root = root;\n        };\n        return _this;\n    }\n\n    _createClass(AntmModal, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                title = _props.title,\n                closable = _props.closable,\n                footer = _props.footer,\n                children = _props.children,\n                style = _props.style,\n                animateAppear = _props.animateAppear,\n                maskClosable = _props.maskClosable,\n                popup = _props.popup,\n                transparent = _props.transparent,\n                visible = _props.visible,\n                onClose = _props.onClose,\n                bodyStyle = _props.bodyStyle,\n                onAnimationEnd = _props.onAnimationEnd,\n                onRequestClose = _props.onRequestClose;\n            // tslint:disable-next-line:variable-name\n\n            var _locale = getComponentLocale(this.props, this.context, 'Modal', function () {\n                return zh_CN;\n            });\n            return React.createElement(\n                WithTheme,\n                { styles: this.props.styles, themeStyles: modalStyles },\n                function (styles) {\n                    var btnGroupStyle = styles.buttonGroupV;\n                    var horizontalFlex = {};\n                    if (footer && footer.length === 2 && !_this2.props.operation) {\n                        btnGroupStyle = styles.buttonGroupH;\n                        horizontalFlex = { flex: 1 };\n                    }\n                    var buttonWrapStyle = footer && footer.length === 2 ? styles.buttonWrapH : styles.buttonWrapV;\n                    var footerDom = void 0;\n                    if (footer && footer.length) {\n                        var footerButtons = footer.map(function (button, i) {\n                            var buttonStyle = {};\n                            if (_this2.props.operation) {\n                                buttonStyle = styles.buttonTextOperation;\n                            }\n                            if (button.style) {\n                                buttonStyle = button.style;\n                                if (typeof buttonStyle === 'string') {\n                                    var styleMap = {\n                                        cancel: {},\n                                        'default': {},\n                                        destructive: { color: 'red' }\n                                    };\n                                    buttonStyle = styleMap[buttonStyle] || {};\n                                }\n                            }\n                            var noneBorder = footer && footer.length === 2 && i === 1 ? { borderRightWidth: 0 } : {};\n                            var onPressFn = function onPressFn() {\n                                if (button.onPress) {\n                                    button.onPress();\n                                }\n                                if (onClose) {\n                                    onClose();\n                                }\n                            };\n                            return React.createElement(\n                                TouchableHighlight,\n                                { key: i, style: horizontalFlex, underlayColor: '#ddd', onPress: onPressFn },\n                                React.createElement(\n                                    View,\n                                    { style: [buttonWrapStyle, noneBorder] },\n                                    React.createElement(\n                                        Text,\n                                        { style: [styles.buttonText, buttonStyle] },\n                                        button.text || '' + _locale.buttonText + i\n                                    )\n                                )\n                            );\n                        });\n                        footerDom = React.createElement(\n                            View,\n                            { style: [btnGroupStyle, styles.footer], onLayout: _this2.onFooterLayout },\n                            footerButtons\n                        );\n                    }\n                    var animType = _this2.props.animationType;\n                    if (transparent) {\n                        if (animType === 'slide') {\n                            animType = 'slide-up';\n                        }\n                        var closableDom = closable ? React.createElement(\n                            View,\n                            { style: [styles.closeWrap] },\n                            React.createElement(\n                                TouchableWithoutFeedback,\n                                { onPress: onClose },\n                                React.createElement(\n                                    View,\n                                    null,\n                                    React.createElement(\n                                        Text,\n                                        { style: [styles.close] },\n                                        '\\xD7'\n                                    )\n                                )\n                            )\n                        ) : null;\n                        return React.createElement(\n                            View,\n                            { style: styles.container },\n                            React.createElement(\n                                RCModal,\n                                { onClose: onClose, animationType: animType, wrapStyle: transparent ? styles.wrap : undefined, style: styles.wrap, visible: visible, onAnimationEnd: onAnimationEnd, onRequestClose: onRequestClose, animateAppear: animateAppear, maskClosable: maskClosable },\n                                React.createElement(\n                                    KeyboardAvoidingView,\n                                    { behavior: 'padding', enabled: Platform.OS === \"ios\" },\n                                    React.createElement(\n                                        View,\n                                        { style: [styles.innerContainer, style], ref: _this2.saveRoot },\n                                        title ? React.createElement(\n                                            Text,\n                                            { style: [styles.header] },\n                                            title\n                                        ) : null,\n                                        React.createElement(\n                                            View,\n                                            { style: [styles.body, bodyStyle] },\n                                            children\n                                        ),\n                                        footerDom,\n                                        closableDom\n                                    )\n                                )\n                            )\n                        );\n                    }\n                    if (popup) {\n                        var aType = 'SlideDown';\n                        if (animType === 'slide-up') {\n                            animType = 'slide-up';\n                            aType = 'SlideUp';\n                        } else {\n                            animType = 'slide-down';\n                        }\n                        return React.createElement(\n                            View,\n                            { style: styles.container },\n                            React.createElement(\n                                RCModal,\n                                { onClose: onClose, animationType: animType\n                                    // tslint:disable-next-line:jsx-no-multiline-js\n                                    , style: [styles.popupContainer, styles['popup' + aType], style], visible: visible, onAnimationEnd: onAnimationEnd, onRequestClose: onRequestClose, animateAppear: animateAppear, maskClosable: maskClosable },\n                                React.createElement(\n                                    View,\n                                    { ref: _this2.saveRoot, style: bodyStyle },\n                                    children\n                                )\n                            )\n                        );\n                    }\n                    if (animType === 'slide') {\n                        animType = undefined;\n                    }\n                    return React.createElement(\n                        View,\n                        { style: styles.container },\n                        React.createElement(\n                            RCModal,\n                            { visible: visible, animationType: animType, onRequestClose: onRequestClose, onClose: onClose },\n                            React.createElement(\n                                View,\n                                { style: style },\n                                children\n                            )\n                        )\n                    );\n                }\n            );\n        }\n    }]);\n\n    return AntmModal;\n}(React.Component);\n\nAntmModal.defaultProps = {\n    visible: false,\n    closable: false,\n    maskClosable: false,\n    style: {},\n    bodyStyle: {},\n    animationType: 'fade',\n    onClose: function onClose() {},\n\n    footer: [],\n    transparent: false,\n    popup: false,\n    animateAppear: true,\n    operation: false\n};\nAntmModal.contextTypes = {\n    antLocale: PropTypes.object\n};\nexport default AntmModal;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import React, { Fragment, Component } from 'react';\nimport { TransitionMotion, spring } from 'react-motion';\nimport { defsPropTypes, noop, withTheme, withDimensions, withMotion, getAccessorFor, getLabelGenerator, bindDefs, LegacyContainer, CartesianMarkers, SvgWrapper, getRelativeCursor, isCursorInRect, ResponsiveWrapper } from '@nivo/core';\nimport { axisPropType, Grid, Axes, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { LegendPropShape, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { computeScale, scalePropType, bandScalePropTypes } from '@nivo/scales';\nimport { scaleBand } from 'd3-scale';\nimport { stack, stackOffsetDiverging } from 'd3-shape';\nimport _uniqBy from 'lodash/uniqBy';\nimport setDisplayName from 'recompose/setDisplayName';\nimport { compose as compose$1 } from 'recompose';\nimport defaultProps from 'recompose/defaultProps';\nimport withPropsOnChange from 'recompose/withPropsOnChange';\nimport pure from 'recompose/pure';\nimport { inheritedColorPropType, ordinalColorsPropType, colorPropertyAccessorPropType, getOrdinalColorScale, getInheritedColorGenerator } from '@nivo/colors';\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport { BasicTooltip } from '@nivo/tooltip';\nimport { useAnnotations, Annotation } from '@nivo/annotations';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nvar getIndexScale = function getIndexScale(data, getIndex, range, padding, indexScale) {\n  return scaleBand().domain(data.map(getIndex)).range(range).round(Boolean(indexScale.round)).padding(padding);\n};\n\nvar normalizeData = function normalizeData(data, keys) {\n  return data.map(function (item) {\n    return _objectSpread2(_objectSpread2({}, keys.reduce(function (acc, key) {\n      return _objectSpread2(_objectSpread2({}, acc), {}, _defineProperty({}, key, null));\n    }, {})), item);\n  });\n};\n\nvar filterNullValues = function filterNullValues(data) {\n  return Object.keys(data).reduce(function (acc, key) {\n    return data[key] ? _objectSpread2(_objectSpread2({}, acc), {}, _defineProperty({}, key, data[key])) : acc;\n  }, {});\n};\n\nvar gt = function gt(value, other) {\n  return value > other;\n};\n\nvar lt = function lt(value, other) {\n  return value < other;\n};\n\nvar flatten = function flatten(array) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, _toConsumableArray(array));\n};\n\nvar range = function range(start, end) {\n  return Array.from(' '.repeat(end - start), function (_, index) {\n    return start + index;\n  });\n};\n\nvar clampToZero = function clampToZero(value) {\n  return gt(value, 0) ? 0 : value;\n};\n\nvar generateVerticalGroupedBars = function generateVerticalGroupedBars(_ref2, barWidth, reverse, yRef) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      getColor = _ref2.getColor,\n      innerPadding = _ref2.innerPadding,\n      xScale = _ref2.xScale,\n      yScale = _ref2.yScale;\n  var compare = reverse ? lt : gt;\n\n  var getY = function getY(d) {\n    return compare(d, 0) ? yScale(d) : yRef;\n  };\n\n  var getHeight = function getHeight(d, y) {\n    return compare(d, 0) ? yRef - y : yScale(d) - yRef;\n  };\n\n  var bars = flatten(keys.map(function (key, i) {\n    return range(0, xScale.domain().length).map(function (index) {\n      var x = xScale(getIndex(data[index])) + barWidth * i + innerPadding * i;\n      var y = getY(data[index][key]);\n      var barHeight = getHeight(data[index][key], y);\n      var barData = {\n        id: key,\n        value: data[index][key],\n        index: index,\n        indexValue: getIndex(data[index]),\n        data: filterNullValues(data[index])\n      };\n      return {\n        key: \"\".concat(key, \".\").concat(barData.indexValue),\n        data: barData,\n        x: x,\n        y: y,\n        width: barWidth,\n        height: barHeight,\n        color: getColor(barData)\n      };\n    });\n  }));\n  return bars;\n};\n\nvar generateHorizontalGroupedBars = function generateHorizontalGroupedBars(_ref3, barHeight, reverse, xRef) {\n  var data = _ref3.data,\n      getIndex = _ref3.getIndex,\n      keys = _ref3.keys,\n      getColor = _ref3.getColor,\n      _ref3$innerPadding = _ref3.innerPadding,\n      innerPadding = _ref3$innerPadding === void 0 ? 0 : _ref3$innerPadding,\n      xScale = _ref3.xScale,\n      yScale = _ref3.yScale;\n  var compare = reverse ? lt : gt;\n\n  var getX = function getX(d) {\n    return compare(d, 0) ? xRef : xScale(d);\n  };\n\n  var getWidth = function getWidth(d, x) {\n    return compare(d, 0) ? xScale(d) - xRef : xRef - x;\n  };\n\n  var bars = flatten(keys.map(function (key, i) {\n    return range(0, yScale.domain().length).map(function (index) {\n      var x = getX(data[index][key]);\n      var y = yScale(getIndex(data[index])) + barHeight * i + innerPadding * i;\n      var barWidth = getWidth(data[index][key], x);\n      var barData = {\n        id: key,\n        value: data[index][key],\n        index: index,\n        indexValue: getIndex(data[index]),\n        data: filterNullValues(data[index])\n      };\n      return {\n        key: \"\".concat(key, \".\").concat(barData.indexValue),\n        data: barData,\n        x: x,\n        y: y,\n        width: barWidth,\n        height: barHeight,\n        color: getColor(barData)\n      };\n    });\n  }));\n  return bars;\n};\n\nvar generateGroupedBars = function generateGroupedBars(_ref4) {\n  var layout = _ref4.layout,\n      keys = _ref4.keys,\n      minValue = _ref4.minValue,\n      maxValue = _ref4.maxValue,\n      reverse = _ref4.reverse,\n      width = _ref4.width,\n      height = _ref4.height,\n      _ref4$padding = _ref4.padding,\n      padding = _ref4$padding === void 0 ? 0 : _ref4$padding,\n      _ref4$innerPadding = _ref4.innerPadding,\n      innerPadding = _ref4$innerPadding === void 0 ? 0 : _ref4$innerPadding,\n      valueScale = _ref4.valueScale,\n      indexScaleConfig = _ref4.indexScale,\n      props = _objectWithoutProperties(_ref4, [\"layout\", \"keys\", \"minValue\", \"maxValue\", \"reverse\", \"width\", \"height\", \"padding\", \"innerPadding\", \"valueScale\", \"indexScale\"]);\n\n  var data = normalizeData(props.data, keys);\n\n  var _ref5 = layout === 'vertical' ? ['y', [0, width]] : ['x', [height, 0]],\n      _ref6 = _slicedToArray(_ref5, 2),\n      axis = _ref6[0],\n      range = _ref6[1];\n\n  var indexScale = getIndexScale(data, props.getIndex, range, padding, indexScaleConfig);\n\n  var scaleSpec = _objectSpread2({\n    axis: axis,\n    max: maxValue,\n    min: minValue,\n    reverse: reverse\n  }, valueScale);\n\n  var clampMin = scaleSpec.min === 'auto' ? clampToZero : function (value) {\n    return value;\n  };\n  var values = data.reduce(function (acc, entry) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(keys.map(function (k) {\n      return entry[k];\n    })));\n  }, []).filter(Boolean);\n  var min = clampMin(Math.min.apply(Math, _toConsumableArray(values)));\n  var max = Math.max.apply(Math, _toConsumableArray(values));\n  var scale = computeScale(scaleSpec, _defineProperty({}, axis, {\n    min: min,\n    max: max\n  }), width, height);\n\n  var _ref7 = layout === 'vertical' ? [indexScale, scale] : [scale, indexScale],\n      _ref8 = _slicedToArray(_ref7, 2),\n      xScale = _ref8[0],\n      yScale = _ref8[1];\n\n  var bandwidth = (indexScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var params = [_objectSpread2(_objectSpread2({}, props), {}, {\n    data: data,\n    keys: keys,\n    innerPadding: innerPadding,\n    xScale: xScale,\n    yScale: yScale\n  }), bandwidth, scaleSpec.reverse, scale(0)];\n  var bars = bandwidth > 0 ? layout === 'vertical' ? generateVerticalGroupedBars.apply(void 0, params) : generateHorizontalGroupedBars.apply(void 0, params) : [];\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n\nvar flattenDeep = function flattenDeep(array) {\n  var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return depth > 0 ? array.reduce(function (acc, value) {\n    return acc.concat(Array.isArray(value) ? flattenDeep(value, depth - 1) : value);\n  }, []) : array.slice();\n};\n\nvar generateVerticalStackedBars = function generateVerticalStackedBars(_ref, barWidth, reverse) {\n  var getIndex = _ref.getIndex,\n      getColor = _ref.getColor,\n      innerPadding = _ref.innerPadding,\n      stackedData = _ref.stackedData,\n      xScale = _ref.xScale,\n      yScale = _ref.yScale;\n\n  var getY = function getY(d) {\n    return yScale(d[reverse ? 0 : 1]);\n  };\n\n  var getHeight = function getHeight(d, y) {\n    return yScale(d[reverse ? 1 : 0]) - y;\n  };\n\n  var bars = flattenDeep(stackedData.map(function (stackedDataItem) {\n    return xScale.domain().map(function (index, i) {\n      var d = stackedDataItem[i];\n      var x = xScale(getIndex(d.data));\n      var y = getY(d) + innerPadding * 0.5;\n      var barHeight = getHeight(d, y) - innerPadding;\n      var barData = {\n        id: stackedDataItem.key,\n        value: d.data[stackedDataItem.key],\n        index: i,\n        indexValue: index,\n        data: filterNullValues(d.data)\n      };\n      return {\n        key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n        data: barData,\n        x: x,\n        y: y,\n        width: barWidth,\n        height: barHeight,\n        color: getColor(barData)\n      };\n    });\n  }));\n  return bars;\n};\n\nvar generateHorizontalStackedBars = function generateHorizontalStackedBars(_ref2, barHeight, reverse) {\n  var getIndex = _ref2.getIndex,\n      getColor = _ref2.getColor,\n      innerPadding = _ref2.innerPadding,\n      stackedData = _ref2.stackedData,\n      xScale = _ref2.xScale,\n      yScale = _ref2.yScale;\n\n  var getX = function getX(d) {\n    return xScale(d[reverse ? 1 : 0]);\n  };\n\n  var getWidth = function getWidth(d, x) {\n    return xScale(d[reverse ? 0 : 1]) - x;\n  };\n\n  var bars = flattenDeep(stackedData.map(function (stackedDataItem) {\n    return yScale.domain().map(function (index, i) {\n      var d = stackedDataItem[i];\n      var y = yScale(getIndex(d.data));\n      var x = getX(d) + innerPadding * 0.5;\n      var barWidth = getWidth(d, x) - innerPadding;\n      var barData = {\n        id: stackedDataItem.key,\n        value: d.data[stackedDataItem.key],\n        index: i,\n        indexValue: index,\n        data: filterNullValues(d.data)\n      };\n      return {\n        key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n        data: barData,\n        x: x,\n        y: y,\n        width: barWidth,\n        height: barHeight,\n        color: getColor(barData)\n      };\n    });\n  }));\n  return bars;\n};\n\nvar generateStackedBars = function generateStackedBars(_ref3) {\n  var data = _ref3.data,\n      keys = _ref3.keys,\n      layout = _ref3.layout,\n      minValue = _ref3.minValue,\n      maxValue = _ref3.maxValue,\n      reverse = _ref3.reverse,\n      width = _ref3.width,\n      height = _ref3.height,\n      _ref3$padding = _ref3.padding,\n      padding = _ref3$padding === void 0 ? 0 : _ref3$padding,\n      valueScale = _ref3.valueScale,\n      indexScaleConfig = _ref3.indexScale,\n      props = _objectWithoutProperties(_ref3, [\"data\", \"keys\", \"layout\", \"minValue\", \"maxValue\", \"reverse\", \"width\", \"height\", \"padding\", \"valueScale\", \"indexScale\"]);\n\n  var stackedData = stack().keys(keys).offset(stackOffsetDiverging)(normalizeData(data, keys));\n\n  var _ref4 = layout === 'vertical' ? ['y', [0, width]] : ['x', [height, 0]],\n      _ref5 = _slicedToArray(_ref4, 2),\n      axis = _ref5[0],\n      range = _ref5[1];\n\n  var indexScale = getIndexScale(data, props.getIndex, range, padding, indexScaleConfig);\n\n  var scaleSpec = _objectSpread2({\n    axis: axis,\n    max: maxValue,\n    min: minValue,\n    reverse: reverse\n  }, valueScale);\n\n  var values = flattenDeep(stackedData, 2);\n  var min = Math.min.apply(Math, _toConsumableArray(values));\n  var max = Math.max.apply(Math, _toConsumableArray(values));\n  var scale = computeScale(scaleSpec, _defineProperty({}, axis, {\n    min: min,\n    max: max\n  }), width, height);\n\n  var _ref6 = layout === 'vertical' ? [indexScale, scale] : [scale, indexScale],\n      _ref7 = _slicedToArray(_ref6, 2),\n      xScale = _ref7[0],\n      yScale = _ref7[1];\n\n  var innerPadding = props.innerPadding > 0 ? props.innerPadding : 0;\n  var bandwidth = indexScale.bandwidth();\n  var params = [_objectSpread2(_objectSpread2({}, props), {}, {\n    innerPadding: innerPadding,\n    stackedData: stackedData,\n    xScale: xScale,\n    yScale: yScale\n  }), bandwidth, scaleSpec.reverse];\n  var bars = bandwidth > 0 ? layout === 'vertical' ? generateVerticalStackedBars.apply(void 0, params) : generateHorizontalStackedBars.apply(void 0, params) : [];\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n\nvar getLegendDataForKeys = function getLegendDataForKeys(bars, layout, direction, groupMode, reverse) {\n  var data = _uniqBy(bars.map(function (bar) {\n    return {\n      id: bar.data.id,\n      label: bar.data.id,\n      color: bar.color,\n      fill: bar.data.fill\n    };\n  }), function (_ref) {\n    var id = _ref.id;\n    return id;\n  });\n\n  if (layout === 'vertical' && groupMode === 'stacked' && direction === 'column' && reverse !== true || layout === 'horizontal' && groupMode === 'stacked' && reverse === true) {\n    data.reverse();\n  }\n\n  return data;\n};\n\nvar getLegendDataForIndexes = function getLegendDataForIndexes(bars) {\n  return _uniqBy(bars.map(function (bar) {\n    return {\n      id: bar.data.indexValue,\n      label: bar.data.indexValue,\n      color: bar.color,\n      fill: bar.data.fill\n    };\n  }), function (_ref2) {\n    var id = _ref2.id;\n    return id;\n  });\n};\n\nvar getLegendData = function getLegendData(_ref3) {\n  var from = _ref3.from,\n      bars = _ref3.bars,\n      layout = _ref3.layout,\n      direction = _ref3.direction,\n      groupMode = _ref3.groupMode,\n      reverse = _ref3.reverse;\n\n  if (from === 'indexes') {\n    return getLegendDataForIndexes(bars);\n  }\n\n  return getLegendDataForKeys(bars, layout, direction, groupMode, reverse);\n};\n\nvar BarItem = function BarItem(_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      borderRadius = _ref.borderRadius,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      label = _ref.label,\n      shouldRenderLabel = _ref.shouldRenderLabel,\n      labelColor = _ref.labelColor,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      tooltip = _ref.tooltip,\n      theme = _ref.theme;\n\n  var handleTooltip = function handleTooltip(e) {\n    return showTooltip(tooltip, e);\n  };\n\n  var handleMouseEnter = function handleMouseEnter(e) {\n    onMouseEnter(data, e);\n    showTooltip(tooltip, e);\n  };\n\n  var handleMouseLeave = function handleMouseLeave(e) {\n    onMouseLeave(data, e);\n    hideTooltip(e);\n  };\n\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \", \").concat(y, \")\")\n  }, React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    rx: borderRadius,\n    ry: borderRadius,\n    fill: data.fill ? data.fill : color,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleTooltip,\n    onMouseLeave: handleMouseLeave,\n    onClick: onClick\n  }), shouldRenderLabel && React.createElement(\"text\", {\n    x: width / 2,\n    y: height / 2,\n    textAnchor: \"middle\",\n    dominantBaseline: \"central\",\n    style: _objectSpread2(_objectSpread2({}, theme.labels.text), {}, {\n      pointerEvents: 'none',\n      fill: labelColor\n    })\n  }, label));\n};\n\nvar enhance = compose(withPropsOnChange(['data', 'color', 'onClick'], function (_ref2) {\n  var data = _ref2.data,\n      color = _ref2.color,\n      _onClick = _ref2.onClick;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(_objectSpread2({\n        color: color\n      }, data), event);\n    }\n  };\n}), withPropsOnChange(['data', 'color', 'theme', 'tooltip', 'getTooltipLabel', 'tooltipFormat'], function (_ref3) {\n  var data = _ref3.data,\n      color = _ref3.color,\n      theme = _ref3.theme,\n      tooltip = _ref3.tooltip,\n      getTooltipLabel = _ref3.getTooltipLabel,\n      tooltipFormat = _ref3.tooltipFormat;\n  return {\n    tooltip: React.createElement(BasicTooltip, {\n      id: getTooltipLabel(data),\n      value: data.value,\n      enableChip: true,\n      color: color,\n      theme: theme,\n      format: tooltipFormat,\n      renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread2({\n        color: color,\n        theme: theme\n      }, data)) : null\n    })\n  };\n}), pure);\nvar BarItem$1 = enhance(BarItem);\n\nvar BarPropTypes = _objectSpread2(_objectSpread2({\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  indexBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  getIndex: PropTypes.func.isRequired,\n  keys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['grid', 'axes', 'bars', 'markers', 'legends', 'annotations']), PropTypes.func])).isRequired,\n  groupMode: PropTypes.oneOf(['stacked', 'grouped']).isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  reverse: PropTypes.bool.isRequired,\n  valueScale: scalePropType.isRequired,\n  indexScale: bandScalePropTypes.isRequired,\n  minValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  maxValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  padding: PropTypes.number.isRequired,\n  innerPadding: PropTypes.number.isRequired,\n  axisTop: axisPropType,\n  axisRight: axisPropType,\n  axisBottom: axisPropType,\n  axisLeft: axisPropType,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  gridXValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  gridYValues: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  barComponent: PropTypes.func.isRequired,\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  getLabel: PropTypes.func.isRequired,\n  labelSkipWidth: PropTypes.number.isRequired,\n  labelSkipHeight: PropTypes.number.isRequired,\n  labelTextColor: inheritedColorPropType.isRequired,\n  getLabelTextColor: PropTypes.func.isRequired,\n  labelLinkColor: inheritedColorPropType.isRequired,\n  getLabelLinkColor: PropTypes.func.isRequired,\n  colors: ordinalColorsPropType.isRequired,\n  colorBy: colorPropertyAccessorPropType.isRequired,\n  borderRadius: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired\n}, defsPropTypes), {}, {\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: inheritedColorPropType.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  isInteractive: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  onMouseEnter: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  tooltipLabel: PropTypes.func,\n  getTooltipLabel: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  legends: PropTypes.arrayOf(PropTypes.shape(_objectSpread2({\n    dataFrom: PropTypes.oneOf(['indexes', 'keys']).isRequired\n  }, LegendPropShape))).isRequired,\n  pixelRatio: PropTypes.number.isRequired\n});\n\nvar BarSvgPropTypes = _objectSpread2(_objectSpread2({}, BarPropTypes), {}, {\n  role: PropTypes.string.isRequired\n});\n\nvar BarDefaultProps = {\n  indexBy: 'id',\n  keys: ['value'],\n  layers: ['grid', 'axes', 'bars', 'markers', 'legends', 'annotations'],\n  groupMode: 'stacked',\n  layout: 'vertical',\n  reverse: false,\n  minValue: 'auto',\n  maxValue: 'auto',\n  valueScale: {\n    type: 'linear'\n  },\n  indexScale: {\n    type: 'band',\n    round: true\n  },\n  padding: 0.1,\n  innerPadding: 0,\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: false,\n  enableGridY: true,\n  barComponent: BarItem$1,\n  enableLabel: true,\n  label: 'value',\n  labelSkipWidth: 0,\n  labelSkipHeight: 0,\n  labelLinkColor: 'theme',\n  labelTextColor: 'theme',\n  colors: {\n    scheme: 'nivo'\n  },\n  colorBy: 'id',\n  defs: [],\n  fill: [],\n  borderRadius: 0,\n  borderWidth: 0,\n  borderColor: {\n    from: 'color'\n  },\n  isInteractive: true,\n  onClick: noop,\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  legends: [],\n  annotations: [],\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n};\n\nvar BarSvgDefaultProps = _objectSpread2(_objectSpread2({}, BarDefaultProps), {}, {\n  role: 'img'\n});\n\nvar enhance$1 = function (Component) {\n  return compose$1(defaultProps(BarDefaultProps), withTheme(), withDimensions(), withMotion(), withPropsOnChange(['colors', 'colorBy'], function (_ref) {\n    var colors = _ref.colors,\n        colorBy = _ref.colorBy;\n    return {\n      getColor: getOrdinalColorScale(colors, colorBy)\n    };\n  }), withPropsOnChange(['indexBy'], function (_ref2) {\n    var indexBy = _ref2.indexBy;\n    return {\n      getIndex: getAccessorFor(indexBy)\n    };\n  }), withPropsOnChange(['labelTextColor', 'theme'], function (_ref3) {\n    var labelTextColor = _ref3.labelTextColor,\n        theme = _ref3.theme;\n    return {\n      getLabelTextColor: getInheritedColorGenerator(labelTextColor, theme)\n    };\n  }), withPropsOnChange(['labelLinkColor', 'theme'], function (_ref4) {\n    var labelLinkColor = _ref4.labelLinkColor,\n        theme = _ref4.theme;\n    return {\n      getLabelLinkColor: getInheritedColorGenerator(labelLinkColor, theme)\n    };\n  }), withPropsOnChange(['label', 'labelFormat'], function (_ref5) {\n    var label = _ref5.label,\n        labelFormat = _ref5.labelFormat;\n    return {\n      getLabel: getLabelGenerator(label, labelFormat)\n    };\n  }), withPropsOnChange(['borderColor', 'theme'], function (_ref6) {\n    var borderColor = _ref6.borderColor,\n        theme = _ref6.theme;\n    return {\n      getBorderColor: getInheritedColorGenerator(borderColor, theme)\n    };\n  }), withPropsOnChange(['tooltipLabel'], function (_ref7) {\n    var tooltipLabel = _ref7.tooltipLabel;\n\n    var getTooltipLabel = function getTooltipLabel(d) {\n      return \"\".concat(d.id, \" - \").concat(d.indexValue);\n    };\n\n    if (typeof tooltipLabel === 'function') {\n      getTooltipLabel = tooltipLabel;\n    }\n\n    return {\n      getTooltipLabel: getTooltipLabel\n    };\n  }), pure)(Component);\n};\n\nvar BarAnnotations = function BarAnnotations(_ref) {\n  var bars = _ref.bars,\n      annotations = _ref.annotations,\n      animate = _ref.animate,\n      innerWidth = _ref.innerWidth,\n      innerHeight = _ref.innerHeight,\n      motionStiffness = _ref.motionStiffness,\n      motionDamping = _ref.motionDamping;\n  var boundAnnotations = useAnnotations({\n    items: bars,\n    annotations: annotations,\n    getPosition: function getPosition(bar) {\n      return {\n        x: bar.x + bar.width / 2,\n        y: bar.y + bar.height / 2\n      };\n    },\n    getDimensions: function getDimensions(bar, offset) {\n      var width = bar.width + offset * 2;\n      var height = bar.height + offset * 2;\n      return {\n        width: width,\n        height: height,\n        size: Math.max(width, height)\n      };\n    }\n  });\n  return boundAnnotations.map(function (annotation, i) {\n    return React.createElement(Annotation, Object.assign({\n      key: i\n    }, annotation, {\n      containerWidth: innerWidth,\n      containerHeight: innerHeight,\n      animate: animate,\n      motionStiffness: motionStiffness,\n      motionDamping: motionDamping\n    }));\n  });\n};\n\nvar barWillEnterHorizontal = function barWillEnterHorizontal(_ref) {\n  var style = _ref.style;\n  return {\n    x: style.x.val,\n    y: style.y.val,\n    width: 0,\n    height: style.height.val\n  };\n};\n\nvar barWillEnterVertical = function barWillEnterVertical(_ref2) {\n  var style = _ref2.style;\n  return {\n    x: style.x.val,\n    y: style.y.val + style.height.val,\n    width: style.width.val,\n    height: 0\n  };\n};\n\nvar barWillLeaveHorizontal = function barWillLeaveHorizontal(springConfig) {\n  return function (_ref3) {\n    var style = _ref3.style;\n    return {\n      x: style.x,\n      y: style.y,\n      width: spring(0, springConfig),\n      height: style.height\n    };\n  };\n};\n\nvar barWillLeaveVertical = function barWillLeaveVertical(springConfig) {\n  return function (_ref4) {\n    var style = _ref4.style;\n    return {\n      x: style.x,\n      y: spring(style.y.val + style.height.val, springConfig),\n      width: style.width,\n      height: spring(0, springConfig)\n    };\n  };\n};\n\nvar Bar = function Bar(props) {\n  var data = props.data,\n      getIndex = props.getIndex,\n      keys = props.keys,\n      groupMode = props.groupMode,\n      layout = props.layout,\n      reverse = props.reverse,\n      minValue = props.minValue,\n      maxValue = props.maxValue,\n      valueScale = props.valueScale,\n      indexScale = props.indexScale,\n      margin = props.margin,\n      width = props.width,\n      height = props.height,\n      outerWidth = props.outerWidth,\n      outerHeight = props.outerHeight,\n      padding = props.padding,\n      innerPadding = props.innerPadding,\n      axisTop = props.axisTop,\n      axisRight = props.axisRight,\n      axisBottom = props.axisBottom,\n      axisLeft = props.axisLeft,\n      enableGridX = props.enableGridX,\n      enableGridY = props.enableGridY,\n      gridXValues = props.gridXValues,\n      gridYValues = props.gridYValues,\n      layers = props.layers,\n      barComponent = props.barComponent,\n      enableLabel = props.enableLabel,\n      getLabel = props.getLabel,\n      labelSkipWidth = props.labelSkipWidth,\n      labelSkipHeight = props.labelSkipHeight,\n      getLabelTextColor = props.getLabelTextColor,\n      markers = props.markers,\n      theme = props.theme,\n      getColor = props.getColor,\n      defs = props.defs,\n      fill = props.fill,\n      borderRadius = props.borderRadius,\n      borderWidth = props.borderWidth,\n      getBorderColor = props.getBorderColor,\n      annotations = props.annotations,\n      isInteractive = props.isInteractive,\n      getTooltipLabel = props.getTooltipLabel,\n      tooltipFormat = props.tooltipFormat,\n      tooltip = props.tooltip,\n      onClick = props.onClick,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      legends = props.legends,\n      animate = props.animate,\n      motionStiffness = props.motionStiffness,\n      motionDamping = props.motionDamping,\n      role = props.role;\n  var generateBars = groupMode === 'grouped' ? generateGroupedBars : generateStackedBars;\n  var result = generateBars({\n    layout: layout,\n    reverse: reverse,\n    data: data,\n    getIndex: getIndex,\n    keys: keys,\n    minValue: minValue,\n    maxValue: maxValue,\n    width: width,\n    height: height,\n    getColor: getColor,\n    padding: padding,\n    innerPadding: innerPadding,\n    valueScale: valueScale,\n    indexScale: indexScale\n  });\n  var motionProps = {\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  };\n  var springConfig = {\n    damping: motionDamping,\n    stiffness: motionStiffness\n  };\n  var willEnter = layout === 'vertical' ? barWillEnterVertical : barWillEnterHorizontal;\n  var willLeave = layout === 'vertical' ? barWillLeaveVertical(springConfig) : barWillLeaveHorizontal(springConfig);\n\n  var shouldRenderLabel = function shouldRenderLabel(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height;\n    if (!enableLabel) return false;\n    if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\n    if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\n    return true;\n  };\n\n  var boundDefs = bindDefs(defs, result.bars, fill, {\n    dataKey: 'data',\n    targetKey: 'data.fill'\n  });\n  return React.createElement(LegacyContainer, {\n    isInteractive: isInteractive,\n    theme: theme,\n    animate: animate,\n    motionStiffness: motionStiffness,\n    motionDamping: motionDamping\n  }, function (_ref6) {\n    var showTooltip = _ref6.showTooltip,\n        hideTooltip = _ref6.hideTooltip;\n    var commonProps = {\n      borderRadius: borderRadius,\n      borderWidth: borderWidth,\n      enableLabel: enableLabel,\n      labelSkipWidth: labelSkipWidth,\n      labelSkipHeight: labelSkipHeight,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      theme: theme,\n      getTooltipLabel: getTooltipLabel,\n      tooltipFormat: tooltipFormat,\n      tooltip: tooltip\n    };\n    var bars;\n\n    if (animate === true) {\n      bars = React.createElement(TransitionMotion, {\n        key: \"bars\",\n        willEnter: willEnter,\n        willLeave: willLeave,\n        styles: result.bars.filter(function (bar) {\n          return bar.data.value !== null;\n        }).map(function (bar) {\n          return {\n            key: bar.key,\n            data: bar,\n            style: {\n              x: spring(bar.x, springConfig),\n              y: spring(bar.y, springConfig),\n              width: spring(bar.width, springConfig),\n              height: spring(bar.height, springConfig)\n            }\n          };\n        })\n      }, function (interpolatedStyles) {\n        return React.createElement(\"g\", null, interpolatedStyles.map(function (_ref7) {\n          var key = _ref7.key,\n              style = _ref7.style,\n              bar = _ref7.data;\n\n          var baseProps = _objectSpread2(_objectSpread2({}, bar), style);\n\n          return React.createElement(barComponent, _objectSpread2(_objectSpread2(_objectSpread2({\n            key: key\n          }, baseProps), commonProps), {}, {\n            shouldRenderLabel: shouldRenderLabel(baseProps),\n            width: Math.max(style.width, 0),\n            height: Math.max(style.height, 0),\n            label: getLabel(bar.data),\n            labelColor: getLabelTextColor(baseProps, theme),\n            borderColor: getBorderColor(baseProps),\n            theme: theme\n          }));\n        }));\n      });\n    } else {\n      bars = result.bars.filter(function (bar) {\n        return bar.data.value !== null;\n      }).map(function (d) {\n        return React.createElement(barComponent, _objectSpread2(_objectSpread2(_objectSpread2({\n          key: d.key\n        }, d), commonProps), {}, {\n          label: getLabel(d.data),\n          shouldRenderLabel: shouldRenderLabel(d),\n          labelColor: getLabelTextColor(d, theme),\n          borderColor: getBorderColor(d),\n          theme: theme\n        }));\n      });\n    }\n\n    var layerById = {\n      grid: React.createElement(Grid, {\n        key: \"grid\",\n        width: width,\n        height: height,\n        xScale: enableGridX ? result.xScale : null,\n        yScale: enableGridY ? result.yScale : null,\n        xValues: gridXValues,\n        yValues: gridYValues\n      }),\n      axes: React.createElement(Axes, {\n        key: \"axes\",\n        xScale: result.xScale,\n        yScale: result.yScale,\n        width: width,\n        height: height,\n        top: axisTop,\n        right: axisRight,\n        bottom: axisBottom,\n        left: axisLeft\n      }),\n      bars: bars,\n      markers: React.createElement(CartesianMarkers, {\n        key: \"markers\",\n        markers: markers,\n        width: width,\n        height: height,\n        xScale: result.xScale,\n        yScale: result.yScale,\n        theme: theme\n      }),\n      legends: legends.map(function (legend, i) {\n        var legendData = getLegendData({\n          from: legend.dataFrom,\n          bars: result.bars,\n          layout: layout,\n          direction: legend.direction,\n          groupMode: groupMode,\n          reverse: reverse\n        });\n        if (legendData === undefined) return null;\n        return React.createElement(BoxLegendSvg, Object.assign({\n          key: i\n        }, legend, {\n          containerWidth: width,\n          containerHeight: height,\n          data: legendData,\n          theme: theme\n        }));\n      }),\n      annotations: React.createElement(BarAnnotations, Object.assign({\n        key: \"annotations\",\n        innerWidth: width,\n        innerHeight: height,\n        bars: result.bars,\n        annotations: annotations\n      }, motionProps))\n    };\n    return React.createElement(SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      defs: boundDefs,\n      theme: theme,\n      role: role\n    }, layers.map(function (layer, i) {\n      if (typeof layer === 'function') {\n        return React.createElement(Fragment, {\n          key: i\n        }, layer(_objectSpread2(_objectSpread2(_objectSpread2({}, props), result), {}, {\n          showTooltip: showTooltip,\n          hideTooltip: hideTooltip\n        })));\n      }\n\n      return layerById[layer];\n    }));\n  });\n};\n\nBar.defaultProps = BarSvgDefaultProps;\nvar Bar$1 = setDisplayName('Bar')(enhance$1(Bar));\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nvar findNodeUnderCursor = function findNodeUnderCursor(nodes, margin, x, y) {\n  return nodes.find(function (node) {\n    return isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y);\n  });\n};\n\nvar BarCanvas = function (_Component) {\n  _inherits(BarCanvas, _Component);\n\n  var _super = _createSuper(BarCanvas);\n\n  function BarCanvas() {\n    var _this;\n\n    _classCallCheck(this, BarCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.handleMouseHover = function (showTooltip, hideTooltip) {\n      return function (event) {\n        if (!_this.bars) return;\n        var _this$props = _this.props,\n            margin = _this$props.margin,\n            theme = _this$props.theme,\n            tooltip = _this$props.tooltip,\n            getTooltipLabel = _this$props.getTooltipLabel,\n            tooltipFormat = _this$props.tooltipFormat;\n\n        var _getRelativeCursor = getRelativeCursor(_this.surface, event),\n            _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n            x = _getRelativeCursor2[0],\n            y = _getRelativeCursor2[1];\n\n        var bar = findNodeUnderCursor(_this.bars, margin, x, y);\n\n        if (bar !== undefined) {\n          showTooltip(React.createElement(BasicTooltip, {\n            id: getTooltipLabel(bar.data),\n            value: bar.data.value,\n            enableChip: true,\n            color: bar.color,\n            theme: theme,\n            format: tooltipFormat,\n            renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _objectSpread2({\n              color: bar.color\n            }, bar.data)) : null\n          }), event);\n        } else {\n          hideTooltip();\n        }\n      };\n    };\n\n    _this.handleMouseLeave = function (hideTooltip) {\n      return function () {\n        hideTooltip();\n      };\n    };\n\n    _this.handleClick = function (event) {\n      if (!_this.bars) return;\n      var _this$props2 = _this.props,\n          margin = _this$props2.margin,\n          onClick = _this$props2.onClick;\n\n      var _getRelativeCursor3 = getRelativeCursor(_this.surface, event),\n          _getRelativeCursor4 = _slicedToArray(_getRelativeCursor3, 2),\n          x = _getRelativeCursor4[0],\n          y = _getRelativeCursor4[1];\n\n      var node = findNodeUnderCursor(_this.bars, margin, x, y);\n      if (node !== undefined) onClick(node.data, event);\n    };\n\n    return _this;\n  }\n\n  _createClass(BarCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(props) {\n      if (this.props.outerWidth !== props.outerWidth || this.props.outerHeight !== props.outerHeight || this.props.isInteractive !== props.isInteractive || this.props.theme !== props.theme) {\n        return true;\n      } else {\n        this.draw(props);\n        return false;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.ctx = this.surface.getContext('2d');\n      this.draw(this.props);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(props) {\n      var _this2 = this;\n\n      var data = props.data,\n          keys = props.keys,\n          getIndex = props.getIndex,\n          minValue = props.minValue,\n          maxValue = props.maxValue,\n          valueScale = props.valueScale,\n          indexScale = props.indexScale,\n          width = props.width,\n          height = props.height,\n          outerWidth = props.outerWidth,\n          outerHeight = props.outerHeight,\n          pixelRatio = props.pixelRatio,\n          margin = props.margin,\n          layout = props.layout,\n          reverse = props.reverse,\n          groupMode = props.groupMode,\n          padding = props.padding,\n          innerPadding = props.innerPadding,\n          axisTop = props.axisTop,\n          axisRight = props.axisRight,\n          axisBottom = props.axisBottom,\n          axisLeft = props.axisLeft,\n          theme = props.theme,\n          getColor = props.getColor,\n          borderWidth = props.borderWidth,\n          getBorderColor = props.getBorderColor,\n          legends = props.legends,\n          enableGridX = props.enableGridX,\n          gridXValues = props.gridXValues,\n          enableGridY = props.enableGridY,\n          gridYValues = props.gridYValues;\n      this.surface.width = outerWidth * pixelRatio;\n      this.surface.height = outerHeight * pixelRatio;\n      this.ctx.scale(pixelRatio, pixelRatio);\n      var options = {\n        layout: layout,\n        reverse: reverse,\n        data: data,\n        getIndex: getIndex,\n        keys: keys,\n        minValue: minValue,\n        maxValue: maxValue,\n        width: width,\n        height: height,\n        getColor: getColor,\n        padding: padding,\n        innerPadding: innerPadding,\n        valueScale: valueScale,\n        indexScale: indexScale\n      };\n      var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n      this.bars = result.bars;\n      this.ctx.fillStyle = theme.background;\n      this.ctx.fillRect(0, 0, outerWidth, outerHeight);\n      this.ctx.translate(margin.left, margin.top);\n\n      if (theme.grid.line.strokeWidth > 0) {\n        this.ctx.lineWidth = theme.grid.line.strokeWidth;\n        this.ctx.strokeStyle = theme.grid.line.stroke;\n        enableGridX && renderGridLinesToCanvas(this.ctx, {\n          width: width,\n          height: height,\n          scale: result.xScale,\n          axis: 'x',\n          values: gridXValues\n        });\n        enableGridY && renderGridLinesToCanvas(this.ctx, {\n          width: width,\n          height: height,\n          scale: result.yScale,\n          axis: 'y',\n          values: gridYValues\n        });\n      }\n\n      this.ctx.strokeStyle = '#dddddd';\n\n      var legendDataForKeys = _uniqBy(result.bars.map(function (bar) {\n        return {\n          id: bar.data.id,\n          label: bar.data.id,\n          color: bar.color,\n          fill: bar.data.fill\n        };\n      }).reverse(), function (_ref) {\n        var id = _ref.id;\n        return id;\n      });\n\n      var legendDataForIndexes = _uniqBy(result.bars.map(function (bar) {\n        return {\n          id: bar.data.indexValue,\n          label: bar.data.indexValue,\n          color: bar.color,\n          fill: bar.data.fill\n        };\n      }), function (_ref2) {\n        var id = _ref2.id;\n        return id;\n      });\n\n      legends.forEach(function (legend) {\n        var legendData;\n\n        if (legend.dataFrom === 'keys') {\n          legendData = legendDataForKeys;\n        } else if (legend.dataFrom === 'indexes') {\n          legendData = legendDataForIndexes;\n        }\n\n        if (legendData === undefined) return null;\n        renderLegendToCanvas(_this2.ctx, _objectSpread2(_objectSpread2({}, legend), {}, {\n          data: legendData,\n          containerWidth: width,\n          containerHeight: height,\n          itemTextColor: '#999',\n          symbolSize: 16,\n          theme: theme\n        }));\n      });\n      renderAxesToCanvas(this.ctx, {\n        xScale: result.xScale,\n        yScale: result.yScale,\n        width: width,\n        height: height,\n        top: axisTop,\n        right: axisRight,\n        bottom: axisBottom,\n        left: axisLeft,\n        theme: theme\n      });\n      result.bars.forEach(function (bar) {\n        var x = bar.x,\n            y = bar.y,\n            color = bar.color,\n            width = bar.width,\n            height = bar.height;\n        _this2.ctx.fillStyle = color;\n\n        if (borderWidth > 0) {\n          _this2.ctx.strokeStyle = getBorderColor(bar);\n          _this2.ctx.lineWidth = borderWidth;\n        }\n\n        _this2.ctx.beginPath();\n\n        _this2.ctx.rect(x, y, width, height);\n\n        _this2.ctx.fill();\n\n        if (borderWidth > 0) {\n          _this2.ctx.stroke();\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props3 = this.props,\n          outerWidth = _this$props3.outerWidth,\n          outerHeight = _this$props3.outerHeight,\n          pixelRatio = _this$props3.pixelRatio,\n          isInteractive = _this$props3.isInteractive,\n          theme = _this$props3.theme,\n          canvasRef = _this$props3.canvasRef;\n      return React.createElement(LegacyContainer, {\n        isInteractive: isInteractive,\n        theme: theme,\n        animate: false\n      }, function (_ref3) {\n        var showTooltip = _ref3.showTooltip,\n            hideTooltip = _ref3.hideTooltip;\n        return React.createElement(\"canvas\", {\n          ref: function ref(surface) {\n            _this3.surface = surface;\n            if (canvasRef) canvasRef.current = surface;\n          },\n          width: outerWidth * pixelRatio,\n          height: outerHeight * pixelRatio,\n          style: {\n            width: outerWidth,\n            height: outerHeight\n          },\n          onMouseEnter: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseMove: _this3.handleMouseHover(showTooltip, hideTooltip),\n          onMouseLeave: _this3.handleMouseLeave(hideTooltip),\n          onClick: _this3.handleClick\n        });\n      });\n    }\n  }]);\n\n  return BarCanvas;\n}(Component);\n\nBarCanvas.defaultProps = BarDefaultProps;\nvar EnhancedBarCanvas = setDisplayName('BarCanvas')(enhance$1(BarCanvas));\nvar BarCanvas$1 = React.forwardRef(function (props, ref) {\n  return React.createElement(EnhancedBarCanvas, Object.assign({}, props, {\n    canvasRef: ref\n  }));\n});\n\nvar ResponsiveBar = function ResponsiveBar(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Bar$1, Object.assign({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nvar ResponsiveBarCanvas = function ResponsiveBarCanvas(props, ref) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(BarCanvas$1, Object.assign({\n      width: width,\n      height: height\n    }, props, {\n      ref: ref\n    }));\n  });\n};\n\nvar ResponsiveBarCanvas$1 = React.forwardRef(ResponsiveBarCanvas);\nexport { Bar$1 as Bar, BarCanvas$1 as BarCanvas, BarDefaultProps, BarItem$1 as BarItem, BarPropTypes, BarSvgDefaultProps, BarSvgPropTypes, ResponsiveBar, ResponsiveBarCanvas$1 as ResponsiveBarCanvas };","map":{"version":3,"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../src/compute/common.js","../src/compute/grouped.js","../src/compute/stacked.js","../src/compute/legends.js","../src/BarItem.js","../src/props.js","../src/enhance.js","../src/BarAnnotations.js","../src/Bar.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../src/BarCanvas.js","../src/ResponsiveBar.js","../src/ResponsiveBarCanvas.js"],"names":["defineProperty","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","objectWithoutPropertiesLoose","arrayWithoutHoles","iterableToArray","nonIterableSpread","getIndexScale","scaleBand","data","Boolean","indexScale","normalizeData","filterNullValues","gt","value","lt","flatten","range","end","start","clampToZero","generateVerticalGroupedBars","getIndex","keys","getColor","innerPadding","xScale","yScale","compare","reverse","getY","getHeight","yRef","bars","x","barWidth","y","barHeight","barData","id","index","indexValue","key","width","height","color","generateHorizontalGroupedBars","getX","getWidth","xRef","generateGroupedBars","layout","minValue","maxValue","padding","valueScale","indexScaleConfig","props","axis","scaleSpec","max","min","clampMin","values","entry","Math","scale","computeScale","bandwidth","params","flattenDeep","depth","acc","Array","array","generateVerticalStackedBars","stackedData","d","stackedDataItem","generateHorizontalStackedBars","generateStackedBars","stack","getLegendDataForKeys","bar","label","fill","groupMode","direction","getLegendDataForIndexes","getLegendData","from","BarItem","borderRadius","borderWidth","borderColor","shouldRenderLabel","labelColor","showTooltip","hideTooltip","onClick","onMouseEnter","onMouseLeave","tooltip","theme","handleTooltip","handleMouseEnter","handleMouseLeave","pointerEvents","enhance","compose","withPropsOnChange","getTooltipLabel","tooltipFormat","BarPropTypes","PropTypes","indexBy","layers","scalePropType","bandScalePropTypes","axisTop","axisRight","axisBottom","axisLeft","enableGridX","enableGridY","gridXValues","gridYValues","barComponent","enableLabel","labelFormat","getLabel","labelSkipWidth","labelSkipHeight","labelTextColor","inheritedColorPropType","getLabelTextColor","labelLinkColor","getLabelLinkColor","colors","ordinalColorsPropType","colorBy","colorPropertyAccessorPropType","isRequired","getBorderColor","isInteractive","tooltipLabel","legends","dataFrom","pixelRatio","BarSvgPropTypes","role","BarDefaultProps","type","round","scheme","defs","annotations","global","BarSvgDefaultProps","defaultProps","withTheme","withDimensions","withMotion","getOrdinalColorScale","getAccessorFor","getInheritedColorGenerator","getLabelGenerator","BarAnnotations","animate","innerWidth","innerHeight","motionStiffness","motionDamping","boundAnnotations","useAnnotations","items","getPosition","getDimensions","offset","size","i","barWillEnterHorizontal","style","val","barWillEnterVertical","barWillLeaveHorizontal","spring","barWillLeaveVertical","Bar","margin","outerWidth","outerHeight","markers","generateBars","result","motionProps","springConfig","damping","stiffness","willEnter","willLeave","boundDefs","bindDefs","dataKey","targetKey","commonProps","baseProps","layerById","grid","axes","legendData","legend","layer","setDisplayName","setPrototypeOf","assertThisInitialized","getPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","findNodeUnderCursor","isCursorInRect","node","BarCanvas","Component","options","renderGridLinesToCanvas","legendDataForKeys","uniqBy","legendDataForIndexes","renderLegendToCanvas","containerWidth","containerHeight","itemTextColor","symbolSize","renderAxesToCanvas","top","right","bottom","left","handleMouseHover","getRelativeCursor","handleClick","canvasRef","EnhancedBarCanvas","ref","ResponsiveBar","ResponsiveBarCanvas","React"],"mappings":"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","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleBand } from 'd3-scale'\n\n/**\n * Generates indexed scale.\n *\n * @param {Array.<Object>} data\n * @param {Function}       getIndex\n * @param {Array.<number>} range\n * @param {number}         padding\n * @Param {scalePropType}  indexScale\n * @returns {Function}\n */\nexport const getIndexScale = (data, getIndex, range, padding, indexScale) => {\n    return scaleBand()\n        .domain(data.map(getIndex))\n        .range(range)\n        .round(Boolean(indexScale.round))\n        .padding(padding)\n}\n\nexport const normalizeData = (data, keys) =>\n    data.map(item => ({\n        ...keys.reduce((acc, key) => ({ ...acc, [key]: null }), {}),\n        ...item,\n    }))\n\nexport const filterNullValues = data =>\n    Object.keys(data).reduce((acc, key) => (data[key] ? { ...acc, [key]: data[key] } : acc), {})\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { computeScale } from '@nivo/scales'\nimport { getIndexScale, filterNullValues, normalizeData } from './common'\n\nconst gt = (value, other) => value > other\nconst lt = (value, other) => value < other\n\nconst flatten = array => [].concat(...array)\nconst range = (start, end) => Array.from(' '.repeat(end - start), (_, index) => start + index)\n\nconst clampToZero = value => (gt(value, 0) ? 0 : value)\n\n/**\n * Generates x/y scales & bars for vertical grouped bar chart.\n *\n * @param {Array.<Object>} data\n * @param {Function}       getIndex\n * @param {Array.<string>} keys\n * @param {number}         minValue\n * @param {number}         maxValue\n * @param {boolean}        reverse\n * @param {number}         width\n * @param {number}         height\n * @param {Function}       getColor\n * @param {number}         [padding=0]\n * @param {number}         [innerPadding=0]\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\n */\nconst generateVerticalGroupedBars = (\n    { data, getIndex, keys, getColor, innerPadding, xScale, yScale },\n    barWidth,\n    reverse,\n    yRef\n) => {\n    const compare = reverse ? lt : gt\n    const getY = d => (compare(d, 0) ? yScale(d) : yRef)\n    const getHeight = (d, y) => (compare(d, 0) ? yRef - y : yScale(d) - yRef)\n\n    const bars = flatten(\n        keys.map((key, i) =>\n            range(0, xScale.domain().length).map(index => {\n                const x = xScale(getIndex(data[index])) + barWidth * i + innerPadding * i\n                const y = getY(data[index][key])\n                const barHeight = getHeight(data[index][key], y)\n                const barData = {\n                    id: key,\n                    value: data[index][key],\n                    index,\n                    indexValue: getIndex(data[index]),\n                    data: filterNullValues(data[index]),\n                }\n\n                return {\n                    key: `${key}.${barData.indexValue}`,\n                    data: barData,\n                    x,\n                    y,\n                    width: barWidth,\n                    height: barHeight,\n                    color: getColor(barData),\n                }\n            })\n        )\n    )\n\n    return bars\n}\n\n/**\n * Generates x/y scales & bars for horizontal grouped bar chart.\n *\n * @param {Array.<Object>} data\n * @param {Function}       getIndex\n * @param {Array.<string>} keys\n * @param {number}         minValue\n * @param {number}         maxValue\n * @param {boolean}        reverse\n * @param {number}         width\n * @param {number}         height\n * @param {Function}       getColor\n * @param {number}         [padding=0]\n * @param {number}         [innerPadding=0]\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\n */\nconst generateHorizontalGroupedBars = (\n    { data, getIndex, keys, getColor, innerPadding = 0, xScale, yScale },\n    barHeight,\n    reverse,\n    xRef\n) => {\n    const compare = reverse ? lt : gt\n    const getX = d => (compare(d, 0) ? xRef : xScale(d))\n    const getWidth = (d, x) => (compare(d, 0) ? xScale(d) - xRef : xRef - x)\n\n    const bars = flatten(\n        keys.map((key, i) =>\n            range(0, yScale.domain().length).map(index => {\n                const x = getX(data[index][key])\n                const y = yScale(getIndex(data[index])) + barHeight * i + innerPadding * i\n                const barWidth = getWidth(data[index][key], x)\n                const barData = {\n                    id: key,\n                    value: data[index][key],\n                    index,\n                    indexValue: getIndex(data[index]),\n                    data: filterNullValues(data[index]),\n                }\n\n                return {\n                    key: `${key}.${barData.indexValue}`,\n                    data: barData,\n                    x,\n                    y,\n                    width: barWidth,\n                    height: barHeight,\n                    color: getColor(barData),\n                }\n            })\n        )\n    )\n\n    return bars\n}\n\n/**\n * Generates x/y scales & bars for grouped bar chart.\n *\n * @param {Object} options\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\n */\nexport const generateGroupedBars = ({\n    layout,\n    keys,\n    minValue,\n    maxValue,\n    reverse,\n    width,\n    height,\n    padding = 0,\n    innerPadding = 0,\n    valueScale,\n    indexScale: indexScaleConfig,\n    ...props\n}) => {\n    const data = normalizeData(props.data, keys)\n    const [axis, range] = layout === 'vertical' ? ['y', [0, width]] : ['x', [height, 0]]\n    const indexScale = getIndexScale(data, props.getIndex, range, padding, indexScaleConfig)\n\n    const scaleSpec = {\n        axis,\n        max: maxValue,\n        min: minValue,\n        reverse,\n        ...valueScale,\n    }\n    const clampMin = scaleSpec.min === 'auto' ? clampToZero : value => value\n\n    const values = data\n        .reduce((acc, entry) => [...acc, ...keys.map(k => entry[k])], [])\n        .filter(Boolean)\n    const min = clampMin(Math.min(...values))\n    const max = Math.max(...values)\n\n    const scale = computeScale(scaleSpec, { [axis]: { min, max } }, width, height)\n\n    const [xScale, yScale] = layout === 'vertical' ? [indexScale, scale] : [scale, indexScale]\n\n    const bandwidth = (indexScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length\n    const params = [\n        { ...props, data, keys, innerPadding, xScale, yScale },\n        bandwidth,\n        scaleSpec.reverse,\n        scale(0),\n    ]\n\n    const bars =\n        bandwidth > 0\n            ? layout === 'vertical'\n                ? generateVerticalGroupedBars(...params)\n                : generateHorizontalGroupedBars(...params)\n            : []\n\n    return { xScale, yScale, bars }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n// import flattenDepth from 'lodash/flattenDepth'\nimport { computeScale } from '@nivo/scales'\nimport { stack, stackOffsetDiverging } from 'd3-shape'\nimport { getIndexScale, filterNullValues, normalizeData } from './common'\n\nconst flattenDeep = (array, depth = 1) =>\n    depth > 0\n        ? array.reduce(\n              (acc, value) =>\n                  acc.concat(Array.isArray(value) ? flattenDeep(value, depth - 1) : value),\n              []\n          )\n        : array.slice()\n\n/**\n * Generates x/y scales & bars for vertical stacked bar chart.\n *\n * @param {Array.<Object>} data\n * @param {Function}       getIndex\n * @param {Array.<string>} keys\n * @param {number}         minValue\n * @param {number}         maxValue\n * @param {boolean}        reverse\n * @param {number}         width\n * @param {number}         height\n * @param {Function}       getColor\n * @param {number}         [padding=0]\n * @param {number}         [innerPadding=0]\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\n */\nconst generateVerticalStackedBars = (\n    { getIndex, getColor, innerPadding, stackedData, xScale, yScale },\n    barWidth,\n    reverse\n) => {\n    const getY = d => yScale(d[reverse ? 0 : 1])\n    const getHeight = (d, y) => yScale(d[reverse ? 1 : 0]) - y\n\n    const bars = flattenDeep(\n        stackedData.map(stackedDataItem =>\n            xScale.domain().map((index, i) => {\n                const d = stackedDataItem[i]\n                const x = xScale(getIndex(d.data))\n                const y = getY(d) + innerPadding * 0.5\n                const barHeight = getHeight(d, y) - innerPadding\n\n                const barData = {\n                    id: stackedDataItem.key,\n                    value: d.data[stackedDataItem.key],\n                    index: i,\n                    indexValue: index,\n                    data: filterNullValues(d.data),\n                }\n\n                return {\n                    key: `${stackedDataItem.key}.${index}`,\n                    data: barData,\n                    x,\n                    y,\n                    width: barWidth,\n                    height: barHeight,\n                    color: getColor(barData),\n                }\n            })\n        )\n    )\n\n    return bars\n}\n\n/**\n * Generates x/y scales & bars for horizontal stacked bar chart.\n *\n * @param {Array.<Object>} data\n * @param {Function}       getIndex\n * @param {Array.<string>} keys\n * @param {number}         minValue\n * @param {number}         maxValue\n * @param {boolean}        reverse\n * @param {number}         width\n * @param {number}         height\n * @param {Function}       getColor\n * @param {number}         [padding=0]\n * @param {number}         [innerPadding=0]\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\n */\nconst generateHorizontalStackedBars = (\n    { getIndex, getColor, innerPadding, stackedData, xScale, yScale },\n    barHeight,\n    reverse\n) => {\n    const getX = d => xScale(d[reverse ? 1 : 0])\n    const getWidth = (d, x) => xScale(d[reverse ? 0 : 1]) - x\n\n    const bars = flattenDeep(\n        stackedData.map(stackedDataItem =>\n            yScale.domain().map((index, i) => {\n                const d = stackedDataItem[i]\n                const y = yScale(getIndex(d.data))\n                const x = getX(d) + innerPadding * 0.5\n                const barWidth = getWidth(d, x) - innerPadding\n\n                const barData = {\n                    id: stackedDataItem.key,\n                    value: d.data[stackedDataItem.key],\n                    index: i,\n                    indexValue: index,\n                    data: filterNullValues(d.data),\n                }\n\n                return {\n                    key: `${stackedDataItem.key}.${index}`,\n                    data: barData,\n                    x,\n                    y,\n                    width: barWidth,\n                    height: barHeight,\n                    color: getColor(barData),\n                }\n            })\n        )\n    )\n\n    return bars\n}\n\n/**\n * Generates x/y scales & bars for stacked bar chart.\n *\n * @param {Object} options\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\n */\nexport const generateStackedBars = ({\n    data,\n    keys,\n    layout,\n    minValue,\n    maxValue,\n    reverse,\n    width,\n    height,\n    padding = 0,\n    valueScale,\n    indexScale: indexScaleConfig,\n    ...props\n}) => {\n    const stackedData = stack().keys(keys).offset(stackOffsetDiverging)(normalizeData(data, keys))\n\n    const [axis, range] = layout === 'vertical' ? ['y', [0, width]] : ['x', [height, 0]]\n    const indexScale = getIndexScale(data, props.getIndex, range, padding, indexScaleConfig)\n\n    const scaleSpec = {\n        axis,\n        max: maxValue,\n        min: minValue,\n        reverse,\n        ...valueScale,\n    }\n\n    const values = flattenDeep(stackedData, 2)\n    const min = Math.min(...values)\n    const max = Math.max(...values)\n\n    const scale = computeScale(scaleSpec, { [axis]: { min, max } }, width, height)\n\n    const [xScale, yScale] = layout === 'vertical' ? [indexScale, scale] : [scale, indexScale]\n\n    const innerPadding = props.innerPadding > 0 ? props.innerPadding : 0\n    const bandwidth = indexScale.bandwidth()\n    const params = [\n        { ...props, innerPadding, stackedData, xScale, yScale },\n        bandwidth,\n        scaleSpec.reverse,\n    ]\n\n    const bars =\n        bandwidth > 0\n            ? layout === 'vertical'\n                ? generateVerticalStackedBars(...params)\n                : generateHorizontalStackedBars(...params)\n            : []\n\n    return { xScale, yScale, bars }\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { uniqBy } from 'lodash'\n\nexport const getLegendDataForKeys = (bars, layout, direction, groupMode, reverse) => {\n    const data = uniqBy(\n        bars.map(bar => ({\n            id: bar.data.id,\n            label: bar.data.id,\n            color: bar.color,\n            fill: bar.data.fill,\n        })),\n        ({ id }) => id\n    )\n\n    if (\n        (layout === 'vertical' &&\n            groupMode === 'stacked' &&\n            direction === 'column' &&\n            reverse !== true) ||\n        (layout === 'horizontal' && groupMode === 'stacked' && reverse === true)\n    ) {\n        data.reverse()\n    }\n\n    return data\n}\n\nexport const getLegendDataForIndexes = bars => {\n    return uniqBy(\n        bars.map(bar => ({\n            id: bar.data.indexValue,\n            label: bar.data.indexValue,\n            color: bar.color,\n            fill: bar.data.fill,\n        })),\n        ({ id }) => id\n    )\n}\n\nexport const getLegendData = ({ from, bars, layout, direction, groupMode, reverse }) => {\n    if (from === 'indexes') {\n        return getLegendDataForIndexes(bars)\n    }\n\n    return getLegendDataForKeys(bars, layout, direction, groupMode, reverse)\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport compose from 'recompose/compose'\nimport withPropsOnChange from 'recompose/withPropsOnChange'\nimport pure from 'recompose/pure'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nconst BarItem = ({\n    data,\n\n    x,\n    y,\n    width,\n    height,\n    borderRadius,\n    color,\n    borderWidth,\n    borderColor,\n\n    label,\n    shouldRenderLabel,\n    labelColor,\n\n    showTooltip,\n    hideTooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    tooltip,\n\n    theme,\n}) => {\n    const handleTooltip = e => showTooltip(tooltip, e)\n    const handleMouseEnter = e => {\n        onMouseEnter(data, e)\n        showTooltip(tooltip, e)\n    }\n    const handleMouseLeave = e => {\n        onMouseLeave(data, e)\n        hideTooltip(e)\n    }\n\n    return (\n        <g transform={`translate(${x}, ${y})`}>\n            <rect\n                width={width}\n                height={height}\n                rx={borderRadius}\n                ry={borderRadius}\n                fill={data.fill ? data.fill : color}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleTooltip}\n                onMouseLeave={handleMouseLeave}\n                onClick={onClick}\n            />\n            {shouldRenderLabel && (\n                <text\n                    x={width / 2}\n                    y={height / 2}\n                    textAnchor=\"middle\"\n                    dominantBaseline=\"central\"\n                    style={{\n                        ...theme.labels.text,\n                        pointerEvents: 'none',\n                        fill: labelColor,\n                    }}\n                >\n                    {label}\n                </text>\n            )}\n        </g>\n    )\n}\n\nBarItem.propTypes = {\n    data: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        value: PropTypes.number.isRequired,\n        indexValue: PropTypes.string.isRequired,\n        fill: PropTypes.string,\n    }).isRequired,\n\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    borderRadius: PropTypes.number.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.string.isRequired,\n\n    label: PropTypes.node.isRequired,\n    shouldRenderLabel: PropTypes.bool.isRequired,\n    labelColor: PropTypes.string.isRequired,\n\n    showTooltip: PropTypes.func.isRequired,\n    hideTooltip: PropTypes.func.isRequired,\n    getTooltipLabel: PropTypes.func.isRequired,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    tooltip: PropTypes.element.isRequired,\n\n    theme: PropTypes.shape({\n        tooltip: PropTypes.shape({}).isRequired,\n        labels: PropTypes.shape({\n            text: PropTypes.object.isRequired,\n        }).isRequired,\n    }).isRequired,\n}\n\nconst enhance = compose(\n    withPropsOnChange(['data', 'color', 'onClick'], ({ data, color, onClick }) => ({\n        onClick: event => onClick({ color, ...data }, event),\n    })),\n    withPropsOnChange(\n        ['data', 'color', 'theme', 'tooltip', 'getTooltipLabel', 'tooltipFormat'],\n        ({ data, color, theme, tooltip, getTooltipLabel, tooltipFormat }) => ({\n            tooltip: (\n                <BasicTooltip\n                    id={getTooltipLabel(data)}\n                    value={data.value}\n                    enableChip={true}\n                    color={color}\n                    theme={theme}\n                    format={tooltipFormat}\n                    renderContent={\n                        typeof tooltip === 'function'\n                            ? tooltip.bind(null, { color, theme, ...data })\n                            : null\n                    }\n                />\n            ),\n        })\n    ),\n    pure\n)\n\nexport default enhance(BarItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { noop, defsPropTypes } from '@nivo/core'\nimport {\n    ordinalColorsPropType,\n    colorPropertyAccessorPropType,\n    inheritedColorPropType,\n} from '@nivo/colors'\nimport { axisPropType } from '@nivo/axes'\nimport { LegendPropShape } from '@nivo/legends'\nimport { scalePropType, bandScalePropTypes } from '@nivo/scales'\nimport BarItem from './BarItem'\n\nexport const BarPropTypes = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    indexBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    getIndex: PropTypes.func.isRequired, // computed\n    keys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])).isRequired,\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf(['grid', 'axes', 'bars', 'markers', 'legends', 'annotations']),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    groupMode: PropTypes.oneOf(['stacked', 'grouped']).isRequired,\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n    reverse: PropTypes.bool.isRequired,\n    valueScale: scalePropType.isRequired,\n    indexScale: bandScalePropTypes.isRequired,\n\n    minValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n    maxValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n    padding: PropTypes.number.isRequired,\n    innerPadding: PropTypes.number.isRequired,\n\n    axisTop: axisPropType,\n    axisRight: axisPropType,\n    axisBottom: axisPropType,\n    axisLeft: axisPropType,\n    enableGridX: PropTypes.bool.isRequired,\n    enableGridY: PropTypes.bool.isRequired,\n    gridXValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])),\n    ]),\n    gridYValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])),\n    ]),\n\n    barComponent: PropTypes.func.isRequired,\n\n    enableLabel: PropTypes.bool.isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    getLabel: PropTypes.func.isRequired, // computed\n    labelSkipWidth: PropTypes.number.isRequired,\n    labelSkipHeight: PropTypes.number.isRequired,\n    labelTextColor: inheritedColorPropType.isRequired,\n    getLabelTextColor: PropTypes.func.isRequired, // computed\n    labelLinkColor: inheritedColorPropType.isRequired,\n    getLabelLinkColor: PropTypes.func.isRequired, // computed\n\n    colors: ordinalColorsPropType.isRequired,\n    colorBy: colorPropertyAccessorPropType.isRequired,\n    borderRadius: PropTypes.number.isRequired,\n    getColor: PropTypes.func.isRequired, // computed\n    ...defsPropTypes,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: inheritedColorPropType.isRequired,\n    getBorderColor: PropTypes.func.isRequired,\n\n    isInteractive: PropTypes.bool,\n    onClick: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func.isRequired,\n    onMouseLeave: PropTypes.func.isRequired,\n    tooltipLabel: PropTypes.func,\n    getTooltipLabel: PropTypes.func.isRequired,\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    tooltip: PropTypes.func,\n\n    legends: PropTypes.arrayOf(\n        PropTypes.shape({\n            dataFrom: PropTypes.oneOf(['indexes', 'keys']).isRequired,\n            ...LegendPropShape,\n        })\n    ).isRequired,\n\n    pixelRatio: PropTypes.number.isRequired,\n}\n\nexport const BarSvgPropTypes = {\n    ...BarPropTypes,\n    role: PropTypes.string.isRequired,\n}\n\nexport const BarDefaultProps = {\n    indexBy: 'id',\n    keys: ['value'],\n    layers: ['grid', 'axes', 'bars', 'markers', 'legends', 'annotations'],\n\n    groupMode: 'stacked',\n    layout: 'vertical',\n    reverse: false,\n\n    minValue: 'auto',\n    maxValue: 'auto',\n\n    valueScale: { type: 'linear' },\n    indexScale: { type: 'band', round: true },\n\n    padding: 0.1,\n    innerPadding: 0,\n\n    axisBottom: {},\n    axisLeft: {},\n    enableGridX: false,\n    enableGridY: true,\n\n    barComponent: BarItem,\n\n    enableLabel: true,\n    label: 'value',\n    labelSkipWidth: 0,\n    labelSkipHeight: 0,\n    labelLinkColor: 'theme',\n    labelTextColor: 'theme',\n\n    colors: { scheme: 'nivo' },\n    colorBy: 'id',\n    defs: [],\n    fill: [],\n    borderRadius: 0,\n    borderWidth: 0,\n    borderColor: { from: 'color' },\n\n    isInteractive: true,\n    onClick: noop,\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n\n    legends: [],\n\n    annotations: [],\n\n    pixelRatio:\n        global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1,\n}\n\nexport const BarSvgDefaultProps = {\n    ...BarDefaultProps,\n    role: 'img',\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *d\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { compose } from 'recompose'\nimport defaultProps from 'recompose/defaultProps'\nimport withPropsOnChange from 'recompose/withPropsOnChange'\nimport pure from 'recompose/pure'\nimport {\n    withTheme,\n    withDimensions,\n    withMotion,\n    getAccessorFor,\n    getLabelGenerator,\n} from '@nivo/core'\nimport { getOrdinalColorScale, getInheritedColorGenerator } from '@nivo/colors'\nimport { BarDefaultProps } from './props'\n\nexport default Component =>\n    compose(\n        defaultProps(BarDefaultProps),\n        withTheme(),\n        withDimensions(),\n        withMotion(),\n        withPropsOnChange(['colors', 'colorBy'], ({ colors, colorBy }) => ({\n            getColor: getOrdinalColorScale(colors, colorBy),\n        })),\n        withPropsOnChange(['indexBy'], ({ indexBy }) => ({\n            getIndex: getAccessorFor(indexBy),\n        })),\n        withPropsOnChange(['labelTextColor', 'theme'], ({ labelTextColor, theme }) => ({\n            getLabelTextColor: getInheritedColorGenerator(labelTextColor, theme),\n        })),\n        withPropsOnChange(['labelLinkColor', 'theme'], ({ labelLinkColor, theme }) => ({\n            getLabelLinkColor: getInheritedColorGenerator(labelLinkColor, theme),\n        })),\n        withPropsOnChange(['label', 'labelFormat'], ({ label, labelFormat }) => ({\n            getLabel: getLabelGenerator(label, labelFormat),\n        })),\n        withPropsOnChange(['borderColor', 'theme'], ({ borderColor, theme }) => ({\n            getBorderColor: getInheritedColorGenerator(borderColor, theme),\n        })),\n        withPropsOnChange(['tooltipLabel'], ({ tooltipLabel }) => {\n            let getTooltipLabel = d => `${d.id} - ${d.indexValue}`\n            if (typeof tooltipLabel === 'function') {\n                getTooltipLabel = tooltipLabel\n            }\n\n            return { getTooltipLabel }\n        }),\n        pure\n    )(Component)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { Annotation, useAnnotations } from '@nivo/annotations'\n\nconst BarAnnotations = ({\n    bars,\n    annotations,\n    animate,\n    innerWidth,\n    innerHeight,\n    motionStiffness,\n    motionDamping,\n}) => {\n    const boundAnnotations = useAnnotations({\n        items: bars,\n        annotations,\n        getPosition: bar => ({\n            x: bar.x + bar.width / 2,\n            y: bar.y + bar.height / 2,\n        }),\n        getDimensions: (bar, offset) => {\n            const width = bar.width + offset * 2\n            const height = bar.height + offset * 2\n\n            return {\n                width,\n                height,\n                size: Math.max(width, height),\n            }\n        },\n    })\n\n    return boundAnnotations.map((annotation, i) => (\n        <Annotation\n            key={i}\n            {...annotation}\n            containerWidth={innerWidth}\n            containerHeight={innerHeight}\n            animate={animate}\n            motionStiffness={motionStiffness}\n            motionDamping={motionDamping}\n        />\n    ))\n}\n\nBarAnnotations.propTypes = {}\n\nexport default BarAnnotations\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Fragment } from 'react'\nimport { TransitionMotion, spring } from 'react-motion'\nimport { bindDefs, LegacyContainer, SvgWrapper, CartesianMarkers } from '@nivo/core'\nimport { Axes, Grid } from '@nivo/axes'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { generateGroupedBars, generateStackedBars, getLegendData } from './compute'\nimport setDisplayName from 'recompose/setDisplayName'\nimport enhance from './enhance'\nimport { BarSvgDefaultProps, BarSvgPropTypes } from './props'\nimport BarAnnotations from './BarAnnotations'\n\nconst barWillEnterHorizontal = ({ style }) => ({\n    x: style.x.val,\n    y: style.y.val,\n    width: 0,\n    height: style.height.val,\n})\n\nconst barWillEnterVertical = ({ style }) => ({\n    x: style.x.val,\n    y: style.y.val + style.height.val,\n    width: style.width.val,\n    height: 0,\n})\n\nconst barWillLeaveHorizontal = springConfig => ({ style }) => ({\n    x: style.x,\n    y: style.y,\n    width: spring(0, springConfig),\n    height: style.height,\n})\n\nconst barWillLeaveVertical = springConfig => ({ style }) => ({\n    x: style.x,\n    y: spring(style.y.val + style.height.val, springConfig),\n    width: style.width,\n    height: spring(0, springConfig),\n})\n\nconst Bar = props => {\n    const {\n        data,\n        getIndex,\n        keys,\n\n        groupMode,\n        layout,\n        reverse,\n        minValue,\n        maxValue,\n\n        valueScale,\n        indexScale,\n\n        margin,\n        width,\n        height,\n        outerWidth,\n        outerHeight,\n        padding,\n        innerPadding,\n\n        axisTop,\n        axisRight,\n        axisBottom,\n        axisLeft,\n        enableGridX,\n        enableGridY,\n        gridXValues,\n        gridYValues,\n\n        layers,\n        barComponent,\n\n        enableLabel,\n        getLabel,\n        labelSkipWidth,\n        labelSkipHeight,\n        getLabelTextColor,\n\n        markers,\n\n        theme,\n        getColor,\n        defs,\n        fill,\n        borderRadius,\n        borderWidth,\n        getBorderColor,\n\n        annotations,\n\n        isInteractive,\n        getTooltipLabel,\n        tooltipFormat,\n        tooltip,\n        onClick,\n        onMouseEnter,\n        onMouseLeave,\n\n        legends,\n\n        animate,\n        motionStiffness,\n        motionDamping,\n\n        role,\n    } = props\n    const generateBars = groupMode === 'grouped' ? generateGroupedBars : generateStackedBars\n    const result = generateBars({\n        layout,\n        reverse,\n        data,\n        getIndex,\n        keys,\n        minValue,\n        maxValue,\n        width,\n        height,\n        getColor,\n        padding,\n        innerPadding,\n        valueScale,\n        indexScale,\n    })\n\n    const motionProps = {\n        animate,\n        motionDamping,\n        motionStiffness,\n    }\n\n    const springConfig = {\n        damping: motionDamping,\n        stiffness: motionStiffness,\n    }\n\n    const willEnter = layout === 'vertical' ? barWillEnterVertical : barWillEnterHorizontal\n    const willLeave =\n        layout === 'vertical'\n            ? barWillLeaveVertical(springConfig)\n            : barWillLeaveHorizontal(springConfig)\n\n    const shouldRenderLabel = ({ width, height }) => {\n        if (!enableLabel) return false\n        if (labelSkipWidth > 0 && width < labelSkipWidth) return false\n        if (labelSkipHeight > 0 && height < labelSkipHeight) return false\n        return true\n    }\n\n    const boundDefs = bindDefs(defs, result.bars, fill, {\n        dataKey: 'data',\n        targetKey: 'data.fill',\n    })\n\n    return (\n        <LegacyContainer\n            isInteractive={isInteractive}\n            theme={theme}\n            animate={animate}\n            motionStiffness={motionStiffness}\n            motionDamping={motionDamping}\n        >\n            {({ showTooltip, hideTooltip }) => {\n                const commonProps = {\n                    borderRadius,\n                    borderWidth,\n                    enableLabel,\n                    labelSkipWidth,\n                    labelSkipHeight,\n                    showTooltip,\n                    hideTooltip,\n                    onClick,\n                    onMouseEnter,\n                    onMouseLeave,\n                    theme,\n                    getTooltipLabel,\n                    tooltipFormat,\n                    tooltip,\n                }\n\n                let bars\n                if (animate === true) {\n                    bars = (\n                        <TransitionMotion\n                            key=\"bars\"\n                            willEnter={willEnter}\n                            willLeave={willLeave}\n                            styles={result.bars\n                                .filter(bar => bar.data.value !== null)\n                                .map(bar => ({\n                                    key: bar.key,\n                                    data: bar,\n                                    style: {\n                                        x: spring(bar.x, springConfig),\n                                        y: spring(bar.y, springConfig),\n                                        width: spring(bar.width, springConfig),\n                                        height: spring(bar.height, springConfig),\n                                    },\n                                }))}\n                        >\n                            {interpolatedStyles => (\n                                <g>\n                                    {interpolatedStyles.map(({ key, style, data: bar }) => {\n                                        const baseProps = { ...bar, ...style }\n\n                                        return React.createElement(barComponent, {\n                                            key,\n                                            ...baseProps,\n                                            ...commonProps,\n                                            shouldRenderLabel: shouldRenderLabel(baseProps),\n                                            width: Math.max(style.width, 0),\n                                            height: Math.max(style.height, 0),\n                                            label: getLabel(bar.data),\n                                            labelColor: getLabelTextColor(baseProps, theme),\n                                            borderColor: getBorderColor(baseProps),\n                                            theme,\n                                        })\n                                    })}\n                                </g>\n                            )}\n                        </TransitionMotion>\n                    )\n                } else {\n                    bars = result.bars\n                        .filter(bar => bar.data.value !== null)\n                        .map(d =>\n                            React.createElement(barComponent, {\n                                key: d.key,\n                                ...d,\n                                ...commonProps,\n                                label: getLabel(d.data),\n                                shouldRenderLabel: shouldRenderLabel(d),\n                                labelColor: getLabelTextColor(d, theme),\n                                borderColor: getBorderColor(d),\n                                theme,\n                            })\n                        )\n                }\n\n                const layerById = {\n                    grid: (\n                        <Grid\n                            key=\"grid\"\n                            width={width}\n                            height={height}\n                            xScale={enableGridX ? result.xScale : null}\n                            yScale={enableGridY ? result.yScale : null}\n                            xValues={gridXValues}\n                            yValues={gridYValues}\n                        />\n                    ),\n                    axes: (\n                        <Axes\n                            key=\"axes\"\n                            xScale={result.xScale}\n                            yScale={result.yScale}\n                            width={width}\n                            height={height}\n                            top={axisTop}\n                            right={axisRight}\n                            bottom={axisBottom}\n                            left={axisLeft}\n                        />\n                    ),\n                    bars,\n                    markers: (\n                        <CartesianMarkers\n                            key=\"markers\"\n                            markers={markers}\n                            width={width}\n                            height={height}\n                            xScale={result.xScale}\n                            yScale={result.yScale}\n                            theme={theme}\n                        />\n                    ),\n                    legends: legends.map((legend, i) => {\n                        const legendData = getLegendData({\n                            from: legend.dataFrom,\n                            bars: result.bars,\n                            layout,\n                            direction: legend.direction,\n                            groupMode,\n                            reverse,\n                        })\n\n                        if (legendData === undefined) return null\n\n                        return (\n                            <BoxLegendSvg\n                                key={i}\n                                {...legend}\n                                containerWidth={width}\n                                containerHeight={height}\n                                data={legendData}\n                                theme={theme}\n                            />\n                        )\n                    }),\n                    annotations: (\n                        <BarAnnotations\n                            key=\"annotations\"\n                            innerWidth={width}\n                            innerHeight={height}\n                            bars={result.bars}\n                            annotations={annotations}\n                            {...motionProps}\n                        />\n                    ),\n                }\n\n                return (\n                    <SvgWrapper\n                        width={outerWidth}\n                        height={outerHeight}\n                        margin={margin}\n                        defs={boundDefs}\n                        theme={theme}\n                        role={role}\n                    >\n                        {layers.map((layer, i) => {\n                            if (typeof layer === 'function') {\n                                return (\n                                    <Fragment key={i}>\n                                        {layer({ ...props, ...result, showTooltip, hideTooltip })}\n                                    </Fragment>\n                                )\n                            }\n                            return layerById[layer]\n                        })}\n                    </SvgWrapper>\n                )\n            }}\n        </LegacyContainer>\n    )\n}\n\nBar.propTypes = BarSvgPropTypes\nBar.defaultProps = BarSvgDefaultProps\n\nexport default setDisplayName('Bar')(enhance(Bar))\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Component } from 'react'\nimport uniqBy from 'lodash/uniqBy'\nimport setDisplayName from 'recompose/setDisplayName'\nimport { getRelativeCursor, isCursorInRect, LegacyContainer } from '@nivo/core'\nimport { renderAxesToCanvas, renderGridLinesToCanvas } from '@nivo/axes'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { BasicTooltip } from '@nivo/tooltip'\nimport { generateGroupedBars, generateStackedBars } from './compute'\nimport { BarDefaultProps, BarPropTypes } from './props'\nimport enhance from './enhance'\n\nconst findNodeUnderCursor = (nodes, margin, x, y) =>\n    nodes.find(node =>\n        isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y)\n    )\n\nclass BarCanvas extends Component {\n    componentDidMount() {\n        this.ctx = this.surface.getContext('2d')\n        this.draw(this.props)\n    }\n\n    shouldComponentUpdate(props) {\n        if (\n            this.props.outerWidth !== props.outerWidth ||\n            this.props.outerHeight !== props.outerHeight ||\n            this.props.isInteractive !== props.isInteractive ||\n            this.props.theme !== props.theme\n        ) {\n            return true\n        } else {\n            this.draw(props)\n            return false\n        }\n    }\n\n    componentDidUpdate() {\n        this.ctx = this.surface.getContext('2d')\n        this.draw(this.props)\n    }\n\n    draw(props) {\n        const {\n            data,\n            keys,\n            getIndex,\n            minValue,\n            maxValue,\n\n            valueScale,\n            indexScale,\n\n            width,\n            height,\n            outerWidth,\n            outerHeight,\n            pixelRatio,\n            margin,\n\n            layout,\n            reverse,\n            groupMode,\n            padding,\n            innerPadding,\n\n            axisTop,\n            axisRight,\n            axisBottom,\n            axisLeft,\n\n            theme,\n            getColor,\n            borderWidth,\n            getBorderColor,\n\n            legends,\n\n            enableGridX,\n            gridXValues,\n            enableGridY,\n            gridYValues,\n        } = props\n\n        this.surface.width = outerWidth * pixelRatio\n        this.surface.height = outerHeight * pixelRatio\n\n        this.ctx.scale(pixelRatio, pixelRatio)\n\n        const options = {\n            layout,\n            reverse,\n            data,\n            getIndex,\n            keys,\n            minValue,\n            maxValue,\n            width,\n            height,\n            getColor,\n            padding,\n            innerPadding,\n            valueScale,\n            indexScale,\n        }\n\n        const result =\n            groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options)\n\n        this.bars = result.bars\n\n        this.ctx.fillStyle = theme.background\n        this.ctx.fillRect(0, 0, outerWidth, outerHeight)\n        this.ctx.translate(margin.left, margin.top)\n\n        if (theme.grid.line.strokeWidth > 0) {\n            this.ctx.lineWidth = theme.grid.line.strokeWidth\n            this.ctx.strokeStyle = theme.grid.line.stroke\n\n            enableGridX &&\n                renderGridLinesToCanvas(this.ctx, {\n                    width,\n                    height,\n                    scale: result.xScale,\n                    axis: 'x',\n                    values: gridXValues,\n                })\n\n            enableGridY &&\n                renderGridLinesToCanvas(this.ctx, {\n                    width,\n                    height,\n                    scale: result.yScale,\n                    axis: 'y',\n                    values: gridYValues,\n                })\n        }\n\n        this.ctx.strokeStyle = '#dddddd'\n\n        const legendDataForKeys = uniqBy(\n            result.bars\n                .map(bar => ({\n                    id: bar.data.id,\n                    label: bar.data.id,\n                    color: bar.color,\n                    fill: bar.data.fill,\n                }))\n                .reverse(),\n            ({ id }) => id\n        )\n        const legendDataForIndexes = uniqBy(\n            result.bars.map(bar => ({\n                id: bar.data.indexValue,\n                label: bar.data.indexValue,\n                color: bar.color,\n                fill: bar.data.fill,\n            })),\n            ({ id }) => id\n        )\n\n        legends.forEach(legend => {\n            let legendData\n            if (legend.dataFrom === 'keys') {\n                legendData = legendDataForKeys\n            } else if (legend.dataFrom === 'indexes') {\n                legendData = legendDataForIndexes\n            }\n\n            if (legendData === undefined) return null\n            renderLegendToCanvas(this.ctx, {\n                ...legend,\n                data: legendData,\n                containerWidth: width,\n                containerHeight: height,\n                itemTextColor: '#999',\n                symbolSize: 16,\n                theme,\n            })\n        })\n\n        renderAxesToCanvas(this.ctx, {\n            xScale: result.xScale,\n            yScale: result.yScale,\n            width,\n            height,\n            top: axisTop,\n            right: axisRight,\n            bottom: axisBottom,\n            left: axisLeft,\n            theme,\n        })\n\n        result.bars.forEach(bar => {\n            const { x, y, color, width, height } = bar\n\n            this.ctx.fillStyle = color\n            if (borderWidth > 0) {\n                this.ctx.strokeStyle = getBorderColor(bar)\n                this.ctx.lineWidth = borderWidth\n            }\n\n            this.ctx.beginPath()\n            this.ctx.rect(x, y, width, height)\n            this.ctx.fill()\n\n            if (borderWidth > 0) {\n                this.ctx.stroke()\n            }\n        })\n    }\n\n    handleMouseHover = (showTooltip, hideTooltip) => event => {\n        if (!this.bars) return\n\n        const { margin, theme, tooltip, getTooltipLabel, tooltipFormat } = this.props\n        const [x, y] = getRelativeCursor(this.surface, event)\n\n        const bar = findNodeUnderCursor(this.bars, margin, x, y)\n\n        if (bar !== undefined) {\n            showTooltip(\n                <BasicTooltip\n                    id={getTooltipLabel(bar.data)}\n                    value={bar.data.value}\n                    enableChip={true}\n                    color={bar.color}\n                    theme={theme}\n                    format={tooltipFormat}\n                    renderContent={\n                        typeof tooltip === 'function'\n                            ? tooltip.bind(null, { color: bar.color, ...bar.data })\n                            : null\n                    }\n                />,\n                event\n            )\n        } else {\n            hideTooltip()\n        }\n    }\n\n    handleMouseLeave = hideTooltip => () => {\n        hideTooltip()\n    }\n\n    handleClick = event => {\n        if (!this.bars) return\n\n        const { margin, onClick } = this.props\n        const [x, y] = getRelativeCursor(this.surface, event)\n\n        const node = findNodeUnderCursor(this.bars, margin, x, y)\n        if (node !== undefined) onClick(node.data, event)\n    }\n\n    render() {\n        const { outerWidth, outerHeight, pixelRatio, isInteractive, theme, canvasRef } = this.props\n\n        return (\n            <LegacyContainer isInteractive={isInteractive} theme={theme} animate={false}>\n                {({ showTooltip, hideTooltip }) => (\n                    <canvas\n                        ref={surface => {\n                            this.surface = surface\n                            if (canvasRef) canvasRef.current = surface\n                        }}\n                        width={outerWidth * pixelRatio}\n                        height={outerHeight * pixelRatio}\n                        style={{\n                            width: outerWidth,\n                            height: outerHeight,\n                        }}\n                        onMouseEnter={this.handleMouseHover(showTooltip, hideTooltip)}\n                        onMouseMove={this.handleMouseHover(showTooltip, hideTooltip)}\n                        onMouseLeave={this.handleMouseLeave(hideTooltip)}\n                        onClick={this.handleClick}\n                    />\n                )}\n            </LegacyContainer>\n        )\n    }\n}\n\nBarCanvas.propTypes = BarPropTypes\nBarCanvas.defaultProps = BarDefaultProps\n\nconst EnhancedBarCanvas = setDisplayName('BarCanvas')(enhance(BarCanvas))\nexport default React.forwardRef((props, ref) => <EnhancedBarCanvas {...props} canvasRef={ref} />)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Bar from './Bar'\n\nconst ResponsiveBar = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Bar width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveBar\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphal Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport BarCanvas from './BarCanvas'\n\nconst ResponsiveBarCanvas = (props, ref) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <BarCanvas width={width} height={height} {...props} ref={ref} />}\n    </ResponsiveWrapper>\n)\n\nexport default React.forwardRef(ResponsiveBarCanvas)\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import React, { useEffect } from 'react';\nimport G6 from '@antv/g6/es';\nimport { ErrorBoundary } from '../base';\nimport './customItems';\nimport { processMinimap, getGraphSize } from './util';\nimport useGraph from '../hooks/useGraph';\nvar defaultStateStyles = {\n  hover: {\n    stroke: '#1890ff',\n    lineWidth: 2\n  }\n};\nvar defaultNodeSize = [120, 40];\nvar defaultNodeStyle = {\n  stroke: '#40a9ff'\n};\nvar defaultNodeAnchorPoints = [[0, 0.5], [1, 0.5]];\nvar defaultEdgeStyle = {\n  stroke: '#ccc',\n  endArrow: {\n    path: G6.Arrow.vee(10, 10),\n    fill: '#ccc'\n  }\n};\nvar defaultLayout = {\n  type: 'indented',\n  direction: 'LR',\n  dropCap: false,\n  indent: 250,\n  getHeight: function () {\n    return 60;\n  },\n  getWidth: function (d) {\n    return 100;\n  }\n};\nvar defaultLabelCfg = {\n  style: {\n    fill: '#000',\n    fontSize: 12\n  }\n};\nvar graph;\n\nvar IndentedTree = function (_a) {\n  var data = _a.data,\n      className = _a.className,\n      style = _a.style,\n      width = _a.width,\n      height = _a.height,\n      _b = _a.nodeType,\n      nodeType = _b === void 0 ? 'card-node' : _b,\n      _c = _a.edgeType,\n      edgeType = _c === void 0 ? 'cubic-horizontal' : _c,\n      _d = _a.behaviors,\n      behaviors = _d === void 0 ? ['zoom-canvas', 'drag-canvas'] : _d,\n      _e = _a.nodeSize,\n      nodeSize = _e === void 0 ? defaultNodeSize : _e,\n      _f = _a.nodeLabelCfg,\n      nodeLabelCfg = _f === void 0 ? defaultLabelCfg : _f,\n      _g = _a.nodeAnchorPoints,\n      nodeAnchorPoints = _g === void 0 ? defaultNodeAnchorPoints : _g,\n      _h = _a.layout,\n      layout = _h === void 0 ? defaultLayout : _h,\n      minimapCfg = _a.minimapCfg,\n      _j = _a.nodeStyle,\n      nodeStyle = _j === void 0 ? defaultNodeStyle : _j,\n      _k = _a.edgeStyle,\n      edgeStyle = _k === void 0 ? defaultEdgeStyle : _k,\n      _l = _a.nodeStateStyles,\n      nodeStateStyles = _l === void 0 ? defaultStateStyles : _l,\n      _m = _a.edgeStateStyles,\n      edgeStateStyles = _m === void 0 ? defaultStateStyles : _m,\n      _o = _a.collapseExpand,\n      collapseExpand = _o === void 0 ? true : _o,\n      handleEdgeClick = _a.handleEdgeClick,\n      handleEdgeHover = _a.handleEdgeHover,\n      handleEdgeUnHover = _a.handleEdgeUnHover,\n      handleNodeClick = _a.handleNodeClick,\n      handleNodeHover = _a.handleNodeHover,\n      handleNodeUnHover = _a.handleNodeUnHover,\n      handleCanvasClick = _a.handleCanvasClick,\n      graphRef = _a.graphRef;\n  var container = React.useRef(null);\n  var props = {\n    data: data,\n    className: className,\n    style: style,\n    width: width,\n    height: height,\n    nodeType: nodeType,\n    edgeType: edgeType,\n    behaviors: behaviors,\n    nodeSize: nodeSize,\n    nodeLabelCfg: nodeLabelCfg,\n    nodeAnchorPoints: nodeAnchorPoints,\n    layout: layout,\n    minimapCfg: minimapCfg,\n    nodeStyle: nodeStyle,\n    edgeStyle: edgeStyle,\n    nodeStateStyles: nodeStateStyles,\n    edgeStateStyles: edgeStateStyles,\n    collapseExpand: collapseExpand,\n    handleEdgeClick: handleEdgeClick,\n    handleEdgeHover: handleEdgeHover,\n    handleEdgeUnHover: handleEdgeUnHover,\n    handleNodeClick: handleNodeClick,\n    handleNodeHover: handleNodeHover,\n    handleNodeUnHover: handleNodeUnHover,\n    handleCanvasClick: handleCanvasClick,\n    graphRef: graphRef\n  };\n  useGraph(graph, props, container);\n  useEffect(function () {\n    var graphSize = getGraphSize(width, height, container);\n\n    if (!graph || graph.destroyed) {\n      graph = new G6.TreeGraph({\n        container: container.current,\n        width: graphSize[0],\n        height: graphSize[1],\n        modes: {\n          default: behaviors\n        },\n        defaultNode: {\n          type: nodeType,\n          size: nodeSize,\n          style: nodeStyle,\n          anchorPoints: nodeAnchorPoints,\n          labelCfg: nodeLabelCfg\n        },\n        defaultEdge: {\n          type: edgeType,\n          style: edgeStyle\n        },\n        nodeStateStyles: nodeStateStyles,\n        edgeStateStyles: edgeStateStyles,\n        layout: layout\n      });\n\n      if (graphRef) {\n        graphRef.current = graph;\n      }\n    }\n\n    processMinimap(minimapCfg, graph);\n    graph.data(data);\n    graph.render();\n    graph.fitView();\n\n    if (collapseExpand) {\n      var onClick_1 = function (e) {\n        var item = e.item;\n\n        if (e.target.get('name') === 'collapse-icon') {\n          graph.updateItem(item, {\n            collapsed: !item.getModel().collapsed\n          });\n          graph.layout();\n        } else {\n          if (handleNodeClick) {\n            handleNodeClick(item, graph);\n          }\n        }\n      };\n\n      graph.on('node:click', function (e) {\n        onClick_1(e);\n      });\n      graph.on('node:touchstart', function (e) {\n        onClick_1(e);\n      });\n    }\n\n    graph.on('edge:mouseenter', function (evt) {\n      var item = evt.item;\n      graph.setItemState(item, 'hover', true);\n\n      if (handleEdgeHover) {\n        handleEdgeHover(item, graph);\n      }\n    });\n    graph.on('edge:mouseleave', function (evt) {\n      var item = evt.item;\n      graph.setItemState(item, 'hover', false);\n\n      if (handleEdgeUnHover) {\n        handleEdgeUnHover(item, graph);\n      }\n    });\n    graph.on('edge:click', function (evt) {\n      var item = evt.item;\n\n      if (handleEdgeClick) {\n        handleEdgeClick(item, graph);\n      }\n    });\n    graph.on('edge:touchstart', function (evt) {\n      var item = evt.item;\n\n      if (handleEdgeClick) {\n        handleEdgeClick(item, graph);\n      }\n    });\n    graph.on('node:mouseenter', function (evt) {\n      var item = evt.item;\n      graph.setItemState(item, 'hover', false);\n\n      if (handleNodeHover) {\n        handleNodeHover(item, graph);\n      }\n    });\n    graph.on('node:mouseleave', function (evt) {\n      var item = evt.item;\n      graph.setItemState(item, 'hover', false);\n\n      if (handleNodeUnHover) {\n        handleNodeUnHover(item, graph);\n      }\n    });\n    graph.on('canvas:click', function (evt) {\n      handleCanvasClick && handleCanvasClick(graph);\n    });\n    graph.on('canvas:touchstart', function (evt) {\n      handleCanvasClick && handleCanvasClick(graph);\n    });\n    return function () {\n      return graph.destroy();\n    };\n  }, []);\n  return React.createElement(ErrorBoundary, null, React.createElement(\"div\", {\n    className: className,\n    style: style,\n    ref: container\n  }));\n};\n\nexport default IndentedTree;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@ant-design/charts/es/graph/indented.js"],"names":["React","useEffect","G6","ErrorBoundary","processMinimap","getGraphSize","useGraph","defaultStateStyles","hover","stroke","lineWidth","defaultNodeSize","defaultNodeStyle","defaultNodeAnchorPoints","defaultEdgeStyle","endArrow","path","Arrow","vee","fill","defaultLayout","type","direction","dropCap","indent","getHeight","getWidth","d","defaultLabelCfg","style","fontSize","graph","IndentedTree","_a","data","className","width","height","_b","nodeType","_c","edgeType","_d","behaviors","_e","nodeSize","_f","nodeLabelCfg","_g","nodeAnchorPoints","_h","layout","minimapCfg","_j","nodeStyle","_k","edgeStyle","_l","nodeStateStyles","_m","edgeStateStyles","_o","collapseExpand","handleEdgeClick","handleEdgeHover","handleEdgeUnHover","handleNodeClick","handleNodeHover","handleNodeUnHover","handleCanvasClick","graphRef","container","useRef","props","graphSize","destroyed","TreeGraph","current","modes","default","defaultNode","size","anchorPoints","labelCfg","defaultEdge","render","fitView","onClick_1","e","item","target","get","updateItem","collapsed","getModel","on","evt","setItemState","destroy","createElement","ref"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport G6 from '@antv/g6/es';\nimport { ErrorBoundary } from '../base';\nimport './customItems';\nimport { processMinimap, getGraphSize } from './util';\nimport useGraph from '../hooks/useGraph';\nvar defaultStateStyles = {\n    hover: {\n        stroke: '#1890ff',\n        lineWidth: 2\n    }\n};\nvar defaultNodeSize = [120, 40];\nvar defaultNodeStyle = {\n    stroke: '#40a9ff',\n};\nvar defaultNodeAnchorPoints = [[0, 0.5], [1, 0.5]];\nvar defaultEdgeStyle = {\n    stroke: '#ccc',\n    endArrow: {\n        path: G6.Arrow.vee(10, 10),\n        fill: '#ccc',\n    }\n};\nvar defaultLayout = {\n    type: 'indented',\n    direction: 'LR',\n    dropCap: false,\n    indent: 250,\n    getHeight: function () {\n        return 60;\n    },\n    getWidth: function (d) {\n        return 100;\n    }\n};\nvar defaultLabelCfg = {\n    style: {\n        fill: '#000',\n        fontSize: 12\n    }\n};\nvar graph;\nvar IndentedTree = function (_a) {\n    var data = _a.data, className = _a.className, style = _a.style, width = _a.width, height = _a.height, _b = _a.nodeType, nodeType = _b === void 0 ? 'card-node' : _b, _c = _a.edgeType, edgeType = _c === void 0 ? 'cubic-horizontal' : _c, _d = _a.behaviors, behaviors = _d === void 0 ? ['zoom-canvas', 'drag-canvas'] : _d, _e = _a.nodeSize, nodeSize = _e === void 0 ? defaultNodeSize : _e, _f = _a.nodeLabelCfg, nodeLabelCfg = _f === void 0 ? defaultLabelCfg : _f, _g = _a.nodeAnchorPoints, nodeAnchorPoints = _g === void 0 ? defaultNodeAnchorPoints : _g, _h = _a.layout, layout = _h === void 0 ? defaultLayout : _h, minimapCfg = _a.minimapCfg, _j = _a.nodeStyle, nodeStyle = _j === void 0 ? defaultNodeStyle : _j, _k = _a.edgeStyle, edgeStyle = _k === void 0 ? defaultEdgeStyle : _k, _l = _a.nodeStateStyles, nodeStateStyles = _l === void 0 ? defaultStateStyles : _l, _m = _a.edgeStateStyles, edgeStateStyles = _m === void 0 ? defaultStateStyles : _m, _o = _a.collapseExpand, collapseExpand = _o === void 0 ? true : _o, handleEdgeClick = _a.handleEdgeClick, handleEdgeHover = _a.handleEdgeHover, handleEdgeUnHover = _a.handleEdgeUnHover, handleNodeClick = _a.handleNodeClick, handleNodeHover = _a.handleNodeHover, handleNodeUnHover = _a.handleNodeUnHover, handleCanvasClick = _a.handleCanvasClick, graphRef = _a.graphRef;\n    var container = React.useRef(null);\n    var props = {\n        data: data,\n        className: className,\n        style: style,\n        width: width,\n        height: height,\n        nodeType: nodeType,\n        edgeType: edgeType,\n        behaviors: behaviors,\n        nodeSize: nodeSize,\n        nodeLabelCfg: nodeLabelCfg,\n        nodeAnchorPoints: nodeAnchorPoints,\n        layout: layout,\n        minimapCfg: minimapCfg,\n        nodeStyle: nodeStyle,\n        edgeStyle: edgeStyle,\n        nodeStateStyles: nodeStateStyles,\n        edgeStateStyles: edgeStateStyles,\n        collapseExpand: collapseExpand,\n        handleEdgeClick: handleEdgeClick,\n        handleEdgeHover: handleEdgeHover,\n        handleEdgeUnHover: handleEdgeUnHover,\n        handleNodeClick: handleNodeClick,\n        handleNodeHover: handleNodeHover,\n        handleNodeUnHover: handleNodeUnHover,\n        handleCanvasClick: handleCanvasClick,\n        graphRef: graphRef\n    };\n    useGraph(graph, props, container);\n    useEffect(function () {\n        var graphSize = getGraphSize(width, height, container);\n        if (!graph || graph.destroyed) {\n            graph = new G6.TreeGraph({\n                container: container.current,\n                width: graphSize[0],\n                height: graphSize[1],\n                modes: {\n                    default: behaviors,\n                },\n                defaultNode: {\n                    type: nodeType,\n                    size: nodeSize,\n                    style: nodeStyle,\n                    anchorPoints: nodeAnchorPoints,\n                    labelCfg: nodeLabelCfg\n                },\n                defaultEdge: {\n                    type: edgeType,\n                    style: edgeStyle,\n                },\n                nodeStateStyles: nodeStateStyles,\n                edgeStateStyles: edgeStateStyles,\n                layout: layout,\n            });\n            if (graphRef) {\n                graphRef.current = graph;\n            }\n        }\n        processMinimap(minimapCfg, graph);\n        graph.data(data);\n        graph.render();\n        graph.fitView();\n        if (collapseExpand) {\n            var onClick_1 = function (e) {\n                var item = e.item;\n                if (e.target.get('name') === 'collapse-icon') {\n                    graph.updateItem(item, {\n                        collapsed: !item.getModel().collapsed\n                    });\n                    graph.layout();\n                }\n                else {\n                    if (handleNodeClick) {\n                        handleNodeClick(item, graph);\n                    }\n                }\n            };\n            graph.on('node:click', function (e) {\n                onClick_1(e);\n            });\n            graph.on('node:touchstart', function (e) {\n                onClick_1(e);\n            });\n        }\n        graph.on('edge:mouseenter', function (evt) {\n            var item = evt.item;\n            graph.setItemState(item, 'hover', true);\n            if (handleEdgeHover) {\n                handleEdgeHover(item, graph);\n            }\n        });\n        graph.on('edge:mouseleave', function (evt) {\n            var item = evt.item;\n            graph.setItemState(item, 'hover', false);\n            if (handleEdgeUnHover) {\n                handleEdgeUnHover(item, graph);\n            }\n        });\n        graph.on('edge:click', function (evt) {\n            var item = evt.item;\n            if (handleEdgeClick) {\n                handleEdgeClick(item, graph);\n            }\n        });\n        graph.on('edge:touchstart', function (evt) {\n            var item = evt.item;\n            if (handleEdgeClick) {\n                handleEdgeClick(item, graph);\n            }\n        });\n        graph.on('node:mouseenter', function (evt) {\n            var item = evt.item;\n            graph.setItemState(item, 'hover', false);\n            if (handleNodeHover) {\n                handleNodeHover(item, graph);\n            }\n        });\n        graph.on('node:mouseleave', function (evt) {\n            var item = evt.item;\n            graph.setItemState(item, 'hover', false);\n            if (handleNodeUnHover) {\n                handleNodeUnHover(item, graph);\n            }\n        });\n        graph.on('canvas:click', function (evt) {\n            handleCanvasClick && handleCanvasClick(graph);\n        });\n        graph.on('canvas:touchstart', function (evt) {\n            handleCanvasClick && handleCanvasClick(graph);\n        });\n        return function () { return graph.destroy(); };\n    }, []);\n    return (React.createElement(ErrorBoundary, null,\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n};\nexport default IndentedTree;\n"]},"metadata":{},"sourceType":"module"}
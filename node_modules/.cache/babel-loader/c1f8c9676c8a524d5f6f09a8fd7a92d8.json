{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\nimport ZRText from 'zrender/esm/graphic/Text';\nimport { isFunction, retrieve2, extend, keys, trim } from 'zrender/esm/core/util';\nimport { SPECIAL_STATES, DISPLAY_STATES } from '../util/states';\nimport { deprecateReplaceLog } from '../util/log';\nimport { makeInner, interpolateRawValues } from '../util/model';\nimport { initProps, updateProps } from '../util/graphic';\nvar EMPTY_OBJ = {};\nexport function setLabelText(label, labelTexts) {\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var text = labelTexts[stateName];\n    var state = label.ensureState(stateName);\n    state.style = state.style || {};\n    state.style.text = text;\n  }\n\n  var oldStates = label.currentStates.slice();\n  label.clearStates(true);\n  label.setStyle({\n    text: labelTexts.normal\n  });\n  label.useStates(oldStates, true);\n}\nexport function getLabelText(opt, stateModels, overrideValue) {\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex;\n  var normalModel = stateModels.normal;\n  var baseText;\n\n  if (labelFetcher) {\n    baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, normalModel && normalModel.get('formatter'), overrideValue != null ? {\n      value: overrideValue\n    } : null);\n  }\n\n  if (baseText == null) {\n    baseText = isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt, overrideValue) : opt.defaultText;\n  }\n\n  var statesText = {\n    normal: baseText\n  };\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var stateModel = stateModels[stateName];\n    statesText[stateName] = retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, stateName, null, labelDimIndex, stateModel && stateModel.get('formatter')) : null, baseText);\n  }\n\n  return statesText;\n}\n\nfunction setLabelStyle(targetEl, labelStatesModels, opt, stateSpecified) {\n  opt = opt || EMPTY_OBJ;\n  var isSetOnText = targetEl instanceof ZRText;\n  var needsCreateText = false;\n\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateModel = labelStatesModels[DISPLAY_STATES[i]];\n\n    if (stateModel && stateModel.getShallow('show')) {\n      needsCreateText = true;\n      break;\n    }\n  }\n\n  var textContent = isSetOnText ? targetEl : targetEl.getTextContent();\n\n  if (needsCreateText) {\n    if (!isSetOnText) {\n      if (!textContent) {\n        textContent = new ZRText();\n        targetEl.setTextContent(textContent);\n      }\n\n      if (targetEl.stateProxy) {\n        textContent.stateProxy = targetEl.stateProxy;\n      }\n    }\n\n    var labelStatesTexts = getLabelText(opt, labelStatesModels);\n    var normalModel = labelStatesModels.normal;\n    var showNormal = !!normalModel.getShallow('show');\n    var normalStyle = createTextStyle(normalModel, stateSpecified && stateSpecified.normal, opt, false, !isSetOnText);\n    normalStyle.text = labelStatesTexts.normal;\n\n    if (!isSetOnText) {\n      targetEl.setTextConfig(createTextConfig(normalModel, opt, false));\n    }\n\n    for (var i = 0; i < SPECIAL_STATES.length; i++) {\n      var stateName = SPECIAL_STATES[i];\n      var stateModel = labelStatesModels[stateName];\n\n      if (stateModel) {\n        var stateObj = textContent.ensureState(stateName);\n        var stateShow = !!retrieve2(stateModel.getShallow('show'), showNormal);\n\n        if (stateShow !== showNormal) {\n          stateObj.ignore = !stateShow;\n        }\n\n        stateObj.style = createTextStyle(stateModel, stateSpecified && stateSpecified[stateName], opt, true, !isSetOnText);\n        stateObj.style.text = labelStatesTexts[stateName];\n\n        if (!isSetOnText) {\n          var targetElEmphasisState = targetEl.ensureState(stateName);\n          targetElEmphasisState.textConfig = createTextConfig(stateModel, opt, true);\n        }\n      }\n    }\n\n    textContent.silent = !!normalModel.getShallow('silent');\n\n    if (textContent.style.x != null) {\n      normalStyle.x = textContent.style.x;\n    }\n\n    if (textContent.style.y != null) {\n      normalStyle.y = textContent.style.y;\n    }\n\n    textContent.ignore = !showNormal;\n    textContent.useStyle(normalStyle);\n    textContent.dirty();\n\n    if (opt.enableTextSetter) {\n      labelInner(textContent).setLabelText = function (overrideValue) {\n        var labelStatesTexts = getLabelText(opt, labelStatesModels, overrideValue);\n        setLabelText(textContent, labelStatesTexts);\n      };\n    }\n  } else if (textContent) {\n    textContent.ignore = true;\n  }\n\n  targetEl.dirty();\n}\n\nexport { setLabelStyle };\nexport function getLabelStatesModels(itemModel, labelName) {\n  labelName = labelName || 'label';\n  var statesModels = {\n    normal: itemModel.getModel(labelName)\n  };\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelName]);\n  }\n\n  return statesModels;\n}\nexport function createTextStyle(textStyleModel, specifiedTextStyle, opt, isNotNormal, isAttached) {\n  var textStyle = {};\n  setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached);\n  specifiedTextStyle && extend(textStyle, specifiedTextStyle);\n  return textStyle;\n}\nexport function createTextConfig(textStyleModel, opt, isNotNormal) {\n  opt = opt || {};\n  var textConfig = {};\n  var labelPosition;\n  var labelRotate = textStyleModel.getShallow('rotate');\n  var labelDistance = retrieve2(textStyleModel.getShallow('distance'), isNotNormal ? null : 5);\n  var labelOffset = textStyleModel.getShallow('offset');\n  labelPosition = textStyleModel.getShallow('position') || (isNotNormal ? null : 'inside');\n  labelPosition === 'outside' && (labelPosition = opt.defaultOutsidePosition || 'top');\n\n  if (labelPosition != null) {\n    textConfig.position = labelPosition;\n  }\n\n  if (labelOffset != null) {\n    textConfig.offset = labelOffset;\n  }\n\n  if (labelRotate != null) {\n    labelRotate *= Math.PI / 180;\n    textConfig.rotation = labelRotate;\n  }\n\n  if (labelDistance != null) {\n    textConfig.distance = labelDistance;\n  }\n\n  textConfig.outsideFill = textStyleModel.get('color') === 'inherit' ? opt.inheritColor || null : 'auto';\n  return textConfig;\n}\n\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached) {\n  opt = opt || EMPTY_OBJ;\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle;\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n\n  if (richItemNames) {\n    richResult = {};\n\n    for (var name_1 in richItemNames) {\n      if (richItemNames.hasOwnProperty(name_1)) {\n        var richTextStyle = textStyleModel.getModel(['rich', name_1]);\n        setTokenTextStyle(richResult[name_1] = {}, richTextStyle, globalTextStyle, opt, isNotNormal, isAttached, false, true);\n      }\n    }\n  }\n\n  if (richResult) {\n    textStyle.rich = richResult;\n  }\n\n  var overflow = textStyleModel.get('overflow');\n\n  if (overflow) {\n    textStyle.overflow = overflow;\n  }\n\n  var margin = textStyleModel.get('minMargin');\n\n  if (margin != null) {\n    textStyle.margin = margin;\n  }\n\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, true, false);\n}\n\nfunction getRichItemNames(textStyleModel) {\n  var richItemNameMap;\n\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n      var richKeys = keys(rich);\n\n      for (var i = 0; i < richKeys.length; i++) {\n        var richKey = richKeys[i];\n        richItemNameMap[richKey] = 1;\n      }\n    }\n\n    textStyleModel = textStyleModel.parentModel;\n  }\n\n  return richItemNameMap;\n}\n\nvar TEXT_PROPS_WITH_GLOBAL = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'];\nvar TEXT_PROPS_SELF = ['align', 'lineHeight', 'width', 'height', 'tag', 'verticalAlign'];\nvar TEXT_PROPS_BOX = ['padding', 'borderWidth', 'borderRadius', 'borderDashOffset', 'backgroundColor', 'borderColor', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, isBlock, inRich) {\n  globalTextStyle = !isNotNormal && globalTextStyle || EMPTY_OBJ;\n  var inheritColor = opt && opt.inheritColor;\n  var fillColor = textStyleModel.getShallow('color');\n  var strokeColor = textStyleModel.getShallow('textBorderColor');\n  var opacity = retrieve2(textStyleModel.getShallow('opacity'), globalTextStyle.opacity);\n\n  if (fillColor === 'inherit' || fillColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (fillColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n\n    if (inheritColor) {\n      fillColor = inheritColor;\n    } else {\n      fillColor = null;\n    }\n  }\n\n  if (strokeColor === 'inherit' || strokeColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (strokeColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n\n    if (inheritColor) {\n      strokeColor = inheritColor;\n    } else {\n      strokeColor = null;\n    }\n  }\n\n  if (!isAttached) {\n    fillColor = fillColor || globalTextStyle.color;\n    strokeColor = strokeColor || globalTextStyle.textBorderColor;\n  }\n\n  if (fillColor != null) {\n    textStyle.fill = fillColor;\n  }\n\n  if (strokeColor != null) {\n    textStyle.stroke = strokeColor;\n  }\n\n  var textBorderWidth = retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n  if (textBorderWidth != null) {\n    textStyle.lineWidth = textBorderWidth;\n  }\n\n  var textBorderType = retrieve2(textStyleModel.getShallow('textBorderType'), globalTextStyle.textBorderType);\n\n  if (textBorderType != null) {\n    textStyle.lineDash = textBorderType;\n  }\n\n  var textBorderDashOffset = retrieve2(textStyleModel.getShallow('textBorderDashOffset'), globalTextStyle.textBorderDashOffset);\n\n  if (textBorderDashOffset != null) {\n    textStyle.lineDashOffset = textBorderDashOffset;\n  }\n\n  if (!isNotNormal && opacity == null && !inRich) {\n    opacity = opt && opt.defaultOpacity;\n  }\n\n  if (opacity != null) {\n    textStyle.opacity = opacity;\n  }\n\n  if (!isNotNormal && !isAttached) {\n    if (textStyle.fill == null && opt.inheritColor) {\n      textStyle.fill = opt.inheritColor;\n    }\n  }\n\n  for (var i = 0; i < TEXT_PROPS_WITH_GLOBAL.length; i++) {\n    var key = TEXT_PROPS_WITH_GLOBAL[i];\n    var val = retrieve2(textStyleModel.getShallow(key), globalTextStyle[key]);\n\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n\n  for (var i = 0; i < TEXT_PROPS_SELF.length; i++) {\n    var key = TEXT_PROPS_SELF[i];\n    var val = textStyleModel.getShallow(key);\n\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n\n  if (textStyle.verticalAlign == null) {\n    var baseline = textStyleModel.getShallow('baseline');\n\n    if (baseline != null) {\n      textStyle.verticalAlign = baseline;\n    }\n  }\n\n  if (!isBlock || !opt.disableBox) {\n    for (var i = 0; i < TEXT_PROPS_BOX.length; i++) {\n      var key = TEXT_PROPS_BOX[i];\n      var val = textStyleModel.getShallow(key);\n\n      if (val != null) {\n        textStyle[key] = val;\n      }\n    }\n\n    var borderType = textStyleModel.getShallow('borderType');\n\n    if (borderType != null) {\n      textStyle.borderDash = borderType;\n    }\n\n    if ((textStyle.backgroundColor === 'auto' || textStyle.backgroundColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.backgroundColor === 'auto') {\n          deprecateReplaceLog('backgroundColor: \\'auto\\'', 'backgroundColor: \\'inherit\\'');\n        }\n      }\n\n      textStyle.backgroundColor = inheritColor;\n    }\n\n    if ((textStyle.borderColor === 'auto' || textStyle.borderColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.borderColor === 'auto') {\n          deprecateReplaceLog('borderColor: \\'auto\\'', 'borderColor: \\'inherit\\'');\n        }\n      }\n\n      textStyle.borderColor = inheritColor;\n    }\n  }\n}\n\nexport function getFont(opt, ecModel) {\n  var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n  return trim([opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n}\nexport var labelInner = makeInner();\nexport function setLabelValueAnimation(label, labelStatesModels, value, getDefaultText) {\n  if (!label) {\n    return;\n  }\n\n  var obj = labelInner(label);\n  obj.prevValue = obj.value;\n  obj.value = value;\n  var normalLabelModel = labelStatesModels.normal;\n  obj.valueAnimation = normalLabelModel.get('valueAnimation');\n\n  if (obj.valueAnimation) {\n    obj.precision = normalLabelModel.get('precision');\n    obj.defaultInterpolatedText = getDefaultText;\n    obj.statesModels = labelStatesModels;\n  }\n}\nexport function animateLabelValue(textEl, dataIndex, data, seriesModel) {\n  var labelInnerStore = labelInner(textEl);\n\n  if (!labelInnerStore.valueAnimation) {\n    return;\n  }\n\n  var defaultInterpolatedText = labelInnerStore.defaultInterpolatedText;\n  var prevValue = labelInnerStore.prevValue;\n  var currentValue = labelInnerStore.value;\n\n  function during(percent) {\n    var interpolated = interpolateRawValues(data, labelInnerStore.precision, prevValue, currentValue, percent);\n    var labelText = getLabelText({\n      labelDataIndex: dataIndex,\n      defaultText: defaultInterpolatedText ? defaultInterpolatedText(interpolated) : interpolated + ''\n    }, labelInnerStore.statesModels, interpolated);\n    setLabelText(textEl, labelText);\n  }\n\n  (prevValue == null ? initProps : updateProps)(textEl, {}, seriesModel, dataIndex, null, during);\n}","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/echarts/esm/label/labelStyle.js"],"names":["ZRText","isFunction","retrieve2","extend","keys","trim","SPECIAL_STATES","DISPLAY_STATES","deprecateReplaceLog","makeInner","interpolateRawValues","initProps","updateProps","EMPTY_OBJ","setLabelText","label","labelTexts","i","length","stateName","text","state","ensureState","style","oldStates","currentStates","slice","clearStates","setStyle","normal","useStates","getLabelText","opt","stateModels","overrideValue","labelFetcher","labelDataIndex","labelDimIndex","normalModel","baseText","getFormattedLabel","get","value","defaultText","statesText","stateModel","setLabelStyle","targetEl","labelStatesModels","stateSpecified","isSetOnText","needsCreateText","getShallow","textContent","getTextContent","setTextContent","stateProxy","labelStatesTexts","showNormal","normalStyle","createTextStyle","setTextConfig","createTextConfig","stateObj","stateShow","ignore","targetElEmphasisState","textConfig","silent","x","y","useStyle","dirty","enableTextSetter","labelInner","getLabelStatesModels","itemModel","labelName","statesModels","getModel","textStyleModel","specifiedTextStyle","isNotNormal","isAttached","textStyle","setTextStyleCommon","labelPosition","labelRotate","labelDistance","labelOffset","defaultOutsidePosition","position","offset","Math","PI","rotation","distance","outsideFill","inheritColor","ecModel","globalTextStyle","option","richItemNames","getRichItemNames","richResult","name_1","hasOwnProperty","richTextStyle","setTokenTextStyle","rich","overflow","margin","richItemNameMap","richKeys","richKey","parentModel","TEXT_PROPS_WITH_GLOBAL","TEXT_PROPS_SELF","TEXT_PROPS_BOX","isBlock","inRich","fillColor","strokeColor","opacity","process","env","NODE_ENV","color","textBorderColor","fill","stroke","textBorderWidth","lineWidth","textBorderType","lineDash","textBorderDashOffset","lineDashOffset","defaultOpacity","key","val","verticalAlign","baseline","disableBox","borderType","borderDash","backgroundColor","borderColor","getFont","gTextStyleModel","fontStyle","fontWeight","fontSize","fontFamily","join","setLabelValueAnimation","getDefaultText","obj","prevValue","normalLabelModel","valueAnimation","precision","defaultInterpolatedText","animateLabelValue","textEl","dataIndex","data","seriesModel","labelInnerStore","currentValue","during","percent","interpolated","labelText"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport ZRText from 'zrender/esm/graphic/Text';\nimport { isFunction, retrieve2, extend, keys, trim } from 'zrender/esm/core/util';\nimport { SPECIAL_STATES, DISPLAY_STATES } from '../util/states';\nimport { deprecateReplaceLog } from '../util/log';\nimport { makeInner, interpolateRawValues } from '../util/model';\nimport { initProps, updateProps } from '../util/graphic';\nvar EMPTY_OBJ = {};\nexport function setLabelText(label, labelTexts) {\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var text = labelTexts[stateName];\n    var state = label.ensureState(stateName);\n    state.style = state.style || {};\n    state.style.text = text;\n  }\n\n  var oldStates = label.currentStates.slice();\n  label.clearStates(true);\n  label.setStyle({\n    text: labelTexts.normal\n  });\n  label.useStates(oldStates, true);\n}\nexport function getLabelText(opt, stateModels, overrideValue) {\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex;\n  var normalModel = stateModels.normal;\n  var baseText;\n\n  if (labelFetcher) {\n    baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, normalModel && normalModel.get('formatter'), overrideValue != null ? {\n      value: overrideValue\n    } : null);\n  }\n\n  if (baseText == null) {\n    baseText = isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt, overrideValue) : opt.defaultText;\n  }\n\n  var statesText = {\n    normal: baseText\n  };\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var stateModel = stateModels[stateName];\n    statesText[stateName] = retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, stateName, null, labelDimIndex, stateModel && stateModel.get('formatter')) : null, baseText);\n  }\n\n  return statesText;\n}\n\nfunction setLabelStyle(targetEl, labelStatesModels, opt, stateSpecified) {\n  opt = opt || EMPTY_OBJ;\n  var isSetOnText = targetEl instanceof ZRText;\n  var needsCreateText = false;\n\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateModel = labelStatesModels[DISPLAY_STATES[i]];\n\n    if (stateModel && stateModel.getShallow('show')) {\n      needsCreateText = true;\n      break;\n    }\n  }\n\n  var textContent = isSetOnText ? targetEl : targetEl.getTextContent();\n\n  if (needsCreateText) {\n    if (!isSetOnText) {\n      if (!textContent) {\n        textContent = new ZRText();\n        targetEl.setTextContent(textContent);\n      }\n\n      if (targetEl.stateProxy) {\n        textContent.stateProxy = targetEl.stateProxy;\n      }\n    }\n\n    var labelStatesTexts = getLabelText(opt, labelStatesModels);\n    var normalModel = labelStatesModels.normal;\n    var showNormal = !!normalModel.getShallow('show');\n    var normalStyle = createTextStyle(normalModel, stateSpecified && stateSpecified.normal, opt, false, !isSetOnText);\n    normalStyle.text = labelStatesTexts.normal;\n\n    if (!isSetOnText) {\n      targetEl.setTextConfig(createTextConfig(normalModel, opt, false));\n    }\n\n    for (var i = 0; i < SPECIAL_STATES.length; i++) {\n      var stateName = SPECIAL_STATES[i];\n      var stateModel = labelStatesModels[stateName];\n\n      if (stateModel) {\n        var stateObj = textContent.ensureState(stateName);\n        var stateShow = !!retrieve2(stateModel.getShallow('show'), showNormal);\n\n        if (stateShow !== showNormal) {\n          stateObj.ignore = !stateShow;\n        }\n\n        stateObj.style = createTextStyle(stateModel, stateSpecified && stateSpecified[stateName], opt, true, !isSetOnText);\n        stateObj.style.text = labelStatesTexts[stateName];\n\n        if (!isSetOnText) {\n          var targetElEmphasisState = targetEl.ensureState(stateName);\n          targetElEmphasisState.textConfig = createTextConfig(stateModel, opt, true);\n        }\n      }\n    }\n\n    textContent.silent = !!normalModel.getShallow('silent');\n\n    if (textContent.style.x != null) {\n      normalStyle.x = textContent.style.x;\n    }\n\n    if (textContent.style.y != null) {\n      normalStyle.y = textContent.style.y;\n    }\n\n    textContent.ignore = !showNormal;\n    textContent.useStyle(normalStyle);\n    textContent.dirty();\n\n    if (opt.enableTextSetter) {\n      labelInner(textContent).setLabelText = function (overrideValue) {\n        var labelStatesTexts = getLabelText(opt, labelStatesModels, overrideValue);\n        setLabelText(textContent, labelStatesTexts);\n      };\n    }\n  } else if (textContent) {\n    textContent.ignore = true;\n  }\n\n  targetEl.dirty();\n}\n\nexport { setLabelStyle };\nexport function getLabelStatesModels(itemModel, labelName) {\n  labelName = labelName || 'label';\n  var statesModels = {\n    normal: itemModel.getModel(labelName)\n  };\n\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelName]);\n  }\n\n  return statesModels;\n}\nexport function createTextStyle(textStyleModel, specifiedTextStyle, opt, isNotNormal, isAttached) {\n  var textStyle = {};\n  setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached);\n  specifiedTextStyle && extend(textStyle, specifiedTextStyle);\n  return textStyle;\n}\nexport function createTextConfig(textStyleModel, opt, isNotNormal) {\n  opt = opt || {};\n  var textConfig = {};\n  var labelPosition;\n  var labelRotate = textStyleModel.getShallow('rotate');\n  var labelDistance = retrieve2(textStyleModel.getShallow('distance'), isNotNormal ? null : 5);\n  var labelOffset = textStyleModel.getShallow('offset');\n  labelPosition = textStyleModel.getShallow('position') || (isNotNormal ? null : 'inside');\n  labelPosition === 'outside' && (labelPosition = opt.defaultOutsidePosition || 'top');\n\n  if (labelPosition != null) {\n    textConfig.position = labelPosition;\n  }\n\n  if (labelOffset != null) {\n    textConfig.offset = labelOffset;\n  }\n\n  if (labelRotate != null) {\n    labelRotate *= Math.PI / 180;\n    textConfig.rotation = labelRotate;\n  }\n\n  if (labelDistance != null) {\n    textConfig.distance = labelDistance;\n  }\n\n  textConfig.outsideFill = textStyleModel.get('color') === 'inherit' ? opt.inheritColor || null : 'auto';\n  return textConfig;\n}\n\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached) {\n  opt = opt || EMPTY_OBJ;\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle;\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n\n  if (richItemNames) {\n    richResult = {};\n\n    for (var name_1 in richItemNames) {\n      if (richItemNames.hasOwnProperty(name_1)) {\n        var richTextStyle = textStyleModel.getModel(['rich', name_1]);\n        setTokenTextStyle(richResult[name_1] = {}, richTextStyle, globalTextStyle, opt, isNotNormal, isAttached, false, true);\n      }\n    }\n  }\n\n  if (richResult) {\n    textStyle.rich = richResult;\n  }\n\n  var overflow = textStyleModel.get('overflow');\n\n  if (overflow) {\n    textStyle.overflow = overflow;\n  }\n\n  var margin = textStyleModel.get('minMargin');\n\n  if (margin != null) {\n    textStyle.margin = margin;\n  }\n\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, true, false);\n}\n\nfunction getRichItemNames(textStyleModel) {\n  var richItemNameMap;\n\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n      var richKeys = keys(rich);\n\n      for (var i = 0; i < richKeys.length; i++) {\n        var richKey = richKeys[i];\n        richItemNameMap[richKey] = 1;\n      }\n    }\n\n    textStyleModel = textStyleModel.parentModel;\n  }\n\n  return richItemNameMap;\n}\n\nvar TEXT_PROPS_WITH_GLOBAL = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'];\nvar TEXT_PROPS_SELF = ['align', 'lineHeight', 'width', 'height', 'tag', 'verticalAlign'];\nvar TEXT_PROPS_BOX = ['padding', 'borderWidth', 'borderRadius', 'borderDashOffset', 'backgroundColor', 'borderColor', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, isBlock, inRich) {\n  globalTextStyle = !isNotNormal && globalTextStyle || EMPTY_OBJ;\n  var inheritColor = opt && opt.inheritColor;\n  var fillColor = textStyleModel.getShallow('color');\n  var strokeColor = textStyleModel.getShallow('textBorderColor');\n  var opacity = retrieve2(textStyleModel.getShallow('opacity'), globalTextStyle.opacity);\n\n  if (fillColor === 'inherit' || fillColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (fillColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n\n    if (inheritColor) {\n      fillColor = inheritColor;\n    } else {\n      fillColor = null;\n    }\n  }\n\n  if (strokeColor === 'inherit' || strokeColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (strokeColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n\n    if (inheritColor) {\n      strokeColor = inheritColor;\n    } else {\n      strokeColor = null;\n    }\n  }\n\n  if (!isAttached) {\n    fillColor = fillColor || globalTextStyle.color;\n    strokeColor = strokeColor || globalTextStyle.textBorderColor;\n  }\n\n  if (fillColor != null) {\n    textStyle.fill = fillColor;\n  }\n\n  if (strokeColor != null) {\n    textStyle.stroke = strokeColor;\n  }\n\n  var textBorderWidth = retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n  if (textBorderWidth != null) {\n    textStyle.lineWidth = textBorderWidth;\n  }\n\n  var textBorderType = retrieve2(textStyleModel.getShallow('textBorderType'), globalTextStyle.textBorderType);\n\n  if (textBorderType != null) {\n    textStyle.lineDash = textBorderType;\n  }\n\n  var textBorderDashOffset = retrieve2(textStyleModel.getShallow('textBorderDashOffset'), globalTextStyle.textBorderDashOffset);\n\n  if (textBorderDashOffset != null) {\n    textStyle.lineDashOffset = textBorderDashOffset;\n  }\n\n  if (!isNotNormal && opacity == null && !inRich) {\n    opacity = opt && opt.defaultOpacity;\n  }\n\n  if (opacity != null) {\n    textStyle.opacity = opacity;\n  }\n\n  if (!isNotNormal && !isAttached) {\n    if (textStyle.fill == null && opt.inheritColor) {\n      textStyle.fill = opt.inheritColor;\n    }\n  }\n\n  for (var i = 0; i < TEXT_PROPS_WITH_GLOBAL.length; i++) {\n    var key = TEXT_PROPS_WITH_GLOBAL[i];\n    var val = retrieve2(textStyleModel.getShallow(key), globalTextStyle[key]);\n\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n\n  for (var i = 0; i < TEXT_PROPS_SELF.length; i++) {\n    var key = TEXT_PROPS_SELF[i];\n    var val = textStyleModel.getShallow(key);\n\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n\n  if (textStyle.verticalAlign == null) {\n    var baseline = textStyleModel.getShallow('baseline');\n\n    if (baseline != null) {\n      textStyle.verticalAlign = baseline;\n    }\n  }\n\n  if (!isBlock || !opt.disableBox) {\n    for (var i = 0; i < TEXT_PROPS_BOX.length; i++) {\n      var key = TEXT_PROPS_BOX[i];\n      var val = textStyleModel.getShallow(key);\n\n      if (val != null) {\n        textStyle[key] = val;\n      }\n    }\n\n    var borderType = textStyleModel.getShallow('borderType');\n\n    if (borderType != null) {\n      textStyle.borderDash = borderType;\n    }\n\n    if ((textStyle.backgroundColor === 'auto' || textStyle.backgroundColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.backgroundColor === 'auto') {\n          deprecateReplaceLog('backgroundColor: \\'auto\\'', 'backgroundColor: \\'inherit\\'');\n        }\n      }\n\n      textStyle.backgroundColor = inheritColor;\n    }\n\n    if ((textStyle.borderColor === 'auto' || textStyle.borderColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.borderColor === 'auto') {\n          deprecateReplaceLog('borderColor: \\'auto\\'', 'borderColor: \\'inherit\\'');\n        }\n      }\n\n      textStyle.borderColor = inheritColor;\n    }\n  }\n}\n\nexport function getFont(opt, ecModel) {\n  var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n  return trim([opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n}\nexport var labelInner = makeInner();\nexport function setLabelValueAnimation(label, labelStatesModels, value, getDefaultText) {\n  if (!label) {\n    return;\n  }\n\n  var obj = labelInner(label);\n  obj.prevValue = obj.value;\n  obj.value = value;\n  var normalLabelModel = labelStatesModels.normal;\n  obj.valueAnimation = normalLabelModel.get('valueAnimation');\n\n  if (obj.valueAnimation) {\n    obj.precision = normalLabelModel.get('precision');\n    obj.defaultInterpolatedText = getDefaultText;\n    obj.statesModels = labelStatesModels;\n  }\n}\nexport function animateLabelValue(textEl, dataIndex, data, seriesModel) {\n  var labelInnerStore = labelInner(textEl);\n\n  if (!labelInnerStore.valueAnimation) {\n    return;\n  }\n\n  var defaultInterpolatedText = labelInnerStore.defaultInterpolatedText;\n  var prevValue = labelInnerStore.prevValue;\n  var currentValue = labelInnerStore.value;\n\n  function during(percent) {\n    var interpolated = interpolateRawValues(data, labelInnerStore.precision, prevValue, currentValue, percent);\n    var labelText = getLabelText({\n      labelDataIndex: dataIndex,\n      defaultText: defaultInterpolatedText ? defaultInterpolatedText(interpolated) : interpolated + ''\n    }, labelInnerStore.statesModels, interpolated);\n    setLabelText(textEl, labelText);\n  }\n\n  (prevValue == null ? initProps : updateProps)(textEl, {}, seriesModel, dataIndex, null, during);\n}"]},"metadata":{},"sourceType":"module"}
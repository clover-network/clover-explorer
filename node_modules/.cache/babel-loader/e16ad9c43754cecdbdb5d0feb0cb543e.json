{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\n\nvar tslib_1 = require(\"tslib\");\n\nvar Displayable_1 = require(\"./Displayable\");\n\nvar BoundingRect_1 = require(\"../core/BoundingRect\");\n\nvar util_1 = require(\"../core/util\");\n\nexports.DEFAULT_IMAGE_STYLE = util_1.defaults({\n  x: 0,\n  y: 0\n}, Displayable_1.DEFAULT_COMMON_STYLE);\nexports.DEFAULT_IMAGE_ANIMATION_PROPS = {\n  style: util_1.defaults({\n    x: true,\n    y: true,\n    width: true,\n    height: true,\n    sx: true,\n    sy: true,\n    sWidth: true,\n    sHeight: true\n  }, Displayable_1.DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\n\nfunction isImageLike(source) {\n  return !!(source && typeof source !== 'string' && source.width && source.height);\n}\n\nvar ZRImage = function (_super) {\n  tslib_1.__extends(ZRImage, _super);\n\n  function ZRImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ZRImage.prototype.createStyle = function (obj) {\n    return util_1.createObject(exports.DEFAULT_IMAGE_STYLE, obj);\n  };\n\n  ZRImage.prototype._getSize = function (dim) {\n    var style = this.style;\n    var size = style[dim];\n\n    if (size != null) {\n      return size;\n    }\n\n    var imageSource = isImageLike(style.image) ? style.image : this.__image;\n\n    if (!imageSource) {\n      return 0;\n    }\n\n    var otherDim = dim === 'width' ? 'height' : 'width';\n    var otherDimSize = style[otherDim];\n\n    if (otherDimSize == null) {\n      return imageSource[dim];\n    } else {\n      return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n    }\n  };\n\n  ZRImage.prototype.getWidth = function () {\n    return this._getSize('width');\n  };\n\n  ZRImage.prototype.getHeight = function () {\n    return this._getSize('height');\n  };\n\n  ZRImage.prototype.getAnimationStyleProps = function () {\n    return exports.DEFAULT_IMAGE_ANIMATION_PROPS;\n  };\n\n  ZRImage.prototype.getBoundingRect = function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new BoundingRect_1[\"default\"](style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n    }\n\n    return this._rect;\n  };\n\n  return ZRImage;\n}(Displayable_1[\"default\"]);\n\nZRImage.prototype.type = 'image';\nexports[\"default\"] = ZRImage;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/zrender/lib/graphic/Image.js"],"names":["exports","__esModule","tslib_1","require","Displayable_1","BoundingRect_1","util_1","DEFAULT_IMAGE_STYLE","defaults","x","y","DEFAULT_COMMON_STYLE","DEFAULT_IMAGE_ANIMATION_PROPS","style","width","height","sx","sy","sWidth","sHeight","DEFAULT_COMMON_ANIMATION_PROPS","isImageLike","source","ZRImage","_super","__extends","apply","arguments","prototype","createStyle","obj","createObject","_getSize","dim","size","imageSource","image","__image","otherDim","otherDimSize","getWidth","getHeight","getAnimationStyleProps","getBoundingRect","_rect","type"],"mappings":"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","sourcesContent":["\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar Displayable_1 = require(\"./Displayable\");\nvar BoundingRect_1 = require(\"../core/BoundingRect\");\nvar util_1 = require(\"../core/util\");\nexports.DEFAULT_IMAGE_STYLE = util_1.defaults({\n    x: 0,\n    y: 0\n}, Displayable_1.DEFAULT_COMMON_STYLE);\nexports.DEFAULT_IMAGE_ANIMATION_PROPS = {\n    style: util_1.defaults({\n        x: true,\n        y: true,\n        width: true,\n        height: true,\n        sx: true,\n        sy: true,\n        sWidth: true,\n        sHeight: true\n    }, Displayable_1.DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nfunction isImageLike(source) {\n    return !!(source\n        && typeof source !== 'string'\n        && source.width && source.height);\n}\nvar ZRImage = (function (_super) {\n    tslib_1.__extends(ZRImage, _super);\n    function ZRImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZRImage.prototype.createStyle = function (obj) {\n        return util_1.createObject(exports.DEFAULT_IMAGE_STYLE, obj);\n    };\n    ZRImage.prototype._getSize = function (dim) {\n        var style = this.style;\n        var size = style[dim];\n        if (size != null) {\n            return size;\n        }\n        var imageSource = isImageLike(style.image)\n            ? style.image : this.__image;\n        if (!imageSource) {\n            return 0;\n        }\n        var otherDim = dim === 'width' ? 'height' : 'width';\n        var otherDimSize = style[otherDim];\n        if (otherDimSize == null) {\n            return imageSource[dim];\n        }\n        else {\n            return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n        }\n    };\n    ZRImage.prototype.getWidth = function () {\n        return this._getSize('width');\n    };\n    ZRImage.prototype.getHeight = function () {\n        return this._getSize('height');\n    };\n    ZRImage.prototype.getAnimationStyleProps = function () {\n        return exports.DEFAULT_IMAGE_ANIMATION_PROPS;\n    };\n    ZRImage.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            this._rect = new BoundingRect_1[\"default\"](style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n        }\n        return this._rect;\n    };\n    return ZRImage;\n}(Displayable_1[\"default\"]));\nZRImage.prototype.type = 'image';\nexports[\"default\"] = ZRImage;\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n/**\n * @fileoverview defs\n * @author dengfuping_develop@163.com\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar util_1 = require(\"@antv/util\");\n\nvar gradient_1 = require(\"./gradient\");\n\nvar shadow_1 = require(\"./shadow\");\n\nvar arrow_1 = require(\"./arrow\");\n\nvar clip_1 = require(\"./clip\");\n\nvar pattern_1 = require(\"./pattern\");\n\nvar dom_1 = require(\"../util/dom\");\n\nvar Defs =\n/** @class */\nfunction () {\n  function Defs(canvas) {\n    var el = dom_1.createSVGElement('defs');\n    var id = util_1.uniqueId('defs_');\n    el.id = id;\n    canvas.appendChild(el);\n    this.children = [];\n    this.defaultArrow = {};\n    this.el = el;\n    this.canvas = canvas;\n  }\n\n  Defs.prototype.find = function (type, attr) {\n    var children = this.children;\n    var result = null;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].match(type, attr)) {\n        result = children[i].id;\n        break;\n      }\n    }\n\n    return result;\n  };\n\n  Defs.prototype.findById = function (id) {\n    var children = this.children;\n    var flag = null;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].id === id) {\n        flag = children[i];\n        break;\n      }\n    }\n\n    return flag;\n  };\n\n  Defs.prototype.add = function (item) {\n    this.children.push(item);\n    item.canvas = this.canvas;\n    item.parent = this;\n  };\n\n  Defs.prototype.getDefaultArrow = function (attrs, name) {\n    var stroke = attrs.stroke || attrs.strokeStyle;\n\n    if (this.defaultArrow[stroke]) {\n      return this.defaultArrow[stroke].id;\n    }\n\n    var arrow = new arrow_1.default(attrs, name);\n    this.defaultArrow[stroke] = arrow;\n    this.el.appendChild(arrow.el);\n    this.add(arrow);\n    return arrow.id;\n  };\n\n  Defs.prototype.addGradient = function (cfg) {\n    var gradient = new gradient_1.default(cfg);\n    this.el.appendChild(gradient.el);\n    this.add(gradient);\n    return gradient.id;\n  };\n\n  Defs.prototype.addArrow = function (attrs, name) {\n    var arrow = new arrow_1.default(attrs, name);\n    this.el.appendChild(arrow.el);\n    this.add(arrow);\n    return arrow.id;\n  };\n\n  Defs.prototype.addShadow = function (cfg) {\n    var shadow = new shadow_1.default(cfg);\n    this.el.appendChild(shadow.el);\n    this.add(shadow);\n    return shadow.id;\n  };\n\n  Defs.prototype.addPattern = function (cfg) {\n    var pattern = new pattern_1.default(cfg);\n    this.el.appendChild(pattern.el);\n    this.add(pattern);\n    return pattern.id;\n  };\n\n  Defs.prototype.addClip = function (cfg) {\n    var clip = new clip_1.default(cfg);\n    this.el.appendChild(clip.el);\n    this.add(clip);\n    return clip.id;\n  };\n\n  return Defs;\n}();\n\nexports.default = Defs;","map":{"version":3,"sources":["../../src/defs/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @fileoverview defs\n * @author dengfuping_develop@163.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/util\");\nvar gradient_1 = require(\"./gradient\");\nvar shadow_1 = require(\"./shadow\");\nvar arrow_1 = require(\"./arrow\");\nvar clip_1 = require(\"./clip\");\nvar pattern_1 = require(\"./pattern\");\nvar dom_1 = require(\"../util/dom\");\nvar Defs = /** @class */ (function () {\n    function Defs(canvas) {\n        var el = dom_1.createSVGElement('defs');\n        var id = util_1.uniqueId('defs_');\n        el.id = id;\n        canvas.appendChild(el);\n        this.children = [];\n        this.defaultArrow = {};\n        this.el = el;\n        this.canvas = canvas;\n    }\n    Defs.prototype.find = function (type, attr) {\n        var children = this.children;\n        var result = null;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].match(type, attr)) {\n                result = children[i].id;\n                break;\n            }\n        }\n        return result;\n    };\n    Defs.prototype.findById = function (id) {\n        var children = this.children;\n        var flag = null;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].id === id) {\n                flag = children[i];\n                break;\n            }\n        }\n        return flag;\n    };\n    Defs.prototype.add = function (item) {\n        this.children.push(item);\n        item.canvas = this.canvas;\n        item.parent = this;\n    };\n    Defs.prototype.getDefaultArrow = function (attrs, name) {\n        var stroke = attrs.stroke || attrs.strokeStyle;\n        if (this.defaultArrow[stroke]) {\n            return this.defaultArrow[stroke].id;\n        }\n        var arrow = new arrow_1.default(attrs, name);\n        this.defaultArrow[stroke] = arrow;\n        this.el.appendChild(arrow.el);\n        this.add(arrow);\n        return arrow.id;\n    };\n    Defs.prototype.addGradient = function (cfg) {\n        var gradient = new gradient_1.default(cfg);\n        this.el.appendChild(gradient.el);\n        this.add(gradient);\n        return gradient.id;\n    };\n    Defs.prototype.addArrow = function (attrs, name) {\n        var arrow = new arrow_1.default(attrs, name);\n        this.el.appendChild(arrow.el);\n        this.add(arrow);\n        return arrow.id;\n    };\n    Defs.prototype.addShadow = function (cfg) {\n        var shadow = new shadow_1.default(cfg);\n        this.el.appendChild(shadow.el);\n        this.add(shadow);\n        return shadow.id;\n    };\n    Defs.prototype.addPattern = function (cfg) {\n        var pattern = new pattern_1.default(cfg);\n        this.el.appendChild(pattern.el);\n        this.add(pattern);\n        return pattern.id;\n    };\n    Defs.prototype.addClip = function (cfg) {\n        var clip = new clip_1.default(cfg);\n        this.el.appendChild(clip.el);\n        this.add(clip);\n        return clip.id;\n    };\n    return Defs;\n}());\nexports.default = Defs;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}
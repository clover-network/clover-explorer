{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport G6 from '@antv/g6/es';\nG6.registerNode('card-node', {\n  draw: function (cfg, group) {\n    var color = cfg && cfg.color ? cfg.color : '#5B8FF9';\n    var size = cfg && cfg.size ? cfg.size : [100, 30];\n    if (typeof size === 'number') size = [size, size];\n    var style = cfg && cfg.style ? cfg.style : {};\n    style = Object.assign({\n      radius: 2,\n      fill: '#fff'\n    }, style);\n    color = style.stroke || '#5B8FF9';\n    var r = style.radius || 0;\n    var shape = group.addShape('rect', {\n      attrs: __assign({\n        x: -size[0] / 2,\n        y: -size[1] / 2,\n        width: size[0],\n        height: size[1],\n        stroke: color\n      }, style),\n      name: 'main-box',\n      draggable: true\n    }); // title text\n\n    var title = cfg.title || cfg.label;\n    var titleTextShape;\n    var labelStyle = cfg && cfg.labelCfg && cfg.labelCfg.style ? cfg.labelCfg.style : {};\n\n    if (title) {\n      var titleStyle = Object.assign({\n        fill: '#fff'\n      }, labelStyle);\n      titleTextShape = group.addShape('text', {\n        attrs: __assign(__assign({\n          textBaseline: 'top',\n          x: -size[0] / 2 + 8,\n          y: -size[1] / 2 + 2,\n          // lineHeight: 20,\n          text: title\n        }, titleStyle), {\n          fill: '#fff'\n        }),\n        name: 'title'\n      });\n    }\n\n    var titleBox = titleTextShape ? titleTextShape.getBBox() : {\n      height: size[1] / 2\n    }; // title rect\n\n    var titleRectShape = group.addShape('rect', {\n      attrs: {\n        x: -size[0] / 2,\n        y: -size[1] / 2,\n        width: size[0],\n        height: titleBox.height + 4,\n        fill: color,\n        radius: [r, r, 0, 0]\n      },\n      name: 'title-rect',\n      draggable: true\n    });\n    titleTextShape && titleTextShape.toFront(); // marker\n\n    var markerShape;\n\n    if (cfg.children) {\n      markerShape = group.addShape('marker', {\n        attrs: {\n          x: size[0] / 2,\n          y: 0,\n          r: 6,\n          cursor: 'pointer',\n          symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,\n          stroke: color,\n          lineWidth: 1,\n          fill: '#fff'\n        },\n        name: 'collapse-icon'\n      });\n    } // description\n\n\n    var description = cfg && cfg.description ? cfg.description : undefined;\n    var titleRectBox = titleRectShape.getBBox();\n    var descriptionTextShape;\n\n    if (description) {\n      descriptionTextShape = group.addShape('text', {\n        attrs: __assign({\n          textBaseline: 'top',\n          x: -size[0] / 2 + 8,\n          y: -size[1] / 2 + titleRectBox.height + 8,\n          text: description\n        }, labelStyle),\n        name: \"description\"\n      });\n    }\n\n    if (descriptionTextShape) {\n      var desTextShapeBBox = descriptionTextShape.getBBox();\n      var height = titleRectBox.height + 16 + desTextShapeBBox.height;\n      var width = size[0] > desTextShapeBBox.width + 16 ? size[0] : desTextShapeBBox.width + 16;\n      shape.attr({\n        width: width,\n        height: height\n      });\n      titleRectShape === null || titleRectShape === void 0 ? void 0 : titleRectShape.attr('width', width);\n      markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr({\n        x: width - size[0] / 2,\n        y: height / 2 - size[1] / 2\n      });\n    }\n\n    return shape;\n  },\n  update: undefined\n}, 'single-node');\nG6.registerNode('round-rect', {\n  drawShape: function (cfg, group) {\n    var color = cfg && cfg.color ? cfg.color : '#5B8FF9';\n    var size = cfg && cfg.size ? cfg.size : [100, 30];\n    if (typeof size === 'number') size = [size, size];\n    var style = cfg && cfg.style ? cfg.style : {};\n    if (style.stroke) color = style.stroke;\n    var fill = style && style.fill ? style.fill : '#fff';\n    style = Object.assign({\n      width: size[0],\n      height: size[1],\n      radius: size[1] / 2,\n      fill: fill,\n      lineWidth: 1.2,\n      stroke: color\n    }, style);\n    var rect = group.addShape('rect', {\n      attrs: __assign({\n        x: -size[0] / 2,\n        y: -size[1] / 2\n      }, style),\n      name: 'rect-shape'\n    }); // circles for anchor points\n\n    group.addShape('circle', {\n      attrs: {\n        x: -size[0] / 2,\n        y: 0,\n        r: 3,\n        fill: style.stroke\n      },\n      name: 'circle-shape'\n    });\n    group.addShape('circle', {\n      attrs: {\n        x: size[0] / 2,\n        y: 0,\n        r: 3,\n        fill: style.stroke\n      },\n      name: 'circle-shape2'\n    });\n    return rect;\n  },\n  getAnchorPoints: function getAnchorPoints() {\n    return [[0, 0.5], [1, 0.5]];\n  },\n  update: function update(cfg, item) {\n    var group = item.getContainer();\n    var children = group.get('children');\n    var node = children[0];\n    var circleLeft = children[1];\n    var circleRight = children[2];\n    var stroke = cfg.style && cfg.style.stroke ? cfg.style.stroke : '#5B8FF9';\n\n    if (stroke) {\n      node.attr('stroke', stroke);\n      circleLeft.attr('fill', stroke);\n      circleRight.attr('fill', stroke);\n    }\n  }\n}, 'single-node');\nexport var customIconNode = function (params) {\n  G6.registerNode('icon-node', {\n    options: {\n      size: [60, 20],\n      stroke: '#91d5ff',\n      fill: '#91d5ff'\n    },\n    draw: function (cfg, group) {\n      // @ts-ignore\n      var styles = this.getShapeStyle(cfg);\n      var _a = cfg.labelCfg,\n          labelCfg = _a === void 0 ? {} : _a;\n      var keyShape = group.addShape('rect', {\n        attrs: __assign(__assign({}, styles), {\n          x: 0,\n          y: 0\n        })\n      });\n      /**\n       * leftIcon 格式如下：\n       *  {\n       *    style: ShapeStyle;\n       *    img: ''\n       *  }\n       */\n\n      var style = {\n        fill: '#e6fffb'\n      };\n      var img = 'https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png';\n\n      if (cfg.leftIcon) {\n        style = Object.assign({}, style, cfg.leftIcon.style);\n        img = cfg.leftIcon.img;\n      }\n\n      group.addShape('rect', {\n        attrs: __assign({\n          x: 1,\n          y: 1,\n          width: 38,\n          height: styles.height - 2\n        }, style)\n      });\n      group.addShape('image', {\n        attrs: {\n          x: 8,\n          y: 8,\n          width: 24,\n          height: 24,\n          img: img\n        },\n        name: 'image-shape'\n      });\n\n      if (params.enableEdit) {\n        group.addShape('marker', {\n          attrs: {\n            x: styles.width / 3,\n            y: styles.height + 6,\n            r: 6,\n            stroke: '#73d13d',\n            cursor: 'pointer',\n            symbol: G6.Marker.expand\n          },\n          name: 'add-item'\n        });\n        group.addShape('marker', {\n          attrs: {\n            x: styles.width * 2 / 3,\n            y: styles.height + 6,\n            r: 6,\n            stroke: '#ff4d4f',\n            cursor: 'pointer',\n            symbol: G6.Marker.collapse\n          },\n          name: 'remove-item'\n        });\n      }\n\n      if (cfg.label) {\n        group.addShape('text', {\n          attrs: __assign(__assign({}, labelCfg.style), {\n            text: cfg.label,\n            x: styles.width / 2,\n            y: styles.height / 1.5\n          })\n        });\n      }\n\n      return keyShape;\n    }\n  }, 'rect');\n};\nG6.registerEdge('fund-polyline', {\n  draw: function draw(cfg, group) {\n    var startPoint = cfg.startPoint;\n    var endPoint = cfg.endPoint;\n    var Ydiff = endPoint.y - startPoint.y;\n    var slope = Ydiff !== 0 ? 500 / Math.abs(Ydiff) : 0;\n    var cpOffset = 16;\n    var offset = Ydiff < 0 ? cpOffset : -cpOffset;\n    var line1EndPoint = {\n      x: startPoint.x + slope,\n      y: endPoint.y + offset\n    };\n    var line2StartPoint = {\n      x: line1EndPoint.x + cpOffset,\n      y: endPoint.y\n    }; // 控制点坐标\n\n    var controlPoint = {\n      x: (line1EndPoint.x - startPoint.x) * (endPoint.y - startPoint.y) / (line1EndPoint.y - startPoint.y) + startPoint.x,\n      y: endPoint.y\n    };\n    var path = [['M', startPoint.x, startPoint.y], ['L', line1EndPoint.x, line1EndPoint.y], ['Q', controlPoint.x, controlPoint.y, line2StartPoint.x, line2StartPoint.y], ['L', endPoint.x, endPoint.y]];\n\n    if (Ydiff === 0) {\n      path = [['M', startPoint.x, startPoint.y], ['L', endPoint.x, endPoint.y]];\n    }\n\n    var style = (cfg || {}).style;\n    var line = group.addShape('path', {\n      attrs: {\n        path: path,\n        stroke: style.stroke || cfg.colorMap && cfg.colorMap[cfg.dataType] ? cfg.colorMap[cfg.dataType] : '#5B8FF9',\n        lineWidth: style.lineWidth || 1.2,\n        endArrow: false\n      },\n      name: 'path-shape'\n    });\n    var labelLeftOffset = 0;\n    var labelTopOffset = 8; // label\n\n    var labelTextShape;\n\n    if (cfg.label) {\n      labelTextShape = group.addShape('text', {\n        attrs: {\n          text: cfg.label,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y - labelTopOffset - 2,\n          fontSize: 14,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-label'\n      });\n    } // dataType\n\n\n    if (cfg.dataType) {\n      var labelTextShapeBBox = labelTextShape ? labelTextShape.getBBox() : {\n        height: 0\n      };\n      group.addShape('text', {\n        attrs: {\n          text: cfg.dataType,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y - labelTopOffset - labelTextShapeBBox.height - 2,\n          fontSize: 10,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-type'\n      });\n    } // subLabel\n\n\n    if (cfg.subLabel) {\n      group.addShape('text', {\n        attrs: {\n          text: cfg.subLabel,\n          x: line2StartPoint.x + labelLeftOffset,\n          y: endPoint.y + labelTopOffset + 4,\n          fontSize: 12,\n          fontWeight: 300,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          fill: '#000'\n        },\n        name: 'text-shape-sub-label'\n      });\n    }\n\n    return line;\n  },\n  update: undefined\n}, 'single-edge');\nG6.registerEdge('flow-line', {\n  draw: function (cfg, group) {\n    var startPoint = cfg.startPoint;\n    var endPoint = cfg.endPoint;\n    var _a = cfg.style,\n        style = _a === void 0 ? {} : _a;\n    var shape = group.addShape('path', {\n      attrs: {\n        stroke: style.stroke,\n        endArrow: style.endArrow,\n        path: [['M', startPoint.x, startPoint.y], ['L', startPoint.x, (startPoint.y + endPoint.y) / 2], ['L', endPoint.x, (startPoint.y + endPoint.y) / 2], ['L', endPoint.x, endPoint.y]]\n      }\n    });\n    return shape;\n  }\n});","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@ant-design/charts/es/graph/customItems.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","G6","registerNode","draw","cfg","group","color","size","style","radius","fill","stroke","r","shape","addShape","attrs","x","y","width","height","name","draggable","title","label","titleTextShape","labelStyle","labelCfg","titleStyle","textBaseline","text","titleBox","getBBox","titleRectShape","toFront","markerShape","children","cursor","symbol","collapsed","Marker","expand","collapse","lineWidth","description","undefined","titleRectBox","descriptionTextShape","desTextShapeBBox","attr","update","drawShape","rect","getAnchorPoints","item","getContainer","get","node","circleLeft","circleRight","customIconNode","params","options","styles","getShapeStyle","_a","keyShape","img","leftIcon","enableEdit","registerEdge","startPoint","endPoint","Ydiff","slope","Math","abs","cpOffset","offset","line1EndPoint","line2StartPoint","controlPoint","path","line","colorMap","dataType","endArrow","labelLeftOffset","labelTopOffset","labelTextShape","fontSize","textAlign","labelTextShapeBBox","subLabel","fontWeight"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport G6 from '@antv/g6/es';\nG6.registerNode('card-node', {\n    draw: function (cfg, group) {\n        var color = cfg && cfg.color ? cfg.color : '#5B8FF9';\n        var size = cfg && cfg.size ? cfg.size : [100, 30];\n        if (typeof size === 'number')\n            size = [size, size];\n        var style = cfg && cfg.style ? cfg.style : {};\n        style = Object.assign({ radius: 2, fill: '#fff' }, style);\n        color = style.stroke || '#5B8FF9';\n        var r = style.radius || 0;\n        var shape = group.addShape('rect', {\n            attrs: __assign({ x: -size[0] / 2, y: -size[1] / 2, width: size[0], height: size[1], stroke: color }, style),\n            name: 'main-box',\n            draggable: true,\n        });\n        // title text\n        var title = cfg.title || cfg.label;\n        var titleTextShape;\n        var labelStyle = cfg && cfg.labelCfg && cfg.labelCfg.style ? cfg.labelCfg.style : {};\n        if (title) {\n            var titleStyle = Object.assign({ fill: '#fff' }, labelStyle);\n            titleTextShape = group.addShape('text', {\n                attrs: __assign(__assign({ textBaseline: 'top', x: -size[0] / 2 + 8, y: -size[1] / 2 + 2, \n                    // lineHeight: 20,\n                    text: title }, titleStyle), { fill: '#fff' }),\n                name: 'title',\n            });\n        }\n        var titleBox = titleTextShape ? titleTextShape.getBBox() : { height: size[1] / 2 };\n        // title rect\n        var titleRectShape = group.addShape('rect', {\n            attrs: {\n                x: -size[0] / 2,\n                y: -size[1] / 2,\n                width: size[0],\n                height: titleBox.height + 4,\n                fill: color,\n                radius: [r, r, 0, 0],\n            },\n            name: 'title-rect',\n            draggable: true,\n        });\n        titleTextShape && titleTextShape.toFront();\n        // marker\n        var markerShape;\n        if (cfg.children) {\n            markerShape = group.addShape('marker', {\n                attrs: {\n                    x: size[0] / 2,\n                    y: 0,\n                    r: 6,\n                    cursor: 'pointer',\n                    symbol: cfg.collapsed ? G6.Marker.expand : G6.Marker.collapse,\n                    stroke: color,\n                    lineWidth: 1,\n                    fill: '#fff',\n                },\n                name: 'collapse-icon',\n            });\n        }\n        // description\n        var description = cfg && cfg.description ? cfg.description : undefined;\n        var titleRectBox = titleRectShape.getBBox();\n        var descriptionTextShape;\n        if (description) {\n            descriptionTextShape = group.addShape('text', {\n                attrs: __assign({ textBaseline: 'top', x: -size[0] / 2 + 8, y: -size[1] / 2 + titleRectBox.height + 8, text: description }, labelStyle),\n                name: \"description\",\n            });\n        }\n        if (descriptionTextShape) {\n            var desTextShapeBBox = descriptionTextShape.getBBox();\n            var height = titleRectBox.height + 16 + desTextShapeBBox.height;\n            var width = size[0] > desTextShapeBBox.width + 16 ? size[0] : desTextShapeBBox.width + 16;\n            shape.attr({ width: width, height: height });\n            titleRectShape === null || titleRectShape === void 0 ? void 0 : titleRectShape.attr('width', width);\n            markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr({\n                x: width - size[0] / 2,\n                y: height / 2 - size[1] / 2,\n            });\n        }\n        return shape;\n    },\n    update: undefined,\n}, 'single-node');\nG6.registerNode('round-rect', {\n    drawShape: function (cfg, group) {\n        var color = cfg && cfg.color ? cfg.color : '#5B8FF9';\n        var size = cfg && cfg.size ? cfg.size : [100, 30];\n        if (typeof size === 'number')\n            size = [size, size];\n        var style = cfg && cfg.style ? cfg.style : {};\n        if (style.stroke)\n            color = style.stroke;\n        var fill = style && style.fill ? style.fill : '#fff';\n        style = Object.assign({\n            width: size[0],\n            height: size[1],\n            radius: size[1] / 2,\n            fill: fill,\n            lineWidth: 1.2,\n            stroke: color,\n        }, style);\n        var rect = group.addShape('rect', {\n            attrs: __assign({ x: -size[0] / 2, y: -size[1] / 2 }, style),\n            name: 'rect-shape',\n        });\n        // circles for anchor points\n        group.addShape('circle', {\n            attrs: {\n                x: -size[0] / 2,\n                y: 0,\n                r: 3,\n                fill: style.stroke,\n            },\n            name: 'circle-shape',\n        });\n        group.addShape('circle', {\n            attrs: {\n                x: size[0] / 2,\n                y: 0,\n                r: 3,\n                fill: style.stroke,\n            },\n            name: 'circle-shape2',\n        });\n        return rect;\n    },\n    getAnchorPoints: function getAnchorPoints() {\n        return [\n            [0, 0.5],\n            [1, 0.5],\n        ];\n    },\n    update: function update(cfg, item) {\n        var group = item.getContainer();\n        var children = group.get('children');\n        var node = children[0];\n        var circleLeft = children[1];\n        var circleRight = children[2];\n        var stroke = cfg.style && cfg.style.stroke ? cfg.style.stroke : '#5B8FF9';\n        if (stroke) {\n            node.attr('stroke', stroke);\n            circleLeft.attr('fill', stroke);\n            circleRight.attr('fill', stroke);\n        }\n    },\n}, 'single-node');\nexport var customIconNode = function (params) {\n    G6.registerNode('icon-node', {\n        options: {\n            size: [60, 20],\n            stroke: '#91d5ff',\n            fill: '#91d5ff',\n        },\n        draw: function (cfg, group) {\n            // @ts-ignore\n            var styles = this.getShapeStyle(cfg);\n            var _a = cfg.labelCfg, labelCfg = _a === void 0 ? {} : _a;\n            var keyShape = group.addShape('rect', {\n                attrs: __assign(__assign({}, styles), { x: 0, y: 0 }),\n            });\n            /**\n             * leftIcon 格式如下：\n             *  {\n             *    style: ShapeStyle;\n             *    img: ''\n             *  }\n             */\n            var style = {\n                fill: '#e6fffb',\n            };\n            var img = 'https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png';\n            if (cfg.leftIcon) {\n                style = Object.assign({}, style, cfg.leftIcon.style);\n                img = cfg.leftIcon.img;\n            }\n            group.addShape('rect', {\n                attrs: __assign({ x: 1, y: 1, width: 38, height: styles.height - 2 }, style),\n            });\n            group.addShape('image', {\n                attrs: {\n                    x: 8,\n                    y: 8,\n                    width: 24,\n                    height: 24,\n                    img: img,\n                },\n                name: 'image-shape',\n            });\n            if (params.enableEdit) {\n                group.addShape('marker', {\n                    attrs: {\n                        x: styles.width / 3,\n                        y: styles.height + 6,\n                        r: 6,\n                        stroke: '#73d13d',\n                        cursor: 'pointer',\n                        symbol: G6.Marker.expand,\n                    },\n                    name: 'add-item',\n                });\n                group.addShape('marker', {\n                    attrs: {\n                        x: (styles.width * 2) / 3,\n                        y: styles.height + 6,\n                        r: 6,\n                        stroke: '#ff4d4f',\n                        cursor: 'pointer',\n                        symbol: G6.Marker.collapse,\n                    },\n                    name: 'remove-item',\n                });\n            }\n            if (cfg.label) {\n                group.addShape('text', {\n                    attrs: __assign(__assign({}, labelCfg.style), { text: cfg.label, x: styles.width / 2, y: styles.height / 1.5 }),\n                });\n            }\n            return keyShape;\n        },\n    }, 'rect');\n};\nG6.registerEdge('fund-polyline', {\n    draw: function draw(cfg, group) {\n        var startPoint = cfg.startPoint;\n        var endPoint = cfg.endPoint;\n        var Ydiff = endPoint.y - startPoint.y;\n        var slope = Ydiff !== 0 ? 500 / Math.abs(Ydiff) : 0;\n        var cpOffset = 16;\n        var offset = Ydiff < 0 ? cpOffset : -cpOffset;\n        var line1EndPoint = {\n            x: startPoint.x + slope,\n            y: endPoint.y + offset,\n        };\n        var line2StartPoint = {\n            x: line1EndPoint.x + cpOffset,\n            y: endPoint.y,\n        };\n        // 控制点坐标\n        var controlPoint = {\n            x: ((line1EndPoint.x - startPoint.x) * (endPoint.y - startPoint.y)) /\n                (line1EndPoint.y - startPoint.y) +\n                startPoint.x,\n            y: endPoint.y,\n        };\n        var path = [\n            ['M', startPoint.x, startPoint.y],\n            ['L', line1EndPoint.x, line1EndPoint.y],\n            ['Q', controlPoint.x, controlPoint.y, line2StartPoint.x, line2StartPoint.y],\n            ['L', endPoint.x, endPoint.y],\n        ];\n        if (Ydiff === 0) {\n            path = [\n                ['M', startPoint.x, startPoint.y],\n                ['L', endPoint.x, endPoint.y],\n            ];\n        }\n        var style = (cfg || {}).style;\n        var line = group.addShape('path', {\n            attrs: {\n                path: path,\n                stroke: style.stroke || (cfg.colorMap && cfg.colorMap[cfg.dataType])\n                    ? cfg.colorMap[cfg.dataType]\n                    : '#5B8FF9',\n                lineWidth: style.lineWidth || 1.2,\n                endArrow: false,\n            },\n            name: 'path-shape',\n        });\n        var labelLeftOffset = 0;\n        var labelTopOffset = 8;\n        // label\n        var labelTextShape;\n        if (cfg.label) {\n            labelTextShape = group.addShape('text', {\n                attrs: {\n                    text: cfg.label,\n                    x: line2StartPoint.x + labelLeftOffset,\n                    y: endPoint.y - labelTopOffset - 2,\n                    fontSize: 14,\n                    textAlign: 'left',\n                    textBaseline: 'middle',\n                    fill: '#000',\n                },\n                name: 'text-shape-label',\n            });\n        }\n        // dataType\n        if (cfg.dataType) {\n            var labelTextShapeBBox = labelTextShape ? labelTextShape.getBBox() : { height: 0 };\n            group.addShape('text', {\n                attrs: {\n                    text: cfg.dataType,\n                    x: line2StartPoint.x + labelLeftOffset,\n                    y: endPoint.y - labelTopOffset - labelTextShapeBBox.height - 2,\n                    fontSize: 10,\n                    textAlign: 'left',\n                    textBaseline: 'middle',\n                    fill: '#000',\n                },\n                name: 'text-shape-type',\n            });\n        }\n        // subLabel\n        if (cfg.subLabel) {\n            group.addShape('text', {\n                attrs: {\n                    text: cfg.subLabel,\n                    x: line2StartPoint.x + labelLeftOffset,\n                    y: endPoint.y + labelTopOffset + 4,\n                    fontSize: 12,\n                    fontWeight: 300,\n                    textAlign: 'left',\n                    textBaseline: 'middle',\n                    fill: '#000',\n                },\n                name: 'text-shape-sub-label',\n            });\n        }\n        return line;\n    },\n    update: undefined,\n}, 'single-edge');\nG6.registerEdge('flow-line', {\n    draw: function (cfg, group) {\n        var startPoint = cfg.startPoint;\n        var endPoint = cfg.endPoint;\n        var _a = cfg.style, style = _a === void 0 ? {} : _a;\n        var shape = group.addShape('path', {\n            attrs: {\n                stroke: style.stroke,\n                endArrow: style.endArrow,\n                path: [\n                    ['M', startPoint.x, startPoint.y],\n                    ['L', startPoint.x, (startPoint.y + endPoint.y) / 2],\n                    ['L', endPoint.x, (startPoint.y + endPoint.y) / 2],\n                    ['L', endPoint.x, endPoint.y],\n                ],\n            },\n        });\n        return shape;\n    },\n});\n"]},"metadata":{},"sourceType":"module"}
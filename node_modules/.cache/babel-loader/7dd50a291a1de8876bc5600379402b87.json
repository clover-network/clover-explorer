{"ast":null,"code":"import { get, isNumber } from '@antv/util';\n/**\n * 查看数据是否是全负数、或者全正数\n * @param data\n * @param field\n */\n\nexport function adjustYMetaByZero(data, field) {\n  // 过滤出数字数据\n  var numberData = data.filter(function (datum) {\n    var v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n  var gtZero = numberData.every(function (datum) {\n    return get(datum, [field]) >= 0;\n  });\n  var ltZero = numberData.every(function (datum) {\n    return get(datum, [field]) <= 0;\n  }); // 目前是增量更新，对 { min: 0, max: undefined } 进行 update({ max: 0 }) 会得到 { min: 0, max: 0 }\n\n  if (gtZero) {\n    return {\n      min: 0\n    };\n  }\n\n  if (ltZero) {\n    return {\n      max: 0\n    };\n  }\n\n  return {};\n}","map":{"version":3,"sources":["../../src/utils/data.ts"],"names":[],"mappings":"AAAA,SAAS,GAAT,EAAc,QAAd,QAA8B,YAA9B;AAGA;;;;AAIG;;AACH,OAAM,SAAU,iBAAV,CAA4B,IAA5B,EAAwC,KAAxC,EAAqD;AACzD;AACA,MAAM,UAAU,GAAG,IAAI,CAAC,MAAL,CAAY,UAAC,KAAD,EAAa;AAC1C,QAAM,CAAC,GAAG,GAAG,CAAC,KAAD,EAAQ,CAAC,KAAD,CAAR,CAAb;AACA,WAAO,QAAQ,CAAC,CAAD,CAAR,IAAe,CAAC,KAAK,CAAC,CAAD,CAA5B;AACD,GAHkB,CAAnB;AAKA,MAAM,MAAM,GAAG,UAAU,CAAC,KAAX,CAAiB,UAAC,KAAD,EAAa;AAAK,WAAA,GAAG,CAAC,KAAD,EAAQ,CAAC,KAAD,CAAR,CAAH,IAAA,CAAA;AAAwB,GAA3D,CAAf;AACA,MAAM,MAAM,GAAG,UAAU,CAAC,KAAX,CAAiB,UAAC,KAAD,EAAa;AAAK,WAAA,GAAG,CAAC,KAAD,EAAQ,CAAC,KAAD,CAAR,CAAH,IAAA,CAAA;AAAwB,GAA3D,CAAf,CARyD,CAUzD;;AACA,MAAI,MAAJ,EAAY;AACV,WAAO;AAAE,MAAA,GAAG,EAAE;AAAP,KAAP;AACD;;AACD,MAAI,MAAJ,EAAY;AACV,WAAO;AAAE,MAAA,GAAG,EAAE;AAAP,KAAP;AACD;;AACD,SAAO,EAAP;AACD","sourcesContent":["import { get, isNumber } from '@antv/util';\nimport { Data, Datum, Meta } from '../types';\n\n/**\n * 查看数据是否是全负数、或者全正数\n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  // 过滤出数字数据\n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  // 目前是增量更新，对 { min: 0, max: undefined } 进行 update({ max: 0 }) 会得到 { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
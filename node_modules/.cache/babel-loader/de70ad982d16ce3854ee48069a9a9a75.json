{"ast":null,"code":"import { __extends } from \"tslib\";\nimport modifyCSS from '@antv/dom-util/lib/modify-css';\nimport createDOM from '@antv/dom-util/lib/create-dom';\nimport isString from '@antv/util/lib/is-string';\nimport insertCss from 'insert-css';\nimport Base from '../base';\ninsertCss(\"\\n  .g6-component-tooltip {\\n    border: 1px solid #e2e2e2;\\n    border-radius: 4px;\\n    font-size: 12px;\\n    color: #545454;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    padding: 10px 8px;\\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\\n  }\\n  .tooltip-type {\\n    padding: 0;\\n    margin: 0;\\n  }\\n  .tooltip-id {\\n    color: #531dab;\\n  }\\n\");\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n\n  function Tooltip() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Tooltip.prototype.getDefaultCfgs = function () {\n    return {\n      offsetX: 6,\n      offsetY: 6,\n      // 指定菜单内容，function(e) {...}\n      getContent: function getContent(e) {\n        return \"\\n          <h4 class='tooltip-type'>\\u7C7B\\u578B\\uFF1A\" + e.item.getType() + \"</h4>\\n          <span class='tooltip-id'>ID\\uFF1A\" + e.item.getID() + \"</span>\\n        \";\n      },\n      shouldBegin: function shouldBegin(e) {\n        return true;\n      },\n      itemTypes: ['node', 'edge', 'combo']\n    };\n  }; // class-methods-use-this\n\n\n  Tooltip.prototype.getEvents = function () {\n    return {\n      'node:mouseenter': 'onMouseEnter',\n      'node:mouseleave': 'onMouseLeave',\n      'node:mousemove': 'onMouseMove',\n      'edge:mouseenter': 'onMouseEnter',\n      'edge:mouseleave': 'onMouseLeave',\n      'edge:mousemove': 'onMouseMove',\n      afterremoveitem: 'onMouseLeave',\n      'contextmenu': 'onMouseLeave',\n      'node:drag': 'onMouseLeave'\n    };\n  };\n\n  Tooltip.prototype.init = function () {\n    var className = this.get('className') || 'g6-component-tooltip';\n    var tooltip = createDOM(\"<div class=\" + className + \"></div>\");\n    var container = this.get('container');\n\n    if (!container) {\n      container = this.get('graph').get('container');\n    }\n\n    modifyCSS(tooltip, {\n      position: 'absolute',\n      visibility: 'hidden'\n    });\n    container.appendChild(tooltip);\n    this.set('tooltip', tooltip);\n  };\n\n  Tooltip.prototype.onMouseEnter = function (e) {\n    var itemTypes = this.get('itemTypes');\n    if (e.item && e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n    var item = e.item;\n    var graph = this.get('graph');\n    this.currentTarget = item;\n    this.showTooltip(e);\n    graph.emit('tooltipchange', {\n      item: e.item,\n      action: 'show'\n    });\n  };\n\n  Tooltip.prototype.onMouseMove = function (e) {\n    var itemTypes = this.get('itemTypes');\n    if (e.item && e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n\n    this.showTooltip(e);\n  };\n\n  Tooltip.prototype.onMouseLeave = function () {\n    this.hideTooltip();\n    var graph = this.get('graph');\n    graph.emit('tooltipchange', {\n      item: this.currentTarget,\n      action: 'hide'\n    });\n    this.currentTarget = null;\n  };\n\n  Tooltip.prototype.showTooltip = function (e) {\n    if (!e.item) {\n      return;\n    }\n\n    var itemTypes = this.get('itemTypes');\n    if (e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n    var container = this.get('tooltip');\n    var getContent = this.get('getContent');\n    var tooltip = getContent(e);\n\n    if (isString(tooltip)) {\n      container.innerHTML = tooltip;\n    } else {\n      container.innerHTML = tooltip.outerHTML;\n    }\n\n    this.updatePosition(e);\n  };\n\n  Tooltip.prototype.hideTooltip = function () {\n    var tooltip = this.get('tooltip');\n\n    if (tooltip) {\n      modifyCSS(tooltip, {\n        visibility: 'hidden'\n      });\n    }\n  };\n\n  Tooltip.prototype.updatePosition = function (e) {\n    var shouldBegin = this.get('shouldBegin');\n    var tooltip = this.get('tooltip');\n\n    if (!shouldBegin(e)) {\n      modifyCSS(tooltip, {\n        visibility: 'hidden'\n      });\n      return;\n    }\n\n    ;\n    var graph = this.get('graph');\n    var width = graph.get('width');\n    var height = graph.get('height');\n    var offsetX = this.get('offsetX') || 0;\n    var offsetY = this.get('offsetY') || 0; // const mousePos = graph.getPointByClient(e.clientX, e.clientY);\n\n    var point = graph.getPointByClient(e.clientX, e.clientY);\n\n    var _a = graph.getCanvasByPoint(point.x, point.y),\n        x = _a.x,\n        y = _a.y; // let x = mousePos.x + offsetX;\n    // let y = mousePos.y + offsetY;\n    // let x = e.x + offsetX;\n    // let y = e.y + offsetY;\n\n\n    x += offsetX;\n    y += offsetY;\n    var bbox = tooltip.getBoundingClientRect();\n\n    if (x + bbox.width > width) {\n      x = x - bbox.width - offsetX;\n    }\n\n    if (y + bbox.height > height) {\n      y = y - bbox.height - offsetY;\n    }\n\n    modifyCSS(tooltip, {\n      left: x + \"px\",\n      top: y + \"px\",\n      visibility: 'visible'\n    });\n  };\n\n  Tooltip.prototype.hide = function () {\n    this.onMouseLeave();\n  };\n\n  Tooltip.prototype.destroy = function () {\n    var tooltip = this.get('tooltip');\n\n    if (tooltip) {\n      var container = this.get('container');\n\n      if (!container) {\n        container = this.get('graph').get('container');\n      }\n\n      container.removeChild(tooltip);\n    }\n  };\n\n  return Tooltip;\n}(Base);\n\nexport default Tooltip;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@antv/g6/es/plugins/tooltip/index.js"],"names":["__extends","modifyCSS","createDOM","isString","insertCss","Base","Tooltip","_super","apply","arguments","prototype","getDefaultCfgs","offsetX","offsetY","getContent","e","item","getType","getID","shouldBegin","itemTypes","getEvents","afterremoveitem","init","className","get","tooltip","container","position","visibility","appendChild","set","onMouseEnter","indexOf","graph","currentTarget","showTooltip","emit","action","onMouseMove","onMouseLeave","hideTooltip","innerHTML","outerHTML","updatePosition","width","height","point","getPointByClient","clientX","clientY","_a","getCanvasByPoint","x","y","bbox","getBoundingClientRect","left","top","hide","destroy","removeChild"],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\nimport modifyCSS from '@antv/dom-util/lib/modify-css';\nimport createDOM from '@antv/dom-util/lib/create-dom';\nimport isString from '@antv/util/lib/is-string';\nimport insertCss from 'insert-css';\nimport Base from '../base';\ninsertCss(\"\\n  .g6-component-tooltip {\\n    border: 1px solid #e2e2e2;\\n    border-radius: 4px;\\n    font-size: 12px;\\n    color: #545454;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    padding: 10px 8px;\\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\\n  }\\n  .tooltip-type {\\n    padding: 0;\\n    margin: 0;\\n  }\\n  .tooltip-id {\\n    color: #531dab;\\n  }\\n\");\n\nvar Tooltip =\n/** @class */\nfunction (_super) {\n  __extends(Tooltip, _super);\n\n  function Tooltip() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Tooltip.prototype.getDefaultCfgs = function () {\n    return {\n      offsetX: 6,\n      offsetY: 6,\n      // 指定菜单内容，function(e) {...}\n      getContent: function getContent(e) {\n        return \"\\n          <h4 class='tooltip-type'>\\u7C7B\\u578B\\uFF1A\" + e.item.getType() + \"</h4>\\n          <span class='tooltip-id'>ID\\uFF1A\" + e.item.getID() + \"</span>\\n        \";\n      },\n      shouldBegin: function shouldBegin(e) {\n        return true;\n      },\n      itemTypes: ['node', 'edge', 'combo']\n    };\n  }; // class-methods-use-this\n\n\n  Tooltip.prototype.getEvents = function () {\n    return {\n      'node:mouseenter': 'onMouseEnter',\n      'node:mouseleave': 'onMouseLeave',\n      'node:mousemove': 'onMouseMove',\n      'edge:mouseenter': 'onMouseEnter',\n      'edge:mouseleave': 'onMouseLeave',\n      'edge:mousemove': 'onMouseMove',\n      afterremoveitem: 'onMouseLeave',\n      'contextmenu': 'onMouseLeave',\n      'node:drag': 'onMouseLeave'\n    };\n  };\n\n  Tooltip.prototype.init = function () {\n    var className = this.get('className') || 'g6-component-tooltip';\n    var tooltip = createDOM(\"<div class=\" + className + \"></div>\");\n    var container = this.get('container');\n\n    if (!container) {\n      container = this.get('graph').get('container');\n    }\n\n    modifyCSS(tooltip, {\n      position: 'absolute',\n      visibility: 'hidden'\n    });\n    container.appendChild(tooltip);\n    this.set('tooltip', tooltip);\n  };\n\n  Tooltip.prototype.onMouseEnter = function (e) {\n    var itemTypes = this.get('itemTypes');\n    if (e.item && e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n    var item = e.item;\n    var graph = this.get('graph');\n    this.currentTarget = item;\n    this.showTooltip(e);\n    graph.emit('tooltipchange', {\n      item: e.item,\n      action: 'show'\n    });\n  };\n\n  Tooltip.prototype.onMouseMove = function (e) {\n    var itemTypes = this.get('itemTypes');\n    if (e.item && e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n\n    this.showTooltip(e);\n  };\n\n  Tooltip.prototype.onMouseLeave = function () {\n    this.hideTooltip();\n    var graph = this.get('graph');\n    graph.emit('tooltipchange', {\n      item: this.currentTarget,\n      action: 'hide'\n    });\n    this.currentTarget = null;\n  };\n\n  Tooltip.prototype.showTooltip = function (e) {\n    if (!e.item) {\n      return;\n    }\n\n    var itemTypes = this.get('itemTypes');\n    if (e.item.getType && itemTypes.indexOf(e.item.getType()) === -1) return;\n    var container = this.get('tooltip');\n    var getContent = this.get('getContent');\n    var tooltip = getContent(e);\n\n    if (isString(tooltip)) {\n      container.innerHTML = tooltip;\n    } else {\n      container.innerHTML = tooltip.outerHTML;\n    }\n\n    this.updatePosition(e);\n  };\n\n  Tooltip.prototype.hideTooltip = function () {\n    var tooltip = this.get('tooltip');\n\n    if (tooltip) {\n      modifyCSS(tooltip, {\n        visibility: 'hidden'\n      });\n    }\n  };\n\n  Tooltip.prototype.updatePosition = function (e) {\n    var shouldBegin = this.get('shouldBegin');\n    var tooltip = this.get('tooltip');\n\n    if (!shouldBegin(e)) {\n      modifyCSS(tooltip, {\n        visibility: 'hidden'\n      });\n      return;\n    }\n\n    ;\n    var graph = this.get('graph');\n    var width = graph.get('width');\n    var height = graph.get('height');\n    var offsetX = this.get('offsetX') || 0;\n    var offsetY = this.get('offsetY') || 0; // const mousePos = graph.getPointByClient(e.clientX, e.clientY);\n\n    var point = graph.getPointByClient(e.clientX, e.clientY);\n\n    var _a = graph.getCanvasByPoint(point.x, point.y),\n        x = _a.x,\n        y = _a.y; // let x = mousePos.x + offsetX;\n    // let y = mousePos.y + offsetY;\n    // let x = e.x + offsetX;\n    // let y = e.y + offsetY;\n\n\n    x += offsetX;\n    y += offsetY;\n    var bbox = tooltip.getBoundingClientRect();\n\n    if (x + bbox.width > width) {\n      x = x - bbox.width - offsetX;\n    }\n\n    if (y + bbox.height > height) {\n      y = y - bbox.height - offsetY;\n    }\n\n    modifyCSS(tooltip, {\n      left: x + \"px\",\n      top: y + \"px\",\n      visibility: 'visible'\n    });\n  };\n\n  Tooltip.prototype.hide = function () {\n    this.onMouseLeave();\n  };\n\n  Tooltip.prototype.destroy = function () {\n    var tooltip = this.get('tooltip');\n\n    if (tooltip) {\n      var container = this.get('container');\n\n      if (!container) {\n        container = this.get('graph').get('container');\n      }\n\n      container.removeChild(tooltip);\n    }\n  };\n\n  return Tooltip;\n}(Base);\n\nexport default Tooltip;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import modifyCSS from '@antv/dom-util/lib/modify-css';\nimport createDom from '@antv/dom-util/lib/create-dom';\nexport default {\n  onMouseEnter: function onMouseEnter(e) {\n    var item = e.item;\n    this.currentTarget = item;\n    this.showTooltip(e);\n    this.graph.emit('tooltipchange', {\n      item: e.item,\n      action: 'show'\n    });\n  },\n  onMouseMove: function onMouseMove(e) {\n    if (!this.shouldUpdate(e)) {\n      this.hideTooltip();\n      return;\n    }\n\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n\n    this.updatePosition(e);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    if (!this.shouldEnd(e)) {\n      return;\n    }\n\n    this.hideTooltip();\n    this.graph.emit('tooltipchange', {\n      item: this.currentTarget,\n      action: 'hide'\n    });\n    this.currentTarget = null;\n  },\n  showTooltip: function showTooltip(e) {\n    var container = this.container;\n\n    if (!e.item || e.item.destroyed) {\n      return;\n    }\n\n    if (!container) {\n      container = this.createTooltip(this.graph.get('canvas'));\n      this.container = container;\n    }\n\n    var text = this.formatText(e.item.get('model'), e);\n    container.innerHTML = text;\n    modifyCSS(this.container, {\n      visibility: 'visible'\n    });\n    this.updatePosition(e);\n  },\n  hideTooltip: function hideTooltip() {\n    modifyCSS(this.container, {\n      visibility: 'hidden'\n    });\n  },\n  updatePosition: function updatePosition(e) {\n    var shouldBegin = this.get('shouldBegin');\n\n    var _a = this,\n        width = _a.width,\n        height = _a.height,\n        container = _a.container,\n        graph = _a.graph;\n\n    if (!shouldBegin(e)) {\n      modifyCSS(container, {\n        visibility: 'hidden'\n      });\n      return;\n    }\n\n    ;\n    var point = graph.getPointByClient(e.clientX, e.clientY);\n\n    var _b = graph.getCanvasByPoint(point.x, point.y),\n        x = _b.x,\n        y = _b.y;\n\n    var bbox = container.getBoundingClientRect();\n\n    if (x > width / 2) {\n      x -= bbox.width;\n    } else {\n      x += this.offset;\n    }\n\n    if (y > height / 2) {\n      y -= bbox.height;\n    } else {\n      y += this.offset;\n    }\n\n    var left = x + \"px\";\n    var top = y + \"px\";\n    modifyCSS(this.container, {\n      left: left,\n      top: top,\n      visibility: 'visible'\n    });\n  },\n  createTooltip: function createTooltip(canvas) {\n    var el = canvas.get('el');\n    el.style.position = 'relative';\n    var container = createDom(\"<div class=\\\"g6-tooltip g6-\" + this.item + \"-tooltip\\\"></div>\");\n    el.parentNode.appendChild(container);\n    modifyCSS(container, {\n      position: 'absolute',\n      visibility: 'visible'\n    });\n    this.width = canvas.get('width');\n    this.height = canvas.get('height');\n    this.container = container;\n    this.graph.get('tooltips').push(container);\n    return container;\n  }\n};","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@antv/g6/es/behavior/tooltip-base.js"],"names":["modifyCSS","createDom","onMouseEnter","e","item","currentTarget","showTooltip","graph","emit","action","onMouseMove","shouldUpdate","hideTooltip","updatePosition","onMouseLeave","shouldEnd","container","destroyed","createTooltip","get","text","formatText","innerHTML","visibility","shouldBegin","_a","width","height","point","getPointByClient","clientX","clientY","_b","getCanvasByPoint","x","y","bbox","getBoundingClientRect","offset","left","top","canvas","el","style","position","parentNode","appendChild","push"],"mappings":"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","sourcesContent":["import modifyCSS from '@antv/dom-util/lib/modify-css';\nimport createDom from '@antv/dom-util/lib/create-dom';\nexport default {\n  onMouseEnter: function onMouseEnter(e) {\n    var item = e.item;\n    this.currentTarget = item;\n    this.showTooltip(e);\n    this.graph.emit('tooltipchange', {\n      item: e.item,\n      action: 'show'\n    });\n  },\n  onMouseMove: function onMouseMove(e) {\n    if (!this.shouldUpdate(e)) {\n      this.hideTooltip();\n      return;\n    }\n\n    if (!this.currentTarget || e.item !== this.currentTarget) {\n      return;\n    }\n\n    this.updatePosition(e);\n  },\n  onMouseLeave: function onMouseLeave(e) {\n    if (!this.shouldEnd(e)) {\n      return;\n    }\n\n    this.hideTooltip();\n    this.graph.emit('tooltipchange', {\n      item: this.currentTarget,\n      action: 'hide'\n    });\n    this.currentTarget = null;\n  },\n  showTooltip: function showTooltip(e) {\n    var container = this.container;\n\n    if (!e.item || e.item.destroyed) {\n      return;\n    }\n\n    if (!container) {\n      container = this.createTooltip(this.graph.get('canvas'));\n      this.container = container;\n    }\n\n    var text = this.formatText(e.item.get('model'), e);\n    container.innerHTML = text;\n    modifyCSS(this.container, {\n      visibility: 'visible'\n    });\n    this.updatePosition(e);\n  },\n  hideTooltip: function hideTooltip() {\n    modifyCSS(this.container, {\n      visibility: 'hidden'\n    });\n  },\n  updatePosition: function updatePosition(e) {\n    var shouldBegin = this.get('shouldBegin');\n\n    var _a = this,\n        width = _a.width,\n        height = _a.height,\n        container = _a.container,\n        graph = _a.graph;\n\n    if (!shouldBegin(e)) {\n      modifyCSS(container, {\n        visibility: 'hidden'\n      });\n      return;\n    }\n\n    ;\n    var point = graph.getPointByClient(e.clientX, e.clientY);\n\n    var _b = graph.getCanvasByPoint(point.x, point.y),\n        x = _b.x,\n        y = _b.y;\n\n    var bbox = container.getBoundingClientRect();\n\n    if (x > width / 2) {\n      x -= bbox.width;\n    } else {\n      x += this.offset;\n    }\n\n    if (y > height / 2) {\n      y -= bbox.height;\n    } else {\n      y += this.offset;\n    }\n\n    var left = x + \"px\";\n    var top = y + \"px\";\n    modifyCSS(this.container, {\n      left: left,\n      top: top,\n      visibility: 'visible'\n    });\n  },\n  createTooltip: function createTooltip(canvas) {\n    var el = canvas.get('el');\n    el.style.position = 'relative';\n    var container = createDom(\"<div class=\\\"g6-tooltip g6-\" + this.item + \"-tooltip\\\"></div>\");\n    el.parentNode.appendChild(container);\n    modifyCSS(container, {\n      position: 'absolute',\n      visibility: 'visible'\n    });\n    this.width = canvas.get('width');\n    this.height = canvas.get('height');\n    this.container = container;\n    this.graph.get('tooltips').push(container);\n    return container;\n  }\n};"]},"metadata":{},"sourceType":"module"}
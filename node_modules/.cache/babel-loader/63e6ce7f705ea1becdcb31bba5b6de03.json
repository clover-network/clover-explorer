{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\n\nvar PathProxy_1 = require(\"../core/PathProxy\");\n\nvar vector_1 = require(\"../core/vector\");\n\nvar CMD = PathProxy_1[\"default\"].CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\n\nfunction transformPath(path, m) {\n  var data = path.data;\n  var len = path.len();\n  var cmd;\n  var nPoint;\n  var i;\n  var j;\n  var k;\n  var p;\n  var M = CMD.M;\n  var C = CMD.C;\n  var L = CMD.L;\n  var R = CMD.R;\n  var A = CMD.A;\n  var Q = CMD.Q;\n\n  for (i = 0, j = 0; i < len;) {\n    cmd = data[i++];\n    j = i;\n    nPoint = 0;\n\n    switch (cmd) {\n      case M:\n        nPoint = 1;\n        break;\n\n      case L:\n        nPoint = 1;\n        break;\n\n      case C:\n        nPoint = 3;\n        break;\n\n      case Q:\n        nPoint = 2;\n        break;\n\n      case A:\n        var x = m[4];\n        var y = m[5];\n        var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n        var angle = mathAtan2(-m[1] / sy, m[0] / sx);\n        data[i] *= sx;\n        data[i++] += x;\n        data[i] *= sy;\n        data[i++] += y;\n        data[i++] *= sx;\n        data[i++] *= sy;\n        data[i++] += angle;\n        data[i++] += angle;\n        i += 2;\n        j = i;\n        break;\n\n      case R:\n        p[0] = data[i++];\n        p[1] = data[i++];\n        vector_1.applyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n        p[0] += data[i++];\n        p[1] += data[i++];\n        vector_1.applyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n    }\n\n    for (k = 0; k < nPoint; k++) {\n      var p_1 = points[k];\n      p_1[0] = data[i++];\n      p_1[1] = data[i++];\n      vector_1.applyTransform(p_1, p_1, m);\n      data[j++] = p_1[0];\n      data[j++] = p_1[1];\n    }\n  }\n\n  path.increaseVersion();\n}\n\nexports[\"default\"] = transformPath;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/zrender/lib/tool/transformPath.js"],"names":["exports","__esModule","PathProxy_1","require","vector_1","CMD","points","mathSqrt","Math","sqrt","mathAtan2","atan2","transformPath","path","m","data","len","cmd","nPoint","i","j","k","p","M","C","L","R","A","Q","x","y","sx","sy","angle","applyTransform","p_1","increaseVersion"],"mappings":"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","sourcesContent":["\"use strict\";\nexports.__esModule = true;\nvar PathProxy_1 = require(\"../core/PathProxy\");\nvar vector_1 = require(\"../core/vector\");\nvar CMD = PathProxy_1[\"default\"].CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\nfunction transformPath(path, m) {\n    var data = path.data;\n    var len = path.len();\n    var cmd;\n    var nPoint;\n    var i;\n    var j;\n    var k;\n    var p;\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var R = CMD.R;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    for (i = 0, j = 0; i < len;) {\n        cmd = data[i++];\n        j = i;\n        nPoint = 0;\n        switch (cmd) {\n            case M:\n                nPoint = 1;\n                break;\n            case L:\n                nPoint = 1;\n                break;\n            case C:\n                nPoint = 3;\n                break;\n            case Q:\n                nPoint = 2;\n                break;\n            case A:\n                var x = m[4];\n                var y = m[5];\n                var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n                var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n                var angle = mathAtan2(-m[1] / sy, m[0] / sx);\n                data[i] *= sx;\n                data[i++] += x;\n                data[i] *= sy;\n                data[i++] += y;\n                data[i++] *= sx;\n                data[i++] *= sy;\n                data[i++] += angle;\n                data[i++] += angle;\n                i += 2;\n                j = i;\n                break;\n            case R:\n                p[0] = data[i++];\n                p[1] = data[i++];\n                vector_1.applyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n                p[0] += data[i++];\n                p[1] += data[i++];\n                vector_1.applyTransform(p, p, m);\n                data[j++] = p[0];\n                data[j++] = p[1];\n        }\n        for (k = 0; k < nPoint; k++) {\n            var p_1 = points[k];\n            p_1[0] = data[i++];\n            p_1[1] = data[i++];\n            vector_1.applyTransform(p_1, p_1, m);\n            data[j++] = p_1[0];\n            data[j++] = p_1[1];\n        }\n    }\n    path.increaseVersion();\n}\nexports[\"default\"] = transformPath;\n"]},"metadata":{},"sourceType":"script"}
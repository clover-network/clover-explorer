{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport arrayTreeFilter from 'array-tree-filter';\nimport React from 'react';\nimport MultiPicker from '../MultiPicker';\nimport Picker from '../Picker';\n\nvar Cascader = function (_React$Component) {\n  _inherits(Cascader, _React$Component);\n\n  function Cascader() {\n    _classCallCheck(this, Cascader);\n\n    var _this = _possibleConstructorReturn(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n    _this.state = {\n      value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n    };\n\n    _this.onValueChange = function (value, index) {\n      var children = arrayTreeFilter(_this.props.data, function (c, level) {\n        return level <= index && c.value === value[level];\n      });\n      var data = children[index];\n      var i = void 0;\n\n      for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n        data = data.children[0];\n        value[i] = data.value;\n      }\n\n      value.length = i;\n\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: value\n        });\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Cascader, [{\n    key: 'UNSAFE_componentWillReceiveProps',\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps) {\n        this.setState({\n          value: this.getValue(nextProps.data, nextProps.value)\n        });\n      }\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue(d, val) {\n      var data = d || this.props.data;\n      var value = val || this.props.value || this.props.defaultValue;\n      var level = 0;\n      var nextValue = [];\n\n      if (value && value.length) {\n        do {\n          var index = data.findIndex(function (item) {\n            return item.value === value[level];\n          });\n\n          if (index < 0) {\n            break;\n          }\n\n          nextValue[level] = value[level];\n          level += 1;\n          data = data[index].children || [];\n        } while (data.length > 0);\n      }\n\n      for (var i = level; i < this.props.cols; i++) {\n        if (data && data.length) {\n          nextValue[i] = data[0].value;\n          data = data[0].children;\n        } else {\n          break;\n        }\n      }\n\n      return nextValue;\n    }\n  }, {\n    key: 'getCols',\n    value: function getCols() {\n      var _props = this.props,\n          data = _props.data,\n          cols = _props.cols,\n          disabled = _props.disabled,\n          pickerItemStyle = _props.pickerItemStyle,\n          indicatorStyle = _props.indicatorStyle;\n      var value = this.state.value;\n      var childrenTree = arrayTreeFilter(data, function (c, level) {\n        return c.value === value[level];\n      }).map(function (c) {\n        return c.children;\n      }); // in case the users data is async get when select change\n\n      var needPad = cols - childrenTree.length;\n\n      if (needPad > 0) {\n        for (var i = 0; i < needPad; i++) {\n          childrenTree.push([]);\n        }\n      }\n\n      childrenTree.length = cols - 1;\n      childrenTree.unshift(data);\n      return childrenTree.map(function () {\n        var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var level = arguments[1];\n        return React.createElement(Picker, {\n          key: level,\n          style: {\n            flex: 1\n          },\n          disabled: disabled,\n          itemStyle: pickerItemStyle,\n          indicatorStyle: indicatorStyle\n        }, children.map(function (item) {\n          return React.createElement(Picker.Item, {\n            value: item.value,\n            key: item.value\n          }, item.label);\n        }));\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = this.props;\n      var rootNativeProps = props.rootNativeProps,\n          style = props.style;\n      var cols = this.getCols();\n      return React.createElement(MultiPicker, {\n        style: [{\n          flexDirection: 'row',\n          alignItems: 'center'\n        }, style],\n        selectedValue: this.state.value,\n        rootNativeProps: rootNativeProps,\n        onValueChange: this.onValueChange,\n        onScrollChange: props.onScrollChange\n      }, cols);\n    }\n  }]);\n\n  return Cascader;\n}(React.Component);\n\nCascader.defaultProps = {\n  cols: 3,\n  data: [],\n  disabled: false\n};\nexport default Cascader;","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/@ant-design/react-native/es/picker/cascader/Cascader.js"],"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","arrayTreeFilter","React","MultiPicker","Picker","Cascader","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","state","value","getValue","props","data","defaultValue","onValueChange","index","children","c","level","i","length","cols","setState","onChange","key","UNSAFE_componentWillReceiveProps","nextProps","d","val","nextValue","findIndex","item","getCols","_props","disabled","pickerItemStyle","indicatorStyle","childrenTree","map","needPad","push","unshift","undefined","createElement","style","flex","itemStyle","Item","label","render","rootNativeProps","flexDirection","alignItems","selectedValue","onScrollChange","Component","defaultProps"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport arrayTreeFilter from 'array-tree-filter';\nimport React from 'react';\nimport MultiPicker from '../MultiPicker';\nimport Picker from '../Picker';\n\nvar Cascader = function (_React$Component) {\n    _inherits(Cascader, _React$Component);\n\n    function Cascader() {\n        _classCallCheck(this, Cascader);\n\n        var _this = _possibleConstructorReturn(this, (Cascader.__proto__ || Object.getPrototypeOf(Cascader)).apply(this, arguments));\n\n        _this.state = {\n            value: _this.getValue(_this.props.data, _this.props.defaultValue || _this.props.value)\n        };\n        _this.onValueChange = function (value, index) {\n            var children = arrayTreeFilter(_this.props.data, function (c, level) {\n                return level <= index && c.value === value[level];\n            });\n            var data = children[index];\n            var i = void 0;\n            for (i = index + 1; data && data.children && data.children.length && i < _this.props.cols; i++) {\n                data = data.children[0];\n                value[i] = data.value;\n            }\n            value.length = i;\n            if (!('value' in _this.props)) {\n                _this.setState({\n                    value: value\n                });\n            }\n            if (_this.props.onChange) {\n                _this.props.onChange(value);\n            }\n        };\n        return _this;\n    }\n\n    _createClass(Cascader, [{\n        key: 'UNSAFE_componentWillReceiveProps',\n        value: function UNSAFE_componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps) {\n                this.setState({\n                    value: this.getValue(nextProps.data, nextProps.value)\n                });\n            }\n        }\n    }, {\n        key: 'getValue',\n        value: function getValue(d, val) {\n            var data = d || this.props.data;\n            var value = val || this.props.value || this.props.defaultValue;\n            var level = 0;\n            var nextValue = [];\n            if (value && value.length) {\n                do {\n                    var index = data.findIndex(function (item) {\n                        return item.value === value[level];\n                    });\n                    if (index < 0) {\n                        break;\n                    }\n                    nextValue[level] = value[level];\n                    level += 1;\n                    data = data[index].children || [];\n                } while (data.length > 0);\n            }\n            for (var i = level; i < this.props.cols; i++) {\n                if (data && data.length) {\n                    nextValue[i] = data[0].value;\n                    data = data[0].children;\n                } else {\n                    break;\n                }\n            }\n            return nextValue;\n        }\n    }, {\n        key: 'getCols',\n        value: function getCols() {\n            var _props = this.props,\n                data = _props.data,\n                cols = _props.cols,\n                disabled = _props.disabled,\n                pickerItemStyle = _props.pickerItemStyle,\n                indicatorStyle = _props.indicatorStyle;\n\n            var value = this.state.value;\n            var childrenTree = arrayTreeFilter(data, function (c, level) {\n                return c.value === value[level];\n            }).map(function (c) {\n                return c.children;\n            });\n            // in case the users data is async get when select change\n            var needPad = cols - childrenTree.length;\n            if (needPad > 0) {\n                for (var i = 0; i < needPad; i++) {\n                    childrenTree.push([]);\n                }\n            }\n            childrenTree.length = cols - 1;\n            childrenTree.unshift(data);\n            return childrenTree.map(function () {\n                var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n                var level = arguments[1];\n                return React.createElement(\n                    Picker,\n                    { key: level, style: { flex: 1 }, disabled: disabled, itemStyle: pickerItemStyle, indicatorStyle: indicatorStyle },\n                    children.map(function (item) {\n                        return React.createElement(\n                            Picker.Item,\n                            { value: item.value, key: item.value },\n                            item.label\n                        );\n                    })\n                );\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var props = this.props;\n            var rootNativeProps = props.rootNativeProps,\n                style = props.style;\n\n            var cols = this.getCols();\n            return React.createElement(\n                MultiPicker,\n                { style: [{\n                        flexDirection: 'row',\n                        alignItems: 'center'\n                    }, style], selectedValue: this.state.value, rootNativeProps: rootNativeProps, onValueChange: this.onValueChange, onScrollChange: props.onScrollChange },\n                cols\n            );\n        }\n    }]);\n\n    return Cascader;\n}(React.Component);\n\nCascader.defaultProps = {\n    cols: 3,\n    data: [],\n    disabled: false\n};\nexport default Cascader;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar is_array_1 = require(\"./is-array\");\n\nvar is_plain_object_1 = require(\"./is-plain-object\");\n\nvar MAX_MIX_LEVEL = 5;\n\nfunction _deepMix(dist, src, level, maxLevel) {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n\n  for (var key in src) {\n    if (src.hasOwnProperty(key)) {\n      var value = src[key];\n\n      if (value !== null && is_plain_object_1.default(value)) {\n        if (!is_plain_object_1.default(dist[key])) {\n          dist[key] = {};\n        }\n\n        if (level < maxLevel) {\n          _deepMix(dist[key], value, level + 1, maxLevel);\n        } else {\n          dist[key] = src[key];\n        }\n      } else if (is_array_1.default(value)) {\n        dist[key] = [];\n        dist[key] = dist[key].concat(value);\n      } else if (value !== undefined) {\n        dist[key] = value;\n      }\n    }\n  }\n} // todo 重写\n\n\nvar deepMix = function (rst) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  for (var i = 0; i < args.length; i += 1) {\n    _deepMix(rst, args[i]);\n  }\n\n  return rst;\n};\n\nexports.default = deepMix;","map":{"version":3,"sources":["../src/deep-mix.ts"],"names":[],"mappings":";;;;;;AAAA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAA,iBAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AAEA,IAAM,aAAa,GAAG,CAAtB;;AAEA,SAAS,QAAT,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B,KAA7B,EAAqC,QAArC,EAA8C;AAC5C,EAAA,KAAK,GAAG,KAAK,IAAI,CAAjB;AACA,EAAA,QAAQ,GAAG,QAAQ,IAAI,aAAvB;;AACA,OAAK,IAAM,GAAX,IAAkB,GAAlB,EAAuB;AACrB,QAAI,GAAG,CAAC,cAAJ,CAAmB,GAAnB,CAAJ,EAA6B;AAC3B,UAAM,KAAK,GAAG,GAAG,CAAC,GAAD,CAAjB;;AACA,UAAI,KAAK,KAAK,IAAV,IAAkB,iBAAA,CAAA,OAAA,CAAc,KAAd,CAAtB,EAA4C;AAC1C,YAAI,CAAC,iBAAA,CAAA,OAAA,CAAc,IAAI,CAAC,GAAD,CAAlB,CAAL,EAA+B;AAC7B,UAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,EAAZ;AACD;;AACD,YAAI,KAAK,GAAG,QAAZ,EAAsB;AACpB,UAAA,QAAQ,CAAC,IAAI,CAAC,GAAD,CAAL,EAAY,KAAZ,EAAmB,KAAK,GAAG,CAA3B,EAA8B,QAA9B,CAAR;AACD,SAFD,MAEO;AACL,UAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,GAAG,CAAC,GAAD,CAAf;AACD;AACF,OATD,MASO,IAAI,UAAA,CAAA,OAAA,CAAQ,KAAR,CAAJ,EAAoB;AACzB,QAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,EAAZ;AACA,QAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,IAAI,CAAC,GAAD,CAAJ,CAAU,MAAV,CAAiB,KAAjB,CAAZ;AACD,OAHM,MAGA,IAAI,KAAK,KAAK,SAAd,EAAyB;AAC9B,QAAA,IAAI,CAAC,GAAD,CAAJ,GAAY,KAAZ;AACD;AACF;AACF;AACF,C,CAED;;;AACA,IAAM,OAAO,GAAG,UAAS,GAAT,EAAgB;AAAE,MAAA,IAAA,GAAA,EAAA;;OAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAa;AAAb,IAAA,IAAA,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AAChC,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IAAI,CAAC,MAAzB,EAAiC,CAAC,IAAI,CAAtC,EAAyC;AACvC,IAAA,QAAQ,CAAC,GAAD,EAAM,IAAI,CAAC,CAAD,CAAV,CAAR;AACD;;AACD,SAAO,GAAP;AACD,CALD;;AAOA,OAAA,CAAA,OAAA,GAAe,OAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"./is-array\");\nvar is_plain_object_1 = require(\"./is-plain-object\");\nvar MAX_MIX_LEVEL = 5;\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n            var value = src[key];\n            if (value !== null && is_plain_object_1.default(value)) {\n                if (!is_plain_object_1.default(dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (is_array_1.default(value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo 重写\nvar deepMix = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexports.default = deepMix;\n//# sourceMappingURL=deep-mix.js.map"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\nregisterShape('polygon', 'square', {\n  draw: function (cfg, group) {\n    var _a, _b;\n\n    var cx = cfg.x;\n    var cy = cfg.y;\n    var points = this.parsePoints(cfg.points);\n    var width = Math.abs(points[2].x - points[1].x);\n    var height = Math.abs(points[1].y - points[0].y);\n    var maxSideLength = Math.min(width, height);\n    var value = Number(cfg.shape[1]);\n    var sizeRatio = Number(cfg.shape[2]);\n    var lenRatio = Math.sqrt(sizeRatio);\n    var sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    var fill = ((_a = cfg.style) === null || _a === void 0 ? void 0 : _a.fill) || cfg.color || ((_b = cfg.defaultStyle) === null || _b === void 0 ? void 0 : _b.fill);\n    var polygon = group.addShape('rect', {\n      attrs: __assign(__assign(__assign({\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength\n      }, cfg.defaultStyle), cfg.style), {\n        fill: fill\n      })\n    });\n    return polygon;\n  }\n});","map":{"version":3,"sources":["../../../../src/plots/heatmap/shapes/square.ts"],"names":[],"mappings":";AAAA,SAAS,aAAT,QAA8B,UAA9B;AAIA,aAAa,CAAC,SAAD,EAAY,QAAZ,EAAsB;AACjC,EAAA,IAAI,EAAJ,UAAK,GAAL,EAAqB,KAArB,EAAkC;;;AAChC,QAAM,EAAE,GAAG,GAAG,CAAC,CAAf;AACA,QAAM,EAAE,GAAG,GAAG,CAAC,CAAf;AAEA,QAAM,MAAM,GAAG,KAAK,WAAL,CAAiB,GAAG,CAAC,MAArB,CAAf;AACA,QAAM,KAAK,GAAG,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,GAAc,MAAM,CAAC,CAAD,CAAN,CAAU,CAAjC,CAAd;AACA,QAAM,MAAM,GAAG,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,GAAc,MAAM,CAAC,CAAD,CAAN,CAAU,CAAjC,CAAf;AACA,QAAM,aAAa,GAAG,IAAI,CAAC,GAAL,CAAS,KAAT,EAAgB,MAAhB,CAAtB;AAEA,QAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,KAAJ,CAAU,CAAV,CAAD,CAApB;AACA,QAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,KAAJ,CAAU,CAAV,CAAD,CAAxB;AACA,QAAM,QAAQ,GAAG,IAAI,CAAC,IAAL,CAAU,SAAV,CAAjB;AACA,QAAM,UAAU,GAAG,aAAa,GAAG,QAAhB,GAA2B,IAAI,CAAC,IAAL,CAAU,KAAV,CAA9C;AACA,QAAM,IAAI,GAAG,CAAA,CAAA,EAAA,GAAA,GAAG,CAAC,KAAJ,MAAS,IAAT,IAAS,EAAA,KAAA,KAAA,CAAT,GAAS,KAAA,CAAT,GAAS,EAAA,CAAE,IAAX,KAAmB,GAAG,CAAC,KAAvB,KAA4B,CAAA,EAAA,GAAI,GAAG,CAAC,YAAR,MAAoB,IAApB,IAAoB,EAAA,KAAA,KAAA,CAApB,GAAoB,KAAA,CAApB,GAAoB,EAAA,CAAE,IAAlD,CAAb;AACA,QAAM,OAAO,GAAG,KAAK,CAAC,QAAN,CAAe,MAAf,EAAuB;AACrC,MAAA,KAAK,EAAA,QAAA,CAAA,QAAA,CAAA,QAAA,CAAA;AACH,QAAA,CAAC,EAAE,EAAE,GAAG,UAAU,GAAG,CADlB;AAEH,QAAA,CAAC,EAAE,EAAE,GAAG,UAAU,GAAG,CAFlB;AAGH,QAAA,KAAK,EAAE,UAHJ;AAIH,QAAA,MAAM,EAAE;AAJL,OAAA,EAKA,GAAG,CAAC,YALJ,CAAA,EAMA,GAAG,CAAC,KANJ,CAAA,EAMS;AACZ,QAAA,IAAI,EAAA;AADQ,OANT;AADgC,KAAvB,CAAhB;AAWA,WAAO,OAAP;AACD;AA3BgC,CAAtB,CAAb","sourcesContent":["import { registerShape } from '@antv/g2';\nimport { ShapeInfo } from '@antv/g2/lib/interface';\nimport { IGroup } from '@antv/g2/lib/dependents';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
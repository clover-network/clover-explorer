{"ast":null,"code":"\"use strict\";\n/**\n * @fileoverview marker\n * @author dengfuping_develop@163.com\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar util_1 = require(\"@antv/util\");\n\nvar base_1 = require(\"../base\");\n\nvar symbols_1 = require(\"./symbols\");\n\nvar Marker =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Marker, _super);\n\n  function Marker() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'marker';\n    _this.canFill = true;\n    _this.canStroke = true;\n    return _this;\n  }\n\n  Marker.prototype.createPath = function (context) {\n    var el = this.get('el');\n    el.setAttribute('d', this._assembleMarker());\n  };\n\n  Marker.prototype._assembleMarker = function () {\n    var d = this._getPath();\n\n    if (util_1.isArray(d)) {\n      return d.map(function (path) {\n        return path.join(' ');\n      }).join('');\n    }\n\n    return d;\n  };\n\n  Marker.prototype._getPath = function () {\n    var attrs = this.attr();\n    var x = attrs.x,\n        y = attrs.y; // 兼容 r 和 radius 两种写法，推荐使用 r\n\n    var r = attrs.r || attrs.radius;\n    var symbol = attrs.symbol || 'circle';\n    var method;\n\n    if (util_1.isFunction(symbol)) {\n      method = symbol;\n    } else {\n      method = symbols_1.default.get(symbol);\n    }\n\n    if (!method) {\n      console.warn(method + \" symbol is not exist.\");\n      return null;\n    }\n\n    return method(x, y, r);\n  }; // 作为其静态属性\n\n\n  Marker.symbolsFactory = symbols_1.default;\n  return Marker;\n}(base_1.default);\n\nexports.default = Marker;","map":{"version":3,"sources":["../../../src/shape/marker/index.ts"],"names":[],"mappings":";AAAA;;;AAGG;;;;;;;;AAEH,IAAA,MAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAEA,IAAA,MAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAqB,EAAA,OAAA,CAAA,SAAA,CAAA,MAAA,EAAA,MAAA;;AAArB,WAAA,MAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AACE,IAAA,KAAA,CAAA,IAAA,GAAe,QAAf;AACA,IAAA,KAAA,CAAA,OAAA,GAAmB,IAAnB;AACA,IAAA,KAAA,CAAA,SAAA,GAAqB,IAArB;;AAyCD;;AApCC,EAAA,MAAA,CAAA,SAAA,CAAA,UAAA,GAAA,UAAW,OAAX,EAAkB;AAChB,QAAM,EAAE,GAAG,KAAK,GAAL,CAAS,IAAT,CAAX;AACA,IAAA,EAAE,CAAC,YAAH,CAAgB,GAAhB,EAAqB,KAAK,eAAL,EAArB;AACD,GAHD;;AAKA,EAAA,MAAA,CAAA,SAAA,CAAA,eAAA,GAAA,YAAA;AACE,QAAM,CAAC,GAAG,KAAK,QAAL,EAAV;;AACA,QAAI,MAAA,CAAA,OAAA,CAAQ,CAAR,CAAJ,EAAgB;AACd,aAAO,CAAC,CACL,GADI,CACA,UAAC,IAAD,EAAK;AACR,eAAO,IAAI,CAAC,IAAL,CAAU,GAAV,CAAP;AACD,OAHI,EAIJ,IAJI,CAIC,EAJD,CAAP;AAKD;;AACD,WAAO,CAAP;AACD,GAVD;;AAYA,EAAA,MAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACE,QAAM,KAAK,GAAG,KAAK,IAAL,EAAd;AACQ,QAAA,CAAC,GAAQ,KAAK,CAAb,CAAD;AAAA,QAAG,CAAC,GAAK,KAAK,CAAV,CAAJ,CAFV,CAGE;;AACA,QAAM,CAAC,GAAG,KAAK,CAAC,CAAN,IAAW,KAAK,CAAC,MAA3B;AACA,QAAM,MAAM,GAAG,KAAK,CAAC,MAAN,IAAgB,QAA/B;AACA,QAAI,MAAJ;;AACA,QAAI,MAAA,CAAA,UAAA,CAAW,MAAX,CAAJ,EAAwB;AACtB,MAAA,MAAM,GAAG,MAAT;AACD,KAFD,MAEO;AACL,MAAA,MAAM,GAAG,SAAA,CAAA,OAAA,CAAe,GAAf,CAAmB,MAAnB,CAAT;AACD;;AAED,QAAI,CAAC,MAAL,EAAa;AACX,MAAA,OAAO,CAAC,IAAR,CAAgB,MAAM,GAAA,uBAAtB;AACA,aAAO,IAAP;AACD;;AACD,WAAO,MAAM,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAb;AACD,GAlBD,CAzBF,CAKE;;;AACc,EAAA,MAAA,CAAA,cAAA,GAAiB,SAAA,CAAA,OAAjB;AAsChB,SAAA,MAAA;AAAC,CA5CD,CAAqB,MAAA,CAAA,OAArB,CAAA;;AA8CA,OAAA,CAAA,OAAA,GAAe,MAAf","sourceRoot":"","sourcesContent":["\"use strict\";\n/**\n * @fileoverview marker\n * @author dengfuping_develop@163.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar base_1 = require(\"../base\");\nvar symbols_1 = require(\"./symbols\");\nvar Marker = /** @class */ (function (_super) {\n    tslib_1.__extends(Marker, _super);\n    function Marker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'marker';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Marker.prototype.createPath = function (context) {\n        var el = this.get('el');\n        el.setAttribute('d', this._assembleMarker());\n    };\n    Marker.prototype._assembleMarker = function () {\n        var d = this._getPath();\n        if (util_1.isArray(d)) {\n            return d\n                .map(function (path) {\n                return path.join(' ');\n            })\n                .join('');\n        }\n        return d;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        // 兼容 r 和 radius 两种写法，推荐使用 r\n        var r = attrs.r || attrs.radius;\n        var symbol = attrs.symbol || 'circle';\n        var method;\n        if (util_1.isFunction(symbol)) {\n            method = symbol;\n        }\n        else {\n            method = symbols_1.default.get(symbol);\n        }\n        if (!method) {\n            console.warn(method + \" symbol is not exist.\");\n            return null;\n        }\n        return method(x, y, r);\n    };\n    // 作为其静态属性\n    Marker.symbolsFactory = symbols_1.default;\n    return Marker;\n}(base_1.default));\nexports.default = Marker;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}
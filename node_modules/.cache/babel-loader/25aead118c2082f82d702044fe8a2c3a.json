{"ast":null,"code":"const indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\nexport function inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\nexport function inspectMatrixWithOptions(matrix, options = {}) {\n  const {\n    maxRows = 15,\n    maxColumns = 10,\n    maxNumSize = 8\n  } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\n\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize) {\n  const {\n    rows,\n    columns\n  } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize));\n    }\n\n    result.push(`${line.join(' ')}`);\n  }\n\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n\n  return result.join(`\\n${indentData}`);\n}\n\nfunction formatNumber(num, maxNumSize) {\n  const numStr = String(num);\n\n  if (numStr.length <= maxNumSize) {\n    return numStr.padEnd(maxNumSize, ' ');\n  }\n\n  const precise = num.toPrecision(maxNumSize - 2);\n\n  if (precise.length <= maxNumSize) {\n    return precise;\n  }\n\n  const exponential = num.toExponential(maxNumSize - 2);\n  const eIndex = exponential.indexOf('e');\n  const e = exponential.slice(eIndex);\n  return exponential.slice(0, maxNumSize - e.length) + e;\n}","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/ml-matrix/src/inspect.js"],"names":["indent","repeat","indentData","inspectMatrix","inspectMatrixWithOptions","matrix","options","maxRows","maxColumns","maxNumSize","constructor","name","inspectData","rows","columns","maxI","Math","min","maxJ","result","i","line","j","push","formatNumber","get","join","length","num","numStr","String","padEnd","precise","toPrecision","exponential","toExponential","eIndex","indexOf","e","slice"],"mappings":"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","sourcesContent":["const indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\n\nexport function inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\n\nexport function inspectMatrixWithOptions(matrix, options = {}) {\n  const { maxRows = 15, maxColumns = 10, maxNumSize = 8 } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\n\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize) {\n  const { rows, columns } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indentData}`);\n}\n\nfunction formatNumber(num, maxNumSize) {\n  const numStr = String(num);\n  if (numStr.length <= maxNumSize) {\n    return numStr.padEnd(maxNumSize, ' ');\n  }\n  const precise = num.toPrecision(maxNumSize - 2);\n  if (precise.length <= maxNumSize) {\n    return precise;\n  }\n  const exponential = num.toExponential(maxNumSize - 2);\n  const eIndex = exponential.indexOf('e');\n  const e = exponential.slice(eIndex);\n  return exponential.slice(0, maxNumSize - e.length) + e;\n}\n"]},"metadata":{},"sourceType":"module"}
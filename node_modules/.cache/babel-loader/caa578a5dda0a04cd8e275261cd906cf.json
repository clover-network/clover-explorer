{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\"use strict\";\n\nvar tslib_1 = require(\"tslib\");\n\nvar zrender = require(\"zrender/lib/zrender\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar colorTool = require(\"zrender/lib/tool/color\");\n\nvar env_1 = require(\"zrender/lib/core/env\");\n\nvar timsort_1 = require(\"zrender/lib/core/timsort\");\n\nvar Eventful_1 = require(\"zrender/lib/core/Eventful\");\n\nvar Global_1 = require(\"./model/Global\");\n\nvar ExtensionAPI_1 = require(\"./ExtensionAPI\");\n\nvar CoordinateSystem_1 = require(\"./CoordinateSystem\");\n\nvar OptionManager_1 = require(\"./model/OptionManager\");\n\nvar backwardCompat_1 = require(\"./preprocessor/backwardCompat\");\n\nvar dataStack_1 = require(\"./processor/dataStack\");\n\nvar Component_1 = require(\"./model/Component\");\n\nvar Series_1 = require(\"./model/Series\");\n\nvar Component_2 = require(\"./view/Component\");\n\nvar Chart_1 = require(\"./view/Chart\");\n\nvar graphic = require(\"./util/graphic\");\n\nvar innerStore_1 = require(\"./util/innerStore\");\n\nvar states_1 = require(\"./util/states\");\n\nvar modelUtil = require(\"./util/model\");\n\nvar throttle_1 = require(\"./util/throttle\");\n\nvar style_1 = require(\"./visual/style\");\n\nvar default_1 = require(\"./loading/default\");\n\nvar Scheduler_1 = require(\"./stream/Scheduler\");\n\nvar light_1 = require(\"./theme/light\");\n\nvar dark_1 = require(\"./theme/dark\");\n\nrequire(\"./component/dataset\");\n\nvar mapDataStorage_1 = require(\"./coord/geo/mapDataStorage\");\n\nvar clazz_1 = require(\"./util/clazz\");\n\nvar ECEventProcessor_1 = require(\"./util/ECEventProcessor\");\n\nvar symbol_1 = require(\"./visual/symbol\");\n\nvar helper_1 = require(\"./visual/helper\");\n\nvar LabelManager_1 = require(\"./label/LabelManager\");\n\nvar log_1 = require(\"./util/log\");\n\nvar dataSelectAction_1 = require(\"./legacy/dataSelectAction\");\n\nrequire(\"zrender/lib/canvas/canvas\");\n\nvar transform_1 = require(\"./data/helper/transform\");\n\nvar locale_1 = require(\"./locale\");\n\nvar event_1 = require(\"./util/event\");\n\nvar decal_1 = require(\"./visual/decal\");\n\nvar assert = zrUtil.assert;\nvar each = zrUtil.each;\nvar isFunction = zrUtil.isFunction;\nvar isObject = zrUtil.isObject;\nexports.version = '5.0.0';\nexports.dependencies = {\n  zrender: '5.0.1'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800;\nvar PRIORITY_PROCESSOR_DATASTACK = 900;\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000;\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500;\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexports.PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n};\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\nvar OPTION_UPDATED_KEY = '__optionUpdated';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\n\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful_1[\"default\"].prototype[method].apply(host, args);\n}\n\nvar MessageCenter = function (_super) {\n  tslib_1.__extends(MessageCenter, _super);\n\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return MessageCenter;\n}(Eventful_1[\"default\"]);\n\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off');\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar clearColorPalette;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar performPostUpdateFuncs;\nvar createExtensionAPI;\nvar enableConnect;\nvar setTransitionOpt;\nvar markStatusToUpdate;\nvar applyChangedStates;\n\nvar ECharts = function (_super) {\n  tslib_1.__extends(ECharts, _super);\n\n  function ECharts(dom, theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor_1.ECEventProcessor()) || this;\n\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {};\n    _this._pendingActions = [];\n    opts = opts || {};\n\n    if (typeof theme === 'string') {\n      theme = themeStorage[theme];\n    }\n\n    _this._dom = dom;\n    var root = typeof window === 'undefined' ? global : window;\n    var defaultRenderer = 'canvas';\n    var defaultUseDirtyRect = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      defaultRenderer = root.__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;\n      var devUseDirtyRect = root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;\n      defaultUseDirtyRect = devUseDirtyRect == null ? defaultUseDirtyRect : devUseDirtyRect;\n    }\n\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      useDirtyRect: opts.useDirtyRect == null ? defaultUseDirtyRect : opts.useDirtyRect\n    });\n    _this._throttledZrFlush = throttle_1.throttle(zrUtil.bind(zr.flush, zr), 17);\n    theme = zrUtil.clone(theme);\n    theme && backwardCompat_1[\"default\"](theme, true);\n    _this._theme = theme;\n    _this._locale = locale_1.createLocaleObject(opts.locale || locale_1.SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystem_1[\"default\"]();\n    var api = _this._api = createExtensionAPI(_this);\n\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n\n    timsort_1[\"default\"](visualFuncs, prioritySortFunc);\n    timsort_1[\"default\"](dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler_1[\"default\"](_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter();\n    _this._labelManager = new LabelManager_1[\"default\"]();\n\n    _this._initEvents();\n\n    _this.resize = zrUtil.bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this);\n    zrUtil.setAsPrimitive(_this);\n    return _this;\n  }\n\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    applyChangedStates(this);\n    var scheduler = this._scheduler;\n\n    if (this[OPTION_UPDATED_KEY]) {\n      var silent = this[OPTION_UPDATED_KEY].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n      prepare(this);\n      updateMethods.update.call(this);\n\n      this._zr.flush();\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[OPTION_UPDATED_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } else if (scheduler.unfinished) {\n      var remainTime = TEST_FRAME_REMAIN_TIME;\n      var ecModel = this._model;\n      var api = this._api;\n      scheduler.unfinished = false;\n\n      do {\n        var startTime = +new Date();\n        scheduler.performSeriesTasks(ecModel);\n        scheduler.performDataProcessorTasks(ecModel);\n        updateStreamModes(this, ecModel);\n        scheduler.performVisualTasks(ecModel);\n        renderSeries(this, this._model, api, 'remain');\n        remainTime -= +new Date() - startTime;\n      } while (remainTime > 0 && scheduler.unfinished);\n\n      if (!scheduler.unfinished) {\n        this._zr.flush();\n      }\n    }\n  };\n\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`setOption` should not be called during main process.');\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS_KEY] = true;\n\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager_1[\"default\"](this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new Global_1[\"default\"]();\n      ecModel.scheduler = this._scheduler;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n\n    setTransitionOpt(this, transitionOpt);\n\n    if (lazyUpdate) {\n      this[OPTION_UPDATED_KEY] = {\n        silent: silent\n      };\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this.getZr().wakeUp();\n    } else {\n      prepare(this);\n      updateMethods.update.call(this);\n\n      this._zr.flush();\n\n      this[OPTION_UPDATED_KEY] = false;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n\n  ECharts.prototype.setTheme = function () {\n    console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr || window.devicePixelRatio || 1;\n  };\n\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (!env_1[\"default\"].canvasSupported) {\n      return;\n    }\n\n    opts = zrUtil.extend({}, opts || {});\n    opts.pixelRatio = opts.pixelRatio || 1;\n    opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n    var zr = this._zr;\n    return zr.painter.getRenderedCanvas(opts);\n  };\n\n  ECharts.prototype.getSvgDataURL = function () {\n    if (!env_1[\"default\"].svgSupported) {\n      return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    zrUtil.each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!env_1[\"default\"].canvasSupported) {\n      return;\n    }\n\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || 1;\n      zrUtil.each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.getRenderedCanvas(zrUtil.clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = zrUtil.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n\n  ECharts.prototype.convertToPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertToPixel', finder, value);\n  };\n\n  ECharts.prototype.convertFromPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\n  };\n\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    zrUtil.each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && zrUtil.each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              console.warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        console.warn('There is no specified seires model');\n      }\n    }\n\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? helper_1.getItemVisualFromData(data, dataIndexInside, visualType) : helper_1.getVisualFromData(data, visualType);\n  };\n\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout';\n\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && event_1.findEventDispatcher(el, function (parent) {\n            var ecData = innerStore_1.getECData(parent);\n\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType) || {};\n              return true;\n            } else if (ecData.eventData) {\n              params = zrUtil.extend({}, ecData.eventData);\n              return true;\n            }\n          }, true);\n        }\n\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex;\n\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n\n          if (process.env.NODE_ENV !== 'production') {\n            if (!isGlobalOut && !(model && view)) {\n              console.warn('model or view can not be found by params');\n            }\n          }\n\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n\n          _this.trigger(eveName, params);\n        }\n      };\n\n      handler.zrEventfulCallAtLast = true;\n\n      _this._zr.on(eveName, handler, _this);\n    });\n    each(eventActionMap, function (actionType, eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    each(['selectchanged'], function (eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    dataSelectAction_1.handleLegacySelectEvents(this._messageCenter, this, this._model);\n  };\n\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this.setOption({\n      series: []\n    }, true);\n  };\n\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._disposed = true;\n    modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    var api = this._api;\n    var ecModel = this._model;\n    each(this._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    });\n\n    this._zr.dispose();\n\n    delete instances[this.id];\n  };\n\n  ECharts.prototype.resize = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`resize` should not be called during main process.');\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._zr.resize(opts);\n\n    var ecModel = this._model;\n    this._loadingFX && this._loadingFX.resize();\n\n    if (!ecModel) {\n      return;\n    }\n\n    var optionChanged = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    this[IN_MAIN_PROCESS_KEY] = true;\n    optionChanged && prepare(this);\n    updateMethods.update.call(this, {\n      type: 'resize',\n      animation: {\n        duration: 0\n      }\n    });\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n\n    name = name || 'default';\n    this.hideLoading();\n\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Loading effects ' + name + ' not exists.');\n      }\n\n      return;\n    }\n\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = zrUtil.extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n\n    if (!actions[payload.type]) {\n      return;\n    }\n\n    if (!this._model) {\n      return;\n    }\n\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n\n      return;\n    }\n\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env_1[\"default\"].browser.weChat) {\n      this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.updateLabelLayout = function () {\n    var labelManager = this._labelManager;\n    labelManager.updateLayoutConfig(this._api);\n    labelManager.layout(this._api);\n    labelManager.processLabelsOverall();\n  };\n\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n\n    seriesModel.appendData(params);\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  };\n\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n\n      function doPrepare(model) {\n        var requireNewView = model.__requireNewView;\n        model.__requireNewView = false;\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n\n        if (!view) {\n          var classType = clazz_1.parseClassType(model.type);\n          var Clazz = isComponent ? Component_2[\"default\"].getClass(classType.main, classType.sub) : Chart_1[\"default\"].getClass(classType.sub);\n\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload);\n\n      if (!mainType) {\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType);\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = zrUtil.createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      }\n\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        if (!excludeSeriesIdMap || excludeSeriesIdMap.get(model.id) == null) {\n          if (states_1.isHighDownPayload(payload) && !payload.notBlur) {\n            if (model instanceof Series_1[\"default\"]) {\n              states_1.toggleSeriesBlurStateFromPayload(model, payload, ecIns._api);\n            }\n          } else if (states_1.isSelectChangePayload(payload)) {\n            if (model instanceof Series_1[\"default\"]) {\n              states_1.toggleSelectionFromPayload(model, payload, ecIns._api);\n              states_1.updateSeriesElementSelection(model);\n              markStatusToUpdate(ecIns);\n            }\n          }\n\n          callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n        }\n      }, ecIns);\n\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload);\n      },\n      update: function (payload) {\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel);\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload);\n        updateStreamModes(this, ecModel);\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        render(this, ecModel, api, payload);\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        var darkMode = ecModel.get('darkMode');\n\n        if (!env_1[\"default\"].canvasSupported) {\n          var colorArr = colorTool.parse(backgroundColor);\n          backgroundColor = colorTool.stringify(colorArr, 'rgb');\n\n          if (colorArr[3] === 0) {\n            backgroundColor = 'transparent';\n          }\n        } else {\n          zr.setBackgroundColor(backgroundColor);\n\n          if (darkMode != null && darkMode !== 'auto') {\n            zr.setDarkMode(darkMode);\n          }\n        }\n\n        performPostUpdateFuncs(ecModel, api);\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n\n        var ecModel = this._model;\n        var api = this._api;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n\n          var componentView = _this.getViewOfComponentModel(componentModel);\n\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = zrUtil.createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        });\n\n        renderSeries(this, ecModel, api, payload, seriesDirtyMap);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        Chart_1[\"default\"].markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n\n        render(this, this._model, this._api, payload);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        var _this = this;\n\n        var ecModel = this._model;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        });\n        Chart_1[\"default\"].markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n\n    doConvertPixel = function (ecIns, methodName, finder, value) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n\n      var ecModel = ecIns._model;\n\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\n          return result;\n        }\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    };\n\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionWrap = actions[payloadType];\n      var actionInfo = actionWrap.actionInfo;\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && clazz_1.parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      var payloads = [payload];\n      var batched = false;\n\n      if (payload.batch) {\n        batched = true;\n        payloads = zrUtil.map(payload.batch, function (item) {\n          item = zrUtil.defaults(zrUtil.extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n\n      var eventObjBatch = [];\n      var eventObj;\n      var isSelectChange = states_1.isSelectChangePayload(payload);\n      var isStatusChange = states_1.isHighDownPayload(payload) || isSelectChange;\n      each(payloads, function (batchItem) {\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api);\n        eventObj = eventObj || zrUtil.extend({}, batchItem);\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj);\n\n        if (isStatusChange) {\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n\n      if (updateMethod !== 'none' && !isStatusChange && !cptType) {\n        if (this[OPTION_UPDATED_KEY]) {\n          prepare(this);\n          updateMethods.update.call(this, payload);\n          this[OPTION_UPDATED_KEY] = false;\n        } else {\n          updateMethods[updateMethod].call(this, payload);\n        }\n      }\n\n      if (batched) {\n        eventObj = {\n          type: actionInfo.event || payloadType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n\n      if (!silent) {\n        var messageCenter = this._messageCenter;\n        messageCenter.trigger(eventObj.type, eventObj);\n\n        if (isSelectChange) {\n          var newObj = {\n            type: 'selectchanged',\n            escapeConnect: escapeConnect,\n            selected: states_1.getAllSelectedIndices(ecModel),\n            isFromClick: payload.isFromClick || false,\n            fromAction: payload.type,\n            fromActionPayload: payload\n          };\n          messageCenter.trigger(newObj.type, newObj);\n        }\n      }\n    };\n\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params);\n\n        if (zr.animation.isFinished() && !ecIns[OPTION_UPDATED_KEY] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, states_1.isHighDownDispatcher);\n\n        if (dispatcher) {\n          var ecData = innerStore_1.getECData(dispatcher);\n          states_1.toggleSeriesBlurState(ecData.seriesIndex, ecData.focus, ecData.blurScope, ecIns._api, true);\n          states_1.enterEmphasisWhenMouseOver(dispatcher, e);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, states_1.isHighDownDispatcher);\n\n        if (dispatcher) {\n          var ecData = innerStore_1.getECData(dispatcher);\n          states_1.toggleSeriesBlurState(ecData.seriesIndex, ecData.focus, ecData.blurScope, ecIns._api, false);\n          states_1.leaveEmphasisWhenMouseOut(dispatcher, e);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, function (target) {\n          return innerStore_1.getECData(target).dataIndex != null;\n        }, true);\n\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = innerStore_1.getECData(dispatcher);\n\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n\n    clearColorPalette = function (ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    };\n\n    render = function (ecIns, ecModel, api, payload) {\n      renderComponents(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n\n    renderComponents = function (ecIns, ecModel, api, payload, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n\n    renderSeries = function (ecIns, ecModel, api, payload, dirtyMap) {\n      var scheduler = ecIns._scheduler;\n      var labelManager = ecIns._labelManager;\n      labelManager.clearLabels();\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload);\n        clearStates(seriesModel, chartView);\n\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n\n        seriesModel.__transientTransitionOpt = null;\n        chartView.group.silent = !!seriesModel.get('silent');\n        updateBlend(seriesModel, chartView);\n        states_1.updateSeriesElementSelection(seriesModel);\n        labelManager.addLabelsOfSeries(chartView);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      labelManager.updateLayoutConfig(api);\n      labelManager.layout(api);\n      labelManager.processLabelsOverall();\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        updateZ(seriesModel, chartView);\n        updateStates(seriesModel, chartView);\n      });\n      updateHoverLayerStatus(ecIns, ecModel);\n    };\n\n    performPostUpdateFuncs = function (ecModel, api) {\n      each(postUpdateFuncs, function (func) {\n        func(ecModel, api);\n      });\n    };\n\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true;\n      ecIns.getZr().wakeUp();\n    };\n\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n\n      ecIns.getZr().storage.traverse(function (el) {\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates;\n\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      }\n\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n\n      if (el.hoverState === states_1.HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === states_1.HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n\n      el.useStates(newStates);\n    }\n\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env_1[\"default\"].node && !env_1[\"default\"].worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n          if (chartView.__alive) {\n            chartView.group.traverse(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n\n    ;\n\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!env_1[\"default\"].canvasSupported && blendMode && blendMode !== 'source-over') {\n          console.warn('Only canvas support blendMode');\n        }\n      }\n\n      chartView.group.traverse(function (el) {\n        if (!el.isGroup) {\n          el.style.blend = blendMode;\n        }\n\n        if (el.eachPendingDisplayable) {\n          el.eachPendingDisplayable(function (displayable) {\n            displayable.style.blend = blendMode;\n          });\n        }\n      });\n    }\n\n    ;\n\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      }\n\n      var z = model.get('z');\n      var zlevel = model.get('zlevel');\n      view.group.traverse(function (el) {\n        if (!el.isGroup) {\n          z != null && (el.z = z);\n          zlevel != null && (el.zlevel = zlevel);\n          var label = el.getTextContent();\n          var labelLine = el.getTextGuideLine();\n\n          if (label) {\n            label.z = el.z;\n            label.zlevel = el.zlevel;\n            label.z2 = el.z2 + 2;\n          }\n\n          if (labelLine) {\n            var showAbove = el.textGuideLineConfig && el.textGuideLineConfig.showAbove;\n            labelLine.z = el.z;\n            labelLine.zlevel = el.zlevel;\n            labelLine.z2 = el.z2 + (showAbove ? 1 : -1);\n          }\n        }\n      });\n    }\n\n    ;\n\n    function clearStates(model, view) {\n      view.group.traverse(function (el) {\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        }\n\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing')\n      } : null;\n      view.group.traverse(function (el) {\n        if (el.states && el.states.emphasis) {\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n\n          if (el instanceof graphic.Path) {\n            states_1.savePathStates(el);\n          }\n\n          if (el.__dirty) {\n            var prevStates = el.prevStates;\n\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          }\n\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine();\n\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          }\n\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n\n    ;\n\n    createExtensionAPI = function (ecIns) {\n      return new (function (_super) {\n        tslib_1.__extends(class_1, _super);\n\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n\n            el = el.parent;\n          }\n        };\n\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          states_1.enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          states_1.leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterBlur = function (el) {\n          states_1.enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveBlur = function (el) {\n          states_1.leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterSelect = function (el) {\n          states_1.enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveSelect = function (el) {\n          states_1.leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n\n        return class_1;\n      }(ExtensionAPI_1[\"default\"]))(ecIns);\n    };\n\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n\n      each(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n\n    setTransitionOpt = function (chart, transitionOpt) {\n      var ecModel = chart._model;\n      zrUtil.each(modelUtil.normalizeToArray(transitionOpt), function (transOpt) {\n        var errMsg;\n        var fromOpt = transOpt.from;\n        var toOpt = transOpt.to;\n\n        if (toOpt == null) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.to` must be specified.';\n          }\n\n          log_1.throwError(errMsg);\n        }\n\n        var finderOpt = {\n          includeMainTypes: ['series'],\n          enableAll: false,\n          enableNone: false\n        };\n        var fromResult = fromOpt ? modelUtil.parseFinder(ecModel, fromOpt, finderOpt) : null;\n        var toResult = modelUtil.parseFinder(ecModel, toOpt, finderOpt);\n        var toSeries = toResult.seriesModel;\n\n        if (toSeries == null) {\n          errMsg = '';\n\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition` is only supported on series.';\n          }\n        }\n\n        if (fromResult && fromResult.seriesModel !== toSeries) {\n          errMsg = '';\n\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.from` and `transition.to` must be specified to the same series.';\n          }\n        }\n\n        if (errMsg != null) {\n          log_1.throwError(errMsg);\n        }\n\n        toSeries.__transientTransitionOpt = {\n          from: fromOpt ? fromOpt.dimension : null,\n          to: toOpt.dimension,\n          dividingMethod: transOpt.dividingMethod\n        };\n      });\n    };\n  }();\n\n  return ECharts;\n}(Eventful_1[\"default\"]);\n\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\n\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  log_1.deprecateLog('ECharts#one is deprecated.');\n\n  function wrapped() {\n    var args2 = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n\n    cb && cb.apply && cb.apply(this, args2);\n    self.off(eventName, wrapped);\n  }\n\n  ;\n  this.on.call(this, eventName, wrapped, ctx);\n};\n\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn('Instance ' + id + ' has been disposed');\n  }\n}\n\nvar actions = {};\nvar eventActionMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar postInitFuncs = [];\nvar postUpdateFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n\nfunction init(dom, theme, opts) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!dom) {\n      throw new Error('Initialize failed: invalid dom.');\n    }\n  }\n\n  var existInstance = getInstanceByDom(dom);\n\n  if (existInstance) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('There is a chart instance already initialized on the dom.');\n    }\n\n    return existInstance;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (zrUtil.isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n      console.warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n    }\n  }\n\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  each(postInitFuncs, function (postInitFunc) {\n    postInitFunc(chart);\n  });\n  return chart;\n}\n\nexports.init = init;\n\nfunction connect(groupId) {\n  if (zrUtil.isArray(groupId)) {\n    var charts = groupId;\n    groupId = null;\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n\n  connectedGroups[groupId] = true;\n  return groupId;\n}\n\nexports.connect = connect;\n\nfunction disConnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n\nexports.disConnect = disConnect;\nexports.disconnect = disConnect;\n\nfunction dispose(chart) {\n  if (typeof chart === 'string') {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    chart = getInstanceByDom(chart);\n  }\n\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\n\nexports.dispose = dispose;\n\nfunction getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\n\nexports.getInstanceByDom = getInstanceByDom;\n\nfunction getInstanceById(key) {\n  return instances[key];\n}\n\nexports.getInstanceById = getInstanceById;\n\nfunction registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n\nexports.registerTheme = registerTheme;\n\nfunction registerPreprocessor(preprocessorFunc) {\n  optionPreprocessorFuncs.push(preprocessorFunc);\n}\n\nexports.registerPreprocessor = registerPreprocessor;\n\nfunction registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\n\nexports.registerProcessor = registerProcessor;\n\nfunction registerPostInit(postInitFunc) {\n  postInitFunc && postInitFuncs.push(postInitFunc);\n}\n\nexports.registerPostInit = registerPostInit;\n\nfunction registerPostUpdate(postUpdateFunc) {\n  postUpdateFunc && postUpdateFuncs.push(postUpdateFunc);\n}\n\nexports.registerPostUpdate = registerPostUpdate;\n\nfunction registerAction(actionInfo, eventName, action) {\n  if (typeof eventName === 'function') {\n    action = eventName;\n    eventName = '';\n  }\n\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0];\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event;\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n\n  eventActionMap[eventName] = actionType;\n}\n\nexports.registerAction = registerAction;\n\nfunction registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystem_1[\"default\"].register(type, coordSysCreator);\n}\n\nexports.registerCoordinateSystem = registerCoordinateSystem;\n\nfunction getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystem_1[\"default\"].get(type);\n\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\n\nexports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\n\nvar locale_2 = require(\"./locale\");\n\nexports.registerLocale = locale_2.registerLocale;\n\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\n\nexports.registerLayout = registerLayout;\n\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\n\nexports.registerVisual = registerVisual;\n\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    }\n\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  }\n\n  var stageHandler = Scheduler_1[\"default\"].wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\n\nfunction registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n\nexports.registerLoading = registerLoading;\n\nfunction extendComponentModel(proto) {\n  return Component_1[\"default\"].extend(proto);\n}\n\nexports.extendComponentModel = extendComponentModel;\n\nfunction extendComponentView(proto) {\n  return Component_2[\"default\"].extend(proto);\n}\n\nexports.extendComponentView = extendComponentView;\n\nfunction extendSeriesModel(proto) {\n  return Series_1[\"default\"].extend(proto);\n}\n\nexports.extendSeriesModel = extendSeriesModel;\n\nfunction extendChartView(proto) {\n  return Chart_1[\"default\"].extend(proto);\n}\n\nexports.extendChartView = extendChartView;\n\nfunction setCanvasCreator(creator) {\n  zrUtil.$override('createCanvas', creator);\n}\n\nexports.setCanvasCreator = setCanvasCreator;\n\nfunction registerMap(mapName, geoJson, specialAreas) {\n  mapDataStorage_1[\"default\"].registerMap(mapName, geoJson, specialAreas);\n}\n\nexports.registerMap = registerMap;\n\nfunction getMap(mapName) {\n  var records = mapDataStorage_1[\"default\"].retrieveMap(mapName);\n  return records && records[0] && {\n    geoJson: records[0].geoJSON,\n    specialAreas: records[0].specialAreas\n  };\n}\n\nexports.getMap = getMap;\nexports.registerTransform = transform_1.registerExternalTransform;\nregisterVisual(PRIORITY_VISUAL_GLOBAL, style_1.seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, style_1.dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, style_1.dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, symbol_1.seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, symbol_1.dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal_1[\"default\"]);\nregisterPreprocessor(backwardCompat_1[\"default\"]);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack_1[\"default\"]);\nregisterLoading('default', default_1[\"default\"]);\nregisterAction({\n  type: states_1.HIGHLIGHT_ACTION_TYPE,\n  event: states_1.HIGHLIGHT_ACTION_TYPE,\n  update: states_1.HIGHLIGHT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.DOWNPLAY_ACTION_TYPE,\n  event: states_1.DOWNPLAY_ACTION_TYPE,\n  update: states_1.DOWNPLAY_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.SELECT_ACTION_TYPE,\n  event: states_1.SELECT_ACTION_TYPE,\n  update: states_1.SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.UNSELECT_ACTION_TYPE,\n  event: states_1.UNSELECT_ACTION_TYPE,\n  update: states_1.UNSELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.TOGGLE_SELECT_ACTION_TYPE,\n  event: states_1.TOGGLE_SELECT_ACTION_TYPE,\n  update: states_1.TOGGLE_SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterTheme('light', light_1[\"default\"]);\nregisterTheme('dark', dark_1[\"default\"]);\nexports.dataTool = {};","map":{"version":3,"sources":["/Users/wanglijie/wanglijie/clover-defi-wallet/node_modules/echarts/lib/echarts.js"],"names":["tslib_1","require","zrender","zrUtil","colorTool","env_1","timsort_1","Eventful_1","Global_1","ExtensionAPI_1","CoordinateSystem_1","OptionManager_1","backwardCompat_1","dataStack_1","Component_1","Series_1","Component_2","Chart_1","graphic","innerStore_1","states_1","modelUtil","throttle_1","style_1","default_1","Scheduler_1","light_1","dark_1","mapDataStorage_1","clazz_1","ECEventProcessor_1","symbol_1","helper_1","LabelManager_1","log_1","dataSelectAction_1","transform_1","locale_1","event_1","decal_1","assert","each","isFunction","isObject","exports","version","dependencies","TEST_FRAME_REMAIN_TIME","PRIORITY_PROCESSOR_SERIES_FILTER","PRIORITY_PROCESSOR_DATASTACK","PRIORITY_PROCESSOR_FILTER","PRIORITY_PROCESSOR_DEFAULT","PRIORITY_PROCESSOR_STATISTIC","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_PROGRESSIVE_LAYOUT","PRIORITY_VISUAL_GLOBAL","PRIORITY_VISUAL_CHART","PRIORITY_VISUAL_COMPONENT","PRIORITY_VISUAL_CHART_DATA_CUSTOM","PRIORITY_VISUAL_POST_CHART_LAYOUT","PRIORITY_VISUAL_BRUSH","PRIORITY_VISUAL_ARIA","PRIORITY_VISUAL_DECAL","PRIORITY","PROCESSOR","FILTER","SERIES_FILTER","STATISTIC","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","GLOBAL","CHART","POST_CHART_LAYOUT","COMPONENT","BRUSH","CHART_ITEM","ARIA","DECAL","IN_MAIN_PROCESS_KEY","OPTION_UPDATED_KEY","STATUS_NEEDS_UPDATE_KEY","ACTION_REG","CONNECT_STATUS_KEY","CONNECT_STATUS_PENDING","CONNECT_STATUS_UPDATING","CONNECT_STATUS_UPDATED","createRegisterEventWithLowercaseECharts","method","args","_i","arguments","length","isDisposed","disposedWarning","id","toLowercaseNameAndCallEventful","createRegisterEventWithLowercaseMessageCenter","host","toLowerCase","prototype","apply","MessageCenter","_super","__extends","messageCenterProto","on","off","prepare","prepareView","updateDirectly","updateMethods","doConvertPixel","updateStreamModes","doDispatchAction","flushPendingActions","triggerUpdatedEvent","bindRenderedEvent","bindMouseEvent","clearColorPalette","render","renderComponents","renderSeries","performPostUpdateFuncs","createExtensionAPI","enableConnect","setTransitionOpt","markStatusToUpdate","applyChangedStates","ECharts","dom","theme","opts","_this","call","ECEventProcessor","_chartsViews","_chartsMap","_componentsViews","_componentsMap","_pendingActions","themeStorage","_dom","root","window","global","defaultRenderer","defaultUseDirtyRect","process","env","NODE_ENV","__ECHARTS__DEFAULT__RENDERER__","devUseDirtyRect","__ECHARTS__DEFAULT__USE_DIRTY_RECT__","zr","_zr","init","renderer","devicePixelRatio","width","height","useDirtyRect","_throttledZrFlush","throttle","bind","flush","clone","_theme","_locale","createLocaleObject","locale","SYSTEM_LANG","_coordSysMgr","api","_api","prioritySortFunc","a","b","__prio","visualFuncs","dataProcessorFuncs","_scheduler","_messageCenter","_labelManager","_initEvents","resize","animation","_onframe","setAsPrimitive","_disposed","scheduler","silent","update","unfinished","remainTime","ecModel","_model","startTime","Date","performSeriesTasks","performDataProcessorTasks","performVisualTasks","getDom","getId","getZr","setOption","option","notMerge","lazyUpdate","replaceMerge","transitionOpt","transition","optionManager","optionPreprocessorFuncs","wakeUp","setTheme","console","error","getModel","getOption","getWidth","getHeight","getDevicePixelRatio","painter","dpr","getRenderedCanvas","canvasSupported","extend","pixelRatio","backgroundColor","get","getSvgDataURL","svgSupported","list","storage","getDisplayList","el","stopAnimation","toDataURL","getDataURL","excludeComponents","excludesComponentViews","self","componentType","eachComponent","mainType","component","view","__viewId","group","ignore","push","url","getType","type","getConnectedDataURL","isSvg","groupId","mathMin","Math","min","mathMax","max","MAX_NUMBER","Infinity","connectedGroups","left_1","top_1","right_1","bottom_1","canvasList_1","dpr_1","instances","chart","canvas","getSvgDom","innerHTML","boundingRect","getBoundingClientRect","left","top","right","bottom","targetCanvas","createCanvas","zr_1","content_1","item","x","y","getSvgRoot","connectedBackgroundColor","setBackgroundColor","refreshImmediately","add","Rect","shape","style","fill","img","Image","image","convertToPixel","finder","value","convertFromPixel","containPixel","result","findResult","parseFinder","models","key","indexOf","model","coordSys","coordinateSystem","containPoint","warn","getVisual","visualType","parsedFinder","defaultMainType","seriesModel","data","getData","dataIndexInside","hasOwnProperty","indexOfRawIndex","dataIndex","getItemVisualFromData","getVisualFromData","getViewOfComponentModel","componentModel","getViewOfSeriesModel","MOUSE_EVENT_NAMES","eveName","handler","e","target","params","isGlobalOut","findEventDispatcher","parent","ecData","getECData","dataModel","getSeriesByIndex","seriesIndex","getDataParams","dataType","eventData","componentIndex","getComponent","event","_$eventProcessor","eventInfo","targetEl","packedEvent","trigger","zrEventfulCallAtLast","eventActionMap","actionType","eventType","handleLegacySelectEvents","clear","series","dispose","setAttribute","DOM_ATTRIBUTE_KEY","_loadingFX","optionChanged","resetOption","duration","showLoading","name","cfg","hideLoading","loadingEffects","remove","makeActionFromEvent","eventObj","payload","dispatchAction","opt","actions","browser","weChat","updateLabelLayout","labelManager","updateLayoutConfig","layout","processLabelsOverall","appendData","internalField","ecIns","restorePipelines","prepareStageTasks","plan","isComponent","viewList","viewMap","i","__alive","doPrepare","eachSeries","requireNewView","__requireNewView","viewId","classType","parseClassType","Clazz","getClass","main","sub","__id","__model","__ecComponentInfo","index","renderTask","splice","subType","setUpdatePayload","concat","callView","query","condition","excludeSeriesId","excludeSeriesIdMap","createHashMap","normalizeToArray","modelId","convertOptionIdName","set","isHighDownPayload","notBlur","toggleSeriesBlurStateFromPayload","isSelectChangePayload","toggleSelectionFromPayload","updateSeriesElementSelection","prepareAndUpdate","coordSysMgr","restoreData","create","darkMode","colorArr","parse","stringify","setDarkMode","updateTransform","componentDirtyList","componentView","seriesDirtyMap","chartView","uid","setDirty","dirtyMap","updateView","markUpdateMethod","updateVisual","clearAllVisual","updateLayout","methodName","coordSysList","getCoordinateSystems","chartsMap","payloadType","escapeConnect","actionWrap","actionInfo","cptTypeTmp","split","updateMethod","pop","cptType","payloads","batched","batch","map","defaults","eventObjBatch","isSelectChange","isStatusChange","batchItem","action","messageCenter","newObj","selected","getAllSelectedIndices","isFromClick","fromAction","fromActionPayload","pendingActions","shift","isFinished","dispatcher","isHighDownDispatcher","toggleSeriesBlurState","focus","blurScope","enterEmphasisWhenMouseOver","leaveEmphasisWhenMouseOut","dirtyList","clearStates","updateZ","updateStates","clearLabels","updatePayload","dirty","perform","getPerformArgs","__transientTransitionOpt","updateBlend","addLabelsOfSeries","updateHoverLayerStatus","postUpdateFuncs","func","traverse","isElementRemoved","applyElementStates","newStates","oldStates","currentStates","stateName","states","select","hoverState","HOVER_STATE_EMPHASIS","emphasis","HOVER_STATE_BLUR","blur","useStates","elCount","isGroup","node","worker","preventUsingHoverLayer","hoverLayer","blendMode","blend","eachPendingDisplayable","displayable","preventAutoZ","z","zlevel","label","getTextContent","labelLine","getTextGuideLine","z2","showAbove","textGuideLineConfig","textContent","textGuide","stateTransition","hasState","prevStates","stateAnimationModel","enableAnimation","isAnimationEnabled","delay","easing","Path","savePathStates","__dirty","class_1","getComponentByElement","modelInfo","enterEmphasis","highlightDigit","leaveEmphasis","enterBlur","leaveBlur","enterSelect","leaveSelect","updateConnectedChartsStatus","charts","status","otherChart","action_1","otherCharts_1","transOpt","errMsg","fromOpt","from","toOpt","to","throwError","finderOpt","includeMainTypes","enableAll","enableNone","fromResult","toResult","toSeries","dimension","dividingMethod","echartsProto","one","eventName","cb","ctx","deprecateLog","wrapped","args2","postInitFuncs","idBase","groupIdBase","Error","existInstance","getInstanceByDom","isDom","nodeName","toUpperCase","clientWidth","clientHeight","postInitFunc","connect","isArray","disConnect","disconnect","getAttribute","getInstanceById","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processor","normalizeRegister","registerPostInit","registerPostUpdate","postUpdateFunc","registerAction","test","registerCoordinateSystem","coordSysCreator","register","getCoordinateSystemDimensions","getDimensionsInfo","dimensions","slice","locale_2","registerLocale","registerLayout","layoutTask","registerVisual","visualTask","targetList","fn","defaultPriority","isNaN","wrap","__raw","stageHandler","wrapStageHandler","registerLoading","loadingFx","extendComponentModel","proto","extendComponentView","extendSeriesModel","extendChartView","setCanvasCreator","creator","$override","registerMap","mapName","geoJson","specialAreas","getMap","records","retrieveMap","geoJSON","registerTransform","registerExternalTransform","seriesStyleTask","dataStyleTask","dataColorPaletteTask","seriesSymbolTask","dataSymbolTask","HIGHLIGHT_ACTION_TYPE","noop","DOWNPLAY_ACTION_TYPE","SELECT_ACTION_TYPE","UNSELECT_ACTION_TYPE","TOGGLE_SELECT_ACTION_TYPE","dataTool"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n\"use strict\";\n\nvar tslib_1 = require(\"tslib\");\n\nvar zrender = require(\"zrender/lib/zrender\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar colorTool = require(\"zrender/lib/tool/color\");\n\nvar env_1 = require(\"zrender/lib/core/env\");\n\nvar timsort_1 = require(\"zrender/lib/core/timsort\");\n\nvar Eventful_1 = require(\"zrender/lib/core/Eventful\");\n\nvar Global_1 = require(\"./model/Global\");\n\nvar ExtensionAPI_1 = require(\"./ExtensionAPI\");\n\nvar CoordinateSystem_1 = require(\"./CoordinateSystem\");\n\nvar OptionManager_1 = require(\"./model/OptionManager\");\n\nvar backwardCompat_1 = require(\"./preprocessor/backwardCompat\");\n\nvar dataStack_1 = require(\"./processor/dataStack\");\n\nvar Component_1 = require(\"./model/Component\");\n\nvar Series_1 = require(\"./model/Series\");\n\nvar Component_2 = require(\"./view/Component\");\n\nvar Chart_1 = require(\"./view/Chart\");\n\nvar graphic = require(\"./util/graphic\");\n\nvar innerStore_1 = require(\"./util/innerStore\");\n\nvar states_1 = require(\"./util/states\");\n\nvar modelUtil = require(\"./util/model\");\n\nvar throttle_1 = require(\"./util/throttle\");\n\nvar style_1 = require(\"./visual/style\");\n\nvar default_1 = require(\"./loading/default\");\n\nvar Scheduler_1 = require(\"./stream/Scheduler\");\n\nvar light_1 = require(\"./theme/light\");\n\nvar dark_1 = require(\"./theme/dark\");\n\nrequire(\"./component/dataset\");\n\nvar mapDataStorage_1 = require(\"./coord/geo/mapDataStorage\");\n\nvar clazz_1 = require(\"./util/clazz\");\n\nvar ECEventProcessor_1 = require(\"./util/ECEventProcessor\");\n\nvar symbol_1 = require(\"./visual/symbol\");\n\nvar helper_1 = require(\"./visual/helper\");\n\nvar LabelManager_1 = require(\"./label/LabelManager\");\n\nvar log_1 = require(\"./util/log\");\n\nvar dataSelectAction_1 = require(\"./legacy/dataSelectAction\");\n\nrequire(\"zrender/lib/canvas/canvas\");\n\nvar transform_1 = require(\"./data/helper/transform\");\n\nvar locale_1 = require(\"./locale\");\n\nvar event_1 = require(\"./util/event\");\n\nvar decal_1 = require(\"./visual/decal\");\n\nvar assert = zrUtil.assert;\nvar each = zrUtil.each;\nvar isFunction = zrUtil.isFunction;\nvar isObject = zrUtil.isObject;\nexports.version = '5.0.0';\nexports.dependencies = {\n  zrender: '5.0.1'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800;\nvar PRIORITY_PROCESSOR_DATASTACK = 900;\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000;\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500;\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexports.PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n};\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\nvar OPTION_UPDATED_KEY = '__optionUpdated';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\n\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful_1[\"default\"].prototype[method].apply(host, args);\n}\n\nvar MessageCenter = function (_super) {\n  tslib_1.__extends(MessageCenter, _super);\n\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return MessageCenter;\n}(Eventful_1[\"default\"]);\n\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off');\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar clearColorPalette;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar performPostUpdateFuncs;\nvar createExtensionAPI;\nvar enableConnect;\nvar setTransitionOpt;\nvar markStatusToUpdate;\nvar applyChangedStates;\n\nvar ECharts = function (_super) {\n  tslib_1.__extends(ECharts, _super);\n\n  function ECharts(dom, theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor_1.ECEventProcessor()) || this;\n\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {};\n    _this._pendingActions = [];\n    opts = opts || {};\n\n    if (typeof theme === 'string') {\n      theme = themeStorage[theme];\n    }\n\n    _this._dom = dom;\n    var root = typeof window === 'undefined' ? global : window;\n    var defaultRenderer = 'canvas';\n    var defaultUseDirtyRect = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      defaultRenderer = root.__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;\n      var devUseDirtyRect = root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;\n      defaultUseDirtyRect = devUseDirtyRect == null ? defaultUseDirtyRect : devUseDirtyRect;\n    }\n\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      useDirtyRect: opts.useDirtyRect == null ? defaultUseDirtyRect : opts.useDirtyRect\n    });\n    _this._throttledZrFlush = throttle_1.throttle(zrUtil.bind(zr.flush, zr), 17);\n    theme = zrUtil.clone(theme);\n    theme && backwardCompat_1[\"default\"](theme, true);\n    _this._theme = theme;\n    _this._locale = locale_1.createLocaleObject(opts.locale || locale_1.SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystem_1[\"default\"]();\n    var api = _this._api = createExtensionAPI(_this);\n\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n\n    timsort_1[\"default\"](visualFuncs, prioritySortFunc);\n    timsort_1[\"default\"](dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler_1[\"default\"](_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter();\n    _this._labelManager = new LabelManager_1[\"default\"]();\n\n    _this._initEvents();\n\n    _this.resize = zrUtil.bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this);\n    zrUtil.setAsPrimitive(_this);\n    return _this;\n  }\n\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    applyChangedStates(this);\n    var scheduler = this._scheduler;\n\n    if (this[OPTION_UPDATED_KEY]) {\n      var silent = this[OPTION_UPDATED_KEY].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n      prepare(this);\n      updateMethods.update.call(this);\n\n      this._zr.flush();\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[OPTION_UPDATED_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } else if (scheduler.unfinished) {\n      var remainTime = TEST_FRAME_REMAIN_TIME;\n      var ecModel = this._model;\n      var api = this._api;\n      scheduler.unfinished = false;\n\n      do {\n        var startTime = +new Date();\n        scheduler.performSeriesTasks(ecModel);\n        scheduler.performDataProcessorTasks(ecModel);\n        updateStreamModes(this, ecModel);\n        scheduler.performVisualTasks(ecModel);\n        renderSeries(this, this._model, api, 'remain');\n        remainTime -= +new Date() - startTime;\n      } while (remainTime > 0 && scheduler.unfinished);\n\n      if (!scheduler.unfinished) {\n        this._zr.flush();\n      }\n    }\n  };\n\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`setOption` should not be called during main process.');\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS_KEY] = true;\n\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager_1[\"default\"](this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new Global_1[\"default\"]();\n      ecModel.scheduler = this._scheduler;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n\n    setTransitionOpt(this, transitionOpt);\n\n    if (lazyUpdate) {\n      this[OPTION_UPDATED_KEY] = {\n        silent: silent\n      };\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this.getZr().wakeUp();\n    } else {\n      prepare(this);\n      updateMethods.update.call(this);\n\n      this._zr.flush();\n\n      this[OPTION_UPDATED_KEY] = false;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n\n  ECharts.prototype.setTheme = function () {\n    console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr || window.devicePixelRatio || 1;\n  };\n\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (!env_1[\"default\"].canvasSupported) {\n      return;\n    }\n\n    opts = zrUtil.extend({}, opts || {});\n    opts.pixelRatio = opts.pixelRatio || 1;\n    opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n    var zr = this._zr;\n    return zr.painter.getRenderedCanvas(opts);\n  };\n\n  ECharts.prototype.getSvgDataURL = function () {\n    if (!env_1[\"default\"].svgSupported) {\n      return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    zrUtil.each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!env_1[\"default\"].canvasSupported) {\n      return;\n    }\n\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || 1;\n      zrUtil.each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.getRenderedCanvas(zrUtil.clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = zrUtil.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n\n  ECharts.prototype.convertToPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertToPixel', finder, value);\n  };\n\n  ECharts.prototype.convertFromPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\n  };\n\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    zrUtil.each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && zrUtil.each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              console.warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        console.warn('There is no specified seires model');\n      }\n    }\n\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? helper_1.getItemVisualFromData(data, dataIndexInside, visualType) : helper_1.getVisualFromData(data, visualType);\n  };\n\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout';\n\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && event_1.findEventDispatcher(el, function (parent) {\n            var ecData = innerStore_1.getECData(parent);\n\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType) || {};\n              return true;\n            } else if (ecData.eventData) {\n              params = zrUtil.extend({}, ecData.eventData);\n              return true;\n            }\n          }, true);\n        }\n\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex;\n\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n\n          if (process.env.NODE_ENV !== 'production') {\n            if (!isGlobalOut && !(model && view)) {\n              console.warn('model or view can not be found by params');\n            }\n          }\n\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n\n          _this.trigger(eveName, params);\n        }\n      };\n\n      handler.zrEventfulCallAtLast = true;\n\n      _this._zr.on(eveName, handler, _this);\n    });\n    each(eventActionMap, function (actionType, eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    each(['selectchanged'], function (eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    dataSelectAction_1.handleLegacySelectEvents(this._messageCenter, this, this._model);\n  };\n\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this.setOption({\n      series: []\n    }, true);\n  };\n\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._disposed = true;\n    modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    var api = this._api;\n    var ecModel = this._model;\n    each(this._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(this._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    });\n\n    this._zr.dispose();\n\n    delete instances[this.id];\n  };\n\n  ECharts.prototype.resize = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this[IN_MAIN_PROCESS_KEY], '`resize` should not be called during main process.');\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._zr.resize(opts);\n\n    var ecModel = this._model;\n    this._loadingFX && this._loadingFX.resize();\n\n    if (!ecModel) {\n      return;\n    }\n\n    var optionChanged = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    this[IN_MAIN_PROCESS_KEY] = true;\n    optionChanged && prepare(this);\n    updateMethods.update.call(this, {\n      type: 'resize',\n      animation: {\n        duration: 0\n      }\n    });\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n\n    name = name || 'default';\n    this.hideLoading();\n\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Loading effects ' + name + ' not exists.');\n      }\n\n      return;\n    }\n\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = zrUtil.extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n\n    if (!actions[payload.type]) {\n      return;\n    }\n\n    if (!this._model) {\n      return;\n    }\n\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n\n      return;\n    }\n\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env_1[\"default\"].browser.weChat) {\n      this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.updateLabelLayout = function () {\n    var labelManager = this._labelManager;\n    labelManager.updateLayoutConfig(this._api);\n    labelManager.layout(this._api);\n    labelManager.processLabelsOverall();\n  };\n\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n\n    seriesModel.appendData(params);\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  };\n\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n\n      function doPrepare(model) {\n        var requireNewView = model.__requireNewView;\n        model.__requireNewView = false;\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n\n        if (!view) {\n          var classType = clazz_1.parseClassType(model.type);\n          var Clazz = isComponent ? Component_2[\"default\"].getClass(classType.main, classType.sub) : Chart_1[\"default\"].getClass(classType.sub);\n\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload);\n\n      if (!mainType) {\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType);\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = zrUtil.createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      }\n\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        if (!excludeSeriesIdMap || excludeSeriesIdMap.get(model.id) == null) {\n          if (states_1.isHighDownPayload(payload) && !payload.notBlur) {\n            if (model instanceof Series_1[\"default\"]) {\n              states_1.toggleSeriesBlurStateFromPayload(model, payload, ecIns._api);\n            }\n          } else if (states_1.isSelectChangePayload(payload)) {\n            if (model instanceof Series_1[\"default\"]) {\n              states_1.toggleSelectionFromPayload(model, payload, ecIns._api);\n              states_1.updateSeriesElementSelection(model);\n              markStatusToUpdate(ecIns);\n            }\n          }\n\n          callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n        }\n      }, ecIns);\n\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload);\n      },\n      update: function (payload) {\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel);\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload);\n        updateStreamModes(this, ecModel);\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        render(this, ecModel, api, payload);\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        var darkMode = ecModel.get('darkMode');\n\n        if (!env_1[\"default\"].canvasSupported) {\n          var colorArr = colorTool.parse(backgroundColor);\n          backgroundColor = colorTool.stringify(colorArr, 'rgb');\n\n          if (colorArr[3] === 0) {\n            backgroundColor = 'transparent';\n          }\n        } else {\n          zr.setBackgroundColor(backgroundColor);\n\n          if (darkMode != null && darkMode !== 'auto') {\n            zr.setDarkMode(darkMode);\n          }\n        }\n\n        performPostUpdateFuncs(ecModel, api);\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n\n        var ecModel = this._model;\n        var api = this._api;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n\n          var componentView = _this.getViewOfComponentModel(componentModel);\n\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = zrUtil.createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        });\n\n        renderSeries(this, ecModel, api, payload, seriesDirtyMap);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        Chart_1[\"default\"].markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n\n        render(this, this._model, this._api, payload);\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        var _this = this;\n\n        var ecModel = this._model;\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        });\n        Chart_1[\"default\"].markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        performPostUpdateFuncs(ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n\n    doConvertPixel = function (ecIns, methodName, finder, value) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n\n      var ecModel = ecIns._model;\n\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\n          return result;\n        }\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    };\n\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionWrap = actions[payloadType];\n      var actionInfo = actionWrap.actionInfo;\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && clazz_1.parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      var payloads = [payload];\n      var batched = false;\n\n      if (payload.batch) {\n        batched = true;\n        payloads = zrUtil.map(payload.batch, function (item) {\n          item = zrUtil.defaults(zrUtil.extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n\n      var eventObjBatch = [];\n      var eventObj;\n      var isSelectChange = states_1.isSelectChangePayload(payload);\n      var isStatusChange = states_1.isHighDownPayload(payload) || isSelectChange;\n      each(payloads, function (batchItem) {\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api);\n        eventObj = eventObj || zrUtil.extend({}, batchItem);\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj);\n\n        if (isStatusChange) {\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n\n      if (updateMethod !== 'none' && !isStatusChange && !cptType) {\n        if (this[OPTION_UPDATED_KEY]) {\n          prepare(this);\n          updateMethods.update.call(this, payload);\n          this[OPTION_UPDATED_KEY] = false;\n        } else {\n          updateMethods[updateMethod].call(this, payload);\n        }\n      }\n\n      if (batched) {\n        eventObj = {\n          type: actionInfo.event || payloadType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n\n      if (!silent) {\n        var messageCenter = this._messageCenter;\n        messageCenter.trigger(eventObj.type, eventObj);\n\n        if (isSelectChange) {\n          var newObj = {\n            type: 'selectchanged',\n            escapeConnect: escapeConnect,\n            selected: states_1.getAllSelectedIndices(ecModel),\n            isFromClick: payload.isFromClick || false,\n            fromAction: payload.type,\n            fromActionPayload: payload\n          };\n          messageCenter.trigger(newObj.type, newObj);\n        }\n      }\n    };\n\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params);\n\n        if (zr.animation.isFinished() && !ecIns[OPTION_UPDATED_KEY] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, states_1.isHighDownDispatcher);\n\n        if (dispatcher) {\n          var ecData = innerStore_1.getECData(dispatcher);\n          states_1.toggleSeriesBlurState(ecData.seriesIndex, ecData.focus, ecData.blurScope, ecIns._api, true);\n          states_1.enterEmphasisWhenMouseOver(dispatcher, e);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, states_1.isHighDownDispatcher);\n\n        if (dispatcher) {\n          var ecData = innerStore_1.getECData(dispatcher);\n          states_1.toggleSeriesBlurState(ecData.seriesIndex, ecData.focus, ecData.blurScope, ecIns._api, false);\n          states_1.leaveEmphasisWhenMouseOut(dispatcher, e);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = event_1.findEventDispatcher(el, function (target) {\n          return innerStore_1.getECData(target).dataIndex != null;\n        }, true);\n\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = innerStore_1.getECData(dispatcher);\n\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n\n    clearColorPalette = function (ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    };\n\n    render = function (ecIns, ecModel, api, payload) {\n      renderComponents(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload);\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n\n    renderComponents = function (ecIns, ecModel, api, payload, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n\n    renderSeries = function (ecIns, ecModel, api, payload, dirtyMap) {\n      var scheduler = ecIns._scheduler;\n      var labelManager = ecIns._labelManager;\n      labelManager.clearLabels();\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload);\n        clearStates(seriesModel, chartView);\n\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n\n        seriesModel.__transientTransitionOpt = null;\n        chartView.group.silent = !!seriesModel.get('silent');\n        updateBlend(seriesModel, chartView);\n        states_1.updateSeriesElementSelection(seriesModel);\n        labelManager.addLabelsOfSeries(chartView);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      labelManager.updateLayoutConfig(api);\n      labelManager.layout(api);\n      labelManager.processLabelsOverall();\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        updateZ(seriesModel, chartView);\n        updateStates(seriesModel, chartView);\n      });\n      updateHoverLayerStatus(ecIns, ecModel);\n    };\n\n    performPostUpdateFuncs = function (ecModel, api) {\n      each(postUpdateFuncs, function (func) {\n        func(ecModel, api);\n      });\n    };\n\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true;\n      ecIns.getZr().wakeUp();\n    };\n\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n\n      ecIns.getZr().storage.traverse(function (el) {\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates;\n\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      }\n\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n\n      if (el.hoverState === states_1.HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === states_1.HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n\n      el.useStates(newStates);\n    }\n\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env_1[\"default\"].node && !env_1[\"default\"].worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n          if (chartView.__alive) {\n            chartView.group.traverse(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n\n    ;\n\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!env_1[\"default\"].canvasSupported && blendMode && blendMode !== 'source-over') {\n          console.warn('Only canvas support blendMode');\n        }\n      }\n\n      chartView.group.traverse(function (el) {\n        if (!el.isGroup) {\n          el.style.blend = blendMode;\n        }\n\n        if (el.eachPendingDisplayable) {\n          el.eachPendingDisplayable(function (displayable) {\n            displayable.style.blend = blendMode;\n          });\n        }\n      });\n    }\n\n    ;\n\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      }\n\n      var z = model.get('z');\n      var zlevel = model.get('zlevel');\n      view.group.traverse(function (el) {\n        if (!el.isGroup) {\n          z != null && (el.z = z);\n          zlevel != null && (el.zlevel = zlevel);\n          var label = el.getTextContent();\n          var labelLine = el.getTextGuideLine();\n\n          if (label) {\n            label.z = el.z;\n            label.zlevel = el.zlevel;\n            label.z2 = el.z2 + 2;\n          }\n\n          if (labelLine) {\n            var showAbove = el.textGuideLineConfig && el.textGuideLineConfig.showAbove;\n            labelLine.z = el.z;\n            labelLine.zlevel = el.zlevel;\n            labelLine.z2 = el.z2 + (showAbove ? 1 : -1);\n          }\n        }\n      });\n    }\n\n    ;\n\n    function clearStates(model, view) {\n      view.group.traverse(function (el) {\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        }\n\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing')\n      } : null;\n      view.group.traverse(function (el) {\n        if (el.states && el.states.emphasis) {\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n\n          if (el instanceof graphic.Path) {\n            states_1.savePathStates(el);\n          }\n\n          if (el.__dirty) {\n            var prevStates = el.prevStates;\n\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          }\n\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine();\n\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          }\n\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n\n    ;\n\n    createExtensionAPI = function (ecIns) {\n      return new (function (_super) {\n        tslib_1.__extends(class_1, _super);\n\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n\n            el = el.parent;\n          }\n        };\n\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          states_1.enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          states_1.leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterBlur = function (el) {\n          states_1.enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveBlur = function (el) {\n          states_1.leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterSelect = function (el) {\n          states_1.enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveSelect = function (el) {\n          states_1.leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n\n        return class_1;\n      }(ExtensionAPI_1[\"default\"]))(ecIns);\n    };\n\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n\n      each(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n\n    setTransitionOpt = function (chart, transitionOpt) {\n      var ecModel = chart._model;\n      zrUtil.each(modelUtil.normalizeToArray(transitionOpt), function (transOpt) {\n        var errMsg;\n        var fromOpt = transOpt.from;\n        var toOpt = transOpt.to;\n\n        if (toOpt == null) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.to` must be specified.';\n          }\n\n          log_1.throwError(errMsg);\n        }\n\n        var finderOpt = {\n          includeMainTypes: ['series'],\n          enableAll: false,\n          enableNone: false\n        };\n        var fromResult = fromOpt ? modelUtil.parseFinder(ecModel, fromOpt, finderOpt) : null;\n        var toResult = modelUtil.parseFinder(ecModel, toOpt, finderOpt);\n        var toSeries = toResult.seriesModel;\n\n        if (toSeries == null) {\n          errMsg = '';\n\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition` is only supported on series.';\n          }\n        }\n\n        if (fromResult && fromResult.seriesModel !== toSeries) {\n          errMsg = '';\n\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg = '`transition.from` and `transition.to` must be specified to the same series.';\n          }\n        }\n\n        if (errMsg != null) {\n          log_1.throwError(errMsg);\n        }\n\n        toSeries.__transientTransitionOpt = {\n          from: fromOpt ? fromOpt.dimension : null,\n          to: toOpt.dimension,\n          dividingMethod: transOpt.dividingMethod\n        };\n      });\n    };\n  }();\n\n  return ECharts;\n}(Eventful_1[\"default\"]);\n\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\n\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  log_1.deprecateLog('ECharts#one is deprecated.');\n\n  function wrapped() {\n    var args2 = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n\n    cb && cb.apply && cb.apply(this, args2);\n    self.off(eventName, wrapped);\n  }\n\n  ;\n  this.on.call(this, eventName, wrapped, ctx);\n};\n\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn('Instance ' + id + ' has been disposed');\n  }\n}\n\nvar actions = {};\nvar eventActionMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar postInitFuncs = [];\nvar postUpdateFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n\nfunction init(dom, theme, opts) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!dom) {\n      throw new Error('Initialize failed: invalid dom.');\n    }\n  }\n\n  var existInstance = getInstanceByDom(dom);\n\n  if (existInstance) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('There is a chart instance already initialized on the dom.');\n    }\n\n    return existInstance;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (zrUtil.isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n      console.warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n    }\n  }\n\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  each(postInitFuncs, function (postInitFunc) {\n    postInitFunc(chart);\n  });\n  return chart;\n}\n\nexports.init = init;\n\nfunction connect(groupId) {\n  if (zrUtil.isArray(groupId)) {\n    var charts = groupId;\n    groupId = null;\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n\n  connectedGroups[groupId] = true;\n  return groupId;\n}\n\nexports.connect = connect;\n\nfunction disConnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n\nexports.disConnect = disConnect;\nexports.disconnect = disConnect;\n\nfunction dispose(chart) {\n  if (typeof chart === 'string') {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    chart = getInstanceByDom(chart);\n  }\n\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\n\nexports.dispose = dispose;\n\nfunction getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\n\nexports.getInstanceByDom = getInstanceByDom;\n\nfunction getInstanceById(key) {\n  return instances[key];\n}\n\nexports.getInstanceById = getInstanceById;\n\nfunction registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n\nexports.registerTheme = registerTheme;\n\nfunction registerPreprocessor(preprocessorFunc) {\n  optionPreprocessorFuncs.push(preprocessorFunc);\n}\n\nexports.registerPreprocessor = registerPreprocessor;\n\nfunction registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\n\nexports.registerProcessor = registerProcessor;\n\nfunction registerPostInit(postInitFunc) {\n  postInitFunc && postInitFuncs.push(postInitFunc);\n}\n\nexports.registerPostInit = registerPostInit;\n\nfunction registerPostUpdate(postUpdateFunc) {\n  postUpdateFunc && postUpdateFuncs.push(postUpdateFunc);\n}\n\nexports.registerPostUpdate = registerPostUpdate;\n\nfunction registerAction(actionInfo, eventName, action) {\n  if (typeof eventName === 'function') {\n    action = eventName;\n    eventName = '';\n  }\n\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0];\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event;\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n\n  eventActionMap[eventName] = actionType;\n}\n\nexports.registerAction = registerAction;\n\nfunction registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystem_1[\"default\"].register(type, coordSysCreator);\n}\n\nexports.registerCoordinateSystem = registerCoordinateSystem;\n\nfunction getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystem_1[\"default\"].get(type);\n\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\n\nexports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\n\nvar locale_2 = require(\"./locale\");\n\nexports.registerLocale = locale_2.registerLocale;\n\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\n\nexports.registerLayout = registerLayout;\n\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\n\nexports.registerVisual = registerVisual;\n\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    }\n\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  }\n\n  var stageHandler = Scheduler_1[\"default\"].wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\n\nfunction registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n\nexports.registerLoading = registerLoading;\n\nfunction extendComponentModel(proto) {\n  return Component_1[\"default\"].extend(proto);\n}\n\nexports.extendComponentModel = extendComponentModel;\n\nfunction extendComponentView(proto) {\n  return Component_2[\"default\"].extend(proto);\n}\n\nexports.extendComponentView = extendComponentView;\n\nfunction extendSeriesModel(proto) {\n  return Series_1[\"default\"].extend(proto);\n}\n\nexports.extendSeriesModel = extendSeriesModel;\n\nfunction extendChartView(proto) {\n  return Chart_1[\"default\"].extend(proto);\n}\n\nexports.extendChartView = extendChartView;\n\nfunction setCanvasCreator(creator) {\n  zrUtil.$override('createCanvas', creator);\n}\n\nexports.setCanvasCreator = setCanvasCreator;\n\nfunction registerMap(mapName, geoJson, specialAreas) {\n  mapDataStorage_1[\"default\"].registerMap(mapName, geoJson, specialAreas);\n}\n\nexports.registerMap = registerMap;\n\nfunction getMap(mapName) {\n  var records = mapDataStorage_1[\"default\"].retrieveMap(mapName);\n  return records && records[0] && {\n    geoJson: records[0].geoJSON,\n    specialAreas: records[0].specialAreas\n  };\n}\n\nexports.getMap = getMap;\nexports.registerTransform = transform_1.registerExternalTransform;\nregisterVisual(PRIORITY_VISUAL_GLOBAL, style_1.seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, style_1.dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, style_1.dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, symbol_1.seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, symbol_1.dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal_1[\"default\"]);\nregisterPreprocessor(backwardCompat_1[\"default\"]);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack_1[\"default\"]);\nregisterLoading('default', default_1[\"default\"]);\nregisterAction({\n  type: states_1.HIGHLIGHT_ACTION_TYPE,\n  event: states_1.HIGHLIGHT_ACTION_TYPE,\n  update: states_1.HIGHLIGHT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.DOWNPLAY_ACTION_TYPE,\n  event: states_1.DOWNPLAY_ACTION_TYPE,\n  update: states_1.DOWNPLAY_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.SELECT_ACTION_TYPE,\n  event: states_1.SELECT_ACTION_TYPE,\n  update: states_1.SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.UNSELECT_ACTION_TYPE,\n  event: states_1.UNSELECT_ACTION_TYPE,\n  update: states_1.UNSELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterAction({\n  type: states_1.TOGGLE_SELECT_ACTION_TYPE,\n  event: states_1.TOGGLE_SELECT_ACTION_TYPE,\n  update: states_1.TOGGLE_SELECT_ACTION_TYPE\n}, zrUtil.noop);\nregisterTheme('light', light_1[\"default\"]);\nregisterTheme('dark', dark_1[\"default\"]);\nexports.dataTool = {};"]},"metadata":{},"sourceType":"script"}
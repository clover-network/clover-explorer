"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),o=require("@reach/portal"),n=require("@reach/utils"),r=require("react-focus-lock"),t=require("react-remove-scroll");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("prop-types");var i=a(e),u=a(o),l=a(r);function c(e,o){if(null==e)return{};var n,r,t={},a=Object.keys(e);for(r=0;r<a.length;r++)o.indexOf(n=a[r])>=0||(t[n]=e[n]);return t}var s=e.forwardRef((function(o,r){var t=o.isOpen,a=void 0===t||t,l=c(o,["isOpen"]);return e.useEffect((function(){return n.checkStyles("dialog")}),[]),e.useEffect((function(){a?window.__REACH_DISABLE_TOOLTIPS=!0:window.requestAnimationFrame((function(){window.__REACH_DISABLE_TOOLTIPS=!1}))}),[a]),a?i.default.createElement(u.default,{"data-reach-dialog-wrapper":""},i.default.createElement(f,Object.assign({ref:r},l))):null})),f=e.forwardRef((function(o,r){var a=o.allowPinchZoom,u=o.dangerouslyBypassFocusLock,s=void 0!==u&&u,f=o.dangerouslyBypassScrollLock,d=void 0!==f&&f,p=o.initialFocusRef,v=o.onClick,m=o.onDismiss,w=void 0===m?n.noop:m,g=o.onKeyDown,y=o.onMouseDown,E=o.unstable_lockFocusAcrossFrames,h=void 0===E||E,b=c(o,["allowPinchZoom","dangerouslyBypassFocusLock","dangerouslyBypassScrollLock","initialFocusRef","onClick","onDismiss","onKeyDown","onMouseDown","unstable_lockFocusAcrossFrames"]),k=e.useRef(null),D=e.useRef(null),O=n.useForkedRef(D,r),F=e.useCallback((function(){p&&p.current&&p.current.focus()}),[p]);return e.useEffect((function(){return D.current?(o=[],r=[],t=n.getOwnerDocument(e=D.current)||document,e?(Array.prototype.forEach.call(t.querySelectorAll("body > *"),(function(n){var t,a;if(n!==(null===(t=e.parentNode)||void 0===t||null===(a=t.parentNode)||void 0===a?void 0:a.parentNode)){var i=n.getAttribute("aria-hidden");null!==i&&"false"!==i||(o.push(i),r.push(n),n.setAttribute("aria-hidden","true"))}})),function(){r.forEach((function(e,n){var r=o[n];null===r?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r)}))}):n.noop):void 0;var e,o,r,t}),[]),i.default.createElement(l.default,{autoFocus:!0,returnFocus:!0,onActivation:F,disabled:s,crossFrame:h},i.default.createElement(t.RemoveScroll,{allowPinchZoom:a,enabled:!d},i.default.createElement("div",Object.assign({},b,{ref:O,"data-reach-dialog-overlay":"",onClick:n.wrapEvent(v,(function(e){k.current===e.target&&(e.stopPropagation(),w(e))})),onKeyDown:n.wrapEvent(g,(function(e){"Escape"===e.key&&(e.stopPropagation(),w(e))})),onMouseDown:n.wrapEvent(y,(function(e){k.current=e.target}))}))))})),d=e.forwardRef((function(e,o){var r=e.onClick,t=c(e,["onClick","onKeyDown"]);return i.default.createElement("div",Object.assign({"aria-modal":"true",role:"dialog",tabIndex:-1},t,{ref:o,"data-reach-dialog-content":"",onClick:n.wrapEvent(r,(function(e){e.stopPropagation()}))}))})),p=e.forwardRef((function(e,o){var r=e.allowPinchZoom,t=void 0!==r&&r,a=e.initialFocusRef,u=e.isOpen,l=e.onDismiss,f=void 0===l?n.noop:l,p=c(e,["allowPinchZoom","initialFocusRef","isOpen","onDismiss"]);return i.default.createElement(s,{allowPinchZoom:t,initialFocusRef:a,isOpen:u,onDismiss:f},i.default.createElement(d,Object.assign({ref:o},p)))}));exports.Dialog=p,exports.DialogContent=d,exports.DialogOverlay=s,exports.default=p;
//# sourceMappingURL=dialog.cjs.production.min.js.map
